"use strict";(self.webpackChunkolx=self.webpackChunkolx||[]).push([[179],{6304:(ft,Se,L)=>{L.d(Se,{Dh:()=>Me,GT:()=>ge,cc:()=>Re,hO:()=>Fe,on:()=>H,pX:()=>ie,xv:()=>ye});var c=L(5879),B=L(7142),P=L(8186);ft=L.hmd(ft);const Q=["ngOnDestroy"],ie=(ke,vt,ut,te={})=>new Proxy(ke,{get:(Ce,se)=>ut.runOutsideAngular(()=>{var me;if(ke[se])return!(null===(me=te?.spy)||void 0===me)&&me.get&&te.spy.get(se,ke[se]),ke[se];if(Q.indexOf(se)>-1)return()=>{};const Oe=vt.toPromise().then(X=>{const nt=X&&X[se];return"function"==typeof nt?nt.bind(X):nt&&nt.then?nt.then(He=>ut.run(()=>He)):ut.run(()=>nt)});return new Proxy(()=>{},{get:(X,nt)=>Oe[nt],apply:(X,nt,He)=>Oe.then(Xt=>{var cr;const qr=Xt&&Xt(...He);return!(null===(cr=te?.spy)||void 0===cr)&&cr.apply&&te.spy.apply(se,He,qr),qr})})})}),ge=(ke,vt)=>{vt.forEach(ut=>{Object.getOwnPropertyNames(ut.prototype||ut).forEach(te=>{Object.defineProperty(ke.prototype,te,Object.getOwnPropertyDescriptor(ut.prototype||ut,te))})})};class we{constructor(vt){return vt}}const Me=new c.OlP("angularfire2.app.options"),ye=new c.OlP("angularfire2.app.name");function H(ke,vt,ut){const Ce="object"==typeof ut&&ut||{};Ce.name=Ce.name||"string"==typeof ut&&ut||"[DEFAULT]";const me=B.Z.apps.filter(Oe=>Oe&&Oe.name===Ce.name)[0]||vt.runOutsideAngular(()=>B.Z.initializeApp(ke,Ce));try{JSON.stringify(ke)!==JSON.stringify(me.options)&&G("error",`${me.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(me)}const G=(ke,...vt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ke](...vt)},ne={provide:we,useFactory:H,deps:[Me,c.R0b,[new c.FiY,ye]]};let Fe=(()=>{class ke{constructor(ut){B.Z.registerVersion("angularfire",P.q4.full,"core"),B.Z.registerVersion("angularfire",P.q4.full,"app-compat"),B.Z.registerVersion("angular",c.q4F.full,ut.toString())}static initializeApp(ut,te){return{ngModule:ke,providers:[{provide:Me,useValue:ut},{provide:ye,useValue:te}]}}}return ke.\u0275fac=function(ut){return new(ut||ke)(c.LFG(c.Lbi))},ke.\u0275mod=c.oAB({type:ke}),ke.\u0275inj=c.cJS({providers:[ne]}),ke})();function Re(ke,vt,ut,te,Ce){const[,se,me]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===ke)||[];if(se)return function Ze(ke,vt){try{return ke.toString()===vt.toString()}catch{return ke===vt}}(Ce,me)||(We("error",`${vt} was already initialized on the ${ut} Firebase App with different settings.${Ne?" You may need to reload as Firebase is not HMR aware.":""}`),We("warn",{is:Ce,was:me})),se;{const Oe=te();return globalThis.\u0275AngularfireInstanceCache.push([ke,Oe,Ce]),Oe}}const Ne=!!ft.hot,We=(ke,...vt)=>{(0,c.X6Q)()&&typeof console<"u"&&console[ke](...vt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},8186:(ft,Se,L)=>{L.d(Se,{q4:()=>po,iC:()=>Sl,HU:()=>au,vb:()=>Kf,JM:()=>ts,u3:()=>fn});var c=L(5879),B=L(3182),P=L(5861),Q=L(534),ie=L(9058),ge=L(4537),we=L(7879);const Me=(E,D)=>D.some(A=>E instanceof A);let ye,H;const Fe=new WeakMap,Re=new WeakMap,Ze=new WeakMap,Ne=new WeakMap,We=new WeakMap;let ut={get(E,D,A){if(E instanceof IDBTransaction){if("done"===D)return Re.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Ze.get(E);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return me(E[D])},set:(E,D,A)=>(E[D]=A,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function se(E){return"function"==typeof E?function Ce(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return H||(H=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Oe(this),D),me(Fe.get(this))}:function(...D){return me(E.apply(Oe(this),D))}:function(D,...A){const U=E.call(Oe(this),D,...A);return Ze.set(U,D.sort?D.sort():[D]),me(U)}}(E):(E instanceof IDBTransaction&&function vt(E){if(Re.has(E))return;const D=new Promise((A,U)=>{const q=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",fe),E.removeEventListener("abort",fe)},Y=()=>{A(),q()},fe=()=>{U(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",Y),E.addEventListener("error",fe),E.addEventListener("abort",fe)});Re.set(E,D)}(E),Me(E,function G(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,ut):E)}function me(E){if(E instanceof IDBRequest)return function ke(E){const D=new Promise((A,U)=>{const q=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",fe)},Y=()=>{A(me(E.result)),q()},fe=()=>{U(E.error),q()};E.addEventListener("success",Y),E.addEventListener("error",fe)});return D.then(A=>{A instanceof IDBCursor&&Fe.set(A,E)}).catch(()=>{}),We.set(D,E),D}(E);if(Ne.has(E))return Ne.get(E);const D=se(E);return D!==E&&(Ne.set(E,D),We.set(D,E)),D}const Oe=E=>We.get(E),He=["get","getKey","getAll","getAllKeys","count"],Xt=["put","add","delete","clear"],cr=new Map;function qr(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(cr.get(D))return cr.get(D);const A=D.replace(/FromIndex$/,""),U=D!==A,q=Xt.includes(A);if(!(A in(U?IDBIndex:IDBObjectStore).prototype)||!q&&!He.includes(A))return;const Y=function(){var fe=(0,P.Z)(function*(qe,...je){const ct=this.transaction(qe,q?"readwrite":"readonly");let At=ct.store;return U&&(At=At.index(je.shift())),(yield Promise.all([At[A](...je),q&&ct.done]))[0]});return function(je){return fe.apply(this,arguments)}}();return cr.set(D,Y),Y}!function te(E){ut=E(ut)}(E=>({...E,get:(D,A,U)=>qr(D,A)||E.get(D,A,U),has:(D,A)=>!!qr(D,A)||E.has(D,A)}));const ds="@firebase/installations",bn="0.6.4",Ni=1e4,As=`w:${bn}`,ce="FIS_v2",he="https://firebaseinstallations.googleapis.com/v1",Ie=36e5,Je=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function st(E){return E instanceof ie.ZR&&E.code.includes("request-failed")}function ln({projectId:E}){return`${he}/projects/${E}/installations`}function Dt(E){return{token:E.token,requestStatus:2,expiresIn:nr(E.expiresIn),creationTime:Date.now()}}function rn(E,D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,P.Z)(function*(E,D){const U=(yield D.json()).error;return Je.create("request-failed",{requestName:E,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function dn({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function Ln(E){return an.apply(this,arguments)}function an(){return(an=(0,P.Z)(function*(E){const D=yield E();return D.status>=500&&D.status<600?E():D})).apply(this,arguments)}function nr(E){return Number(E.replace("s","000"))}function Sr(){return(Sr=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},{fid:A}){const U=ln(E),q=dn(E),Y=D.getImmediate({optional:!0});if(Y){const ct=yield Y.getHeartbeatsHeader();ct&&q.append("x-firebase-client",ct)}const qe={method:"POST",headers:q,body:JSON.stringify({fid:A,authVersion:ce,appId:E.appId,sdkVersion:As})},je=yield Ln(()=>fetch(U,qe));if(je.ok){const ct=yield je.json();return{fid:ct.fid||A,registrationStatus:2,refreshToken:ct.refreshToken,authToken:Dt(ct.authToken)}}throw yield rn("Create Installation",je)})).apply(this,arguments)}function Bn(E){return new Promise(D=>{setTimeout(D,E)})}const hs=/^[cdef][\w-]{21}$/,Ke="";function lt(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const A=function bt(E){return function Zr(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return hs.test(A)?A:Ke}catch{return Ke}}function Yt(E){return`${E.appName}!${E.appId}`}const rr=new Map;function si(E,D){const A=Yt(E);fs(A,D),function yn(E,D){const A=function kt(){return!Lr&&"BroadcastChannel"in self&&(Lr=new BroadcastChannel("[Firebase] FID Change"),Lr.onmessage=E=>{fs(E.data.key,E.data.fid)}),Lr}();A&&A.postMessage({key:E,fid:D}),function Un(){0===rr.size&&Lr&&(Lr.close(),Lr=null)}()}(A,D)}function fs(E,D){const A=rr.get(E);if(A)for(const U of A)U(D)}let Lr=null;const Gi="firebase-installations-database",xs=1,Ar="firebase-installations-store";let jn=null;function Cn(){return jn||(jn=function X(E,D,{blocked:A,upgrade:U,blocking:q,terminated:Y}={}){const fe=indexedDB.open(E,D),qe=me(fe);return U&&fe.addEventListener("upgradeneeded",je=>{U(me(fe.result),je.oldVersion,je.newVersion,me(fe.transaction))}),A&&fe.addEventListener("blocked",()=>A()),qe.then(je=>{Y&&je.addEventListener("close",()=>Y()),q&&je.addEventListener("versionchange",()=>q())}).catch(()=>{}),qe}(Gi,xs,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Ar)}})),jn}function Jn(E,D){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,P.Z)(function*(E,D){const A=Yt(E),q=(yield Cn()).transaction(Ar,"readwrite"),Y=q.objectStore(Ar),fe=yield Y.get(A);return yield Y.put(D,A),yield q.done,(!fe||fe.fid!==D.fid)&&si(E,D.fid),D})).apply(this,arguments)}function ir(E){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(E){const D=Yt(E),U=(yield Cn()).transaction(Ar,"readwrite");yield U.objectStore(Ar).delete(D),yield U.done})).apply(this,arguments)}function Wr(E,D){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,P.Z)(function*(E,D){const A=Yt(E),q=(yield Cn()).transaction(Ar,"readwrite"),Y=q.objectStore(Ar),fe=yield Y.get(A),qe=D(fe);return void 0===qe?yield Y.delete(A):yield Y.put(qe,A),yield q.done,qe&&(!fe||fe.fid!==qe.fid)&&si(E,qe.fid),qe})).apply(this,arguments)}function z(E){return $.apply(this,arguments)}function $(){return $=(0,P.Z)(function*(E){let D;const A=yield Wr(E.appConfig,U=>{const q=function k(E){return yt(E||{fid:lt(),registrationStatus:0})}(U),Y=function F(E,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(Je.create("app-offline"))};const A={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},U=function N(E,D){return J.apply(this,arguments)}(E,A);return{installationEntry:A,registrationPromise:U}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Ee(E)}:{installationEntry:D}}(E,q);return D=Y.registrationPromise,Y.installationEntry});return A.fid===Ke?{installationEntry:yield D}:{installationEntry:A,registrationPromise:D}}),$.apply(this,arguments)}function J(){return J=(0,P.Z)(function*(E,D){try{const A=yield function zi(E,D){return Sr.apply(this,arguments)}(E,D);return Jn(E.appConfig,A)}catch(A){throw st(A)&&409===A.customData.serverCode?yield ir(E.appConfig):yield Jn(E.appConfig,{fid:D.fid,registrationStatus:0}),A}}),J.apply(this,arguments)}function Ee(E){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,P.Z)(function*(E){let D=yield wt(E.appConfig);for(;1===D.registrationStatus;)yield Bn(100),D=yield wt(E.appConfig);if(0===D.registrationStatus){const{installationEntry:A,registrationPromise:U}=yield z(E);return U||A}return D})).apply(this,arguments)}function wt(E){return Wr(E,D=>{if(!D)throw Je.create("installation-not-found");return yt(D)})}function yt(E){return function dt(E){return 1===E.registrationStatus&&E.registrationTime+Ni<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function vn(){return(vn=(0,P.Z)(function*({appConfig:E,heartbeatServiceProvider:D},A){const U=function Ut(E,{fid:D}){return`${ln(E)}/${D}/authTokens:generate`}(E,A),q=function Vn(E,{refreshToken:D}){const A=dn(E);return A.append("Authorization",function wi(E){return`${ce} ${E}`}(D)),A}(E,A),Y=D.getImmediate({optional:!0});if(Y){const ct=yield Y.getHeartbeatsHeader();ct&&q.append("x-firebase-client",ct)}const qe={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:As,appId:E.appId}})},je=yield Ln(()=>fetch(U,qe));if(je.ok)return Dt(yield je.json());throw yield rn("Generate Auth Token",je)})).apply(this,arguments)}function vr(E){return xr.apply(this,arguments)}function xr(){return xr=(0,P.Z)(function*(E,D=!1){let A;const U=yield Wr(E.appConfig,Y=>{if(!$t(Y))throw Je.create("not-registered");const fe=Y.authToken;if(!D&&function tn(E){return 2===E.requestStatus&&!function wr(E){const D=Date.now();return D<E.creationTime||E.creationTime+E.expiresIn<D+Ie}(E)}(fe))return Y;if(1===fe.requestStatus)return A=function pe(E,D){return re.apply(this,arguments)}(E,D),Y;{if(!navigator.onLine)throw Je.create("app-offline");const qe=function $n(E){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:D})}(Y);return A=function ht(E,D){return Mt.apply(this,arguments)}(E,qe),qe}});return A?yield A:U.authToken}),xr.apply(this,arguments)}function re(){return(re=(0,P.Z)(function*(E,D){let A=yield Le(E.appConfig);for(;1===A.authToken.requestStatus;)yield Bn(100),A=yield Le(E.appConfig);const U=A.authToken;return 0===U.requestStatus?vr(E,D):U})).apply(this,arguments)}function Le(E){return Wr(E,D=>{if(!$t(D))throw Je.create("not-registered");return function Ys(E){return 1===E.requestStatus&&E.requestTime+Ni<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function Mt(){return Mt=(0,P.Z)(function*(E,D){try{const A=yield function St(E,D){return vn.apply(this,arguments)}(E,D),U=Object.assign(Object.assign({},D),{authToken:A});return yield Jn(E.appConfig,U),A}catch(A){if(!st(A)||401!==A.customData.serverCode&&404!==A.customData.serverCode){const U=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Jn(E.appConfig,U)}else yield ir(E.appConfig);throw A}}),Mt.apply(this,arguments)}function $t(E){return void 0!==E&&2===E.registrationStatus}function Ha(){return(Ha=(0,P.Z)(function*(E){const D=E,{installationEntry:A,registrationPromise:U}=yield z(D);return U?U.catch(console.error):vr(D).catch(console.error),A.fid})).apply(this,arguments)}function oi(){return oi=(0,P.Z)(function*(E,D=!1){const A=E;return yield function Qs(E){return Ao.apply(this,arguments)}(A),(yield vr(A,D)).token}),oi.apply(this,arguments)}function Ao(){return(Ao=(0,P.Z)(function*(E){const{registrationPromise:D}=yield z(E);D&&(yield D)})).apply(this,arguments)}function ia(E){return Je.create("missing-app-config-values",{valueName:E})}const Wc="installations",za=E=>{const D=E.getProvider("app").getImmediate(),A=function bu(E){if(!E||!E.options)throw ia("App Configuration");if(!E.name)throw ia("App Name");const D=["projectId","apiKey","appId"];for(const A of D)if(!E.options[A])throw ia(A);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(D);return{app:D,appConfig:A,heartbeatServiceProvider:(0,Q._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ga=E=>{const D=E.getProvider("app").getImmediate(),A=(0,Q._getProvider)(D,Wc).getImmediate();return{getId:()=>function So(E){return Ha.apply(this,arguments)}(A),getToken:q=>function wd(E){return oi.apply(this,arguments)}(A,q)}};(function Id(){(0,Q._registerComponent)(new ge.wA(Wc,za,"PUBLIC")),(0,Q._registerComponent)(new ge.wA("installations-internal",Ga,"PRIVATE"))})(),(0,Q.registerVersion)(ds,bn),(0,Q.registerVersion)(ds,bn,"esm2017");const Cu="@firebase/remote-config",_n=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Wa{constructor(D,A,U,q){this.client=D,this.storage=A,this.storageCache=U,this.logger=q}isCachedDataFresh(D,A){if(!A)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-A,q=U<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${q}.`),q}fetch(D){var A=this;return(0,P.Z)(function*(){const[U,q]=yield Promise.all([A.storage.getLastSuccessfulFetchTimestampMillis(),A.storage.getLastSuccessfulFetchResponse()]);if(q&&A.isCachedDataFresh(D.cacheMaxAgeMillis,U))return q;D.eTag=q&&q.eTag;const Y=yield A.client.fetch(D),fe=[A.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Y.status&&fe.push(A.storage.setLastSuccessfulFetchResponse(Y)),yield Promise.all(fe),Y})()}}function Mo(E=navigator){return E.languages&&E.languages[0]||E.language}class Xs{constructor(D,A,U,q,Y,fe){this.firebaseInstallations=D,this.sdkVersion=A,this.namespace=U,this.projectId=q,this.apiKey=Y,this.appId=fe}fetch(D){var A=this;return(0,P.Z)(function*(){const[U,q]=yield Promise.all([A.firebaseInstallations.getId(),A.firebaseInstallations.getToken()]),fe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${A.projectId}/namespaces/${A.namespace}:fetch?key=${A.apiKey}`,qe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},je={sdk_version:A.sdkVersion,app_instance_id:U,app_instance_id_token:q,app_id:A.appId,language_code:Mo()},ct={method:"POST",headers:qe,body:JSON.stringify(je)},At=fetch(fe,ct),xt=new Promise((ns,rs)=>{D.signal.addEventListener(()=>{const wa=new Error("The operation was aborted.");wa.name="AbortError",rs(wa)})});let fr;try{yield Promise.race([At,xt]),fr=yield At}catch(ns){let rs="fetch-client-network";throw"AbortError"===ns?.name&&(rs="fetch-timeout"),_n.create(rs,{originalErrorMessage:ns?.message})}let or=fr.status;const bs=fr.headers.get("ETag")||void 0;let rc,Fs;if(200===fr.status){let ns;try{ns=yield fr.json()}catch(rs){throw _n.create("fetch-client-parse",{originalErrorMessage:rs?.message})}rc=ns.entries,Fs=ns.state}if("INSTANCE_STATE_UNSPECIFIED"===Fs?or=500:"NO_CHANGE"===Fs?or=304:("NO_TEMPLATE"===Fs||"EMPTY_CONFIG"===Fs)&&(rc={}),304!==or&&200!==or)throw _n.create("fetch-status",{httpStatus:or});return{status:or,eTag:bs,config:rc}})()}}class Ro{constructor(D,A){this.client=D,this.storage=A}fetch(D){var A=this;return(0,P.Z)(function*(){const U=(yield A.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return A.attemptFetch(D,U)})()}attemptFetch(D,{throttleEndTimeMillis:A,backoffCount:U}){var q=this;return(0,P.Z)(function*(){yield function On(E,D){return new Promise((A,U)=>{const q=Math.max(D-Date.now(),0),Y=setTimeout(A,q);E.addEventListener(()=>{clearTimeout(Y),U(_n.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,A);try{const Y=yield q.client.fetch(D);return yield q.storage.deleteThrottleMetadata(),Y}catch(Y){if(!function Su(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(Y))throw Y;const fe={throttleEndTimeMillis:Date.now()+(0,ie.$s)(U),backoffCount:U+1};return yield q.storage.setThrottleMetadata(fe),q.attemptFetch(D,fe)}})()}}class Au{constructor(D,A,U,q,Y){this.app=D,this._client=A,this._storageCache=U,this._storage=q,this._logger=Y,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rr(E,D){const A=E.target.error||void 0;return _n.create(D,{originalErrorMessage:A&&A?.message})}const Qr="app_namespace_store";class Mf{constructor(D,A,U,q=function sn(){return new Promise((E,D)=>{try{const A=indexedDB.open("firebase_remote_config",1);A.onerror=U=>{D(Rr(U,"storage-open"))},A.onsuccess=U=>{E(U.target.result)},A.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Qr,{keyPath:"compositeKey"})}}catch(A){D(_n.create("storage-open",{originalErrorMessage:A?.message}))}})}()){this.appId=D,this.appName=A,this.namespace=U,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var A=this;return(0,P.Z)(function*(){const U=yield A.openDbPromise;return new Promise((q,Y)=>{const qe=U.transaction([Qr],"readonly").objectStore(Qr),je=A.createCompositeKey(D);try{const ct=qe.get(je);ct.onerror=At=>{Y(Rr(At,"storage-get"))},ct.onsuccess=At=>{const xt=At.target.result;q(xt?xt.value:void 0)}}catch(ct){Y(_n.create("storage-get",{originalErrorMessage:ct?.message}))}})})()}set(D,A){var U=this;return(0,P.Z)(function*(){const q=yield U.openDbPromise;return new Promise((Y,fe)=>{const je=q.transaction([Qr],"readwrite").objectStore(Qr),ct=U.createCompositeKey(D);try{const At=je.put({compositeKey:ct,value:A});At.onerror=xt=>{fe(Rr(xt,"storage-set"))},At.onsuccess=()=>{Y()}}catch(At){fe(_n.create("storage-set",{originalErrorMessage:At?.message}))}})})()}delete(D){var A=this;return(0,P.Z)(function*(){const U=yield A.openDbPromise;return new Promise((q,Y)=>{const qe=U.transaction([Qr],"readwrite").objectStore(Qr),je=A.createCompositeKey(D);try{const ct=qe.delete(je);ct.onerror=At=>{Y(Rr(At,"storage-delete"))},ct.onsuccess=()=>{q()}}catch(ct){Y(_n.create("storage-delete",{originalErrorMessage:ct?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class ps{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,P.Z)(function*(){const A=D.storage.getLastFetchStatus(),U=D.storage.getLastSuccessfulFetchTimestampMillis(),q=D.storage.getActiveConfig(),Y=yield A;Y&&(D.lastFetchStatus=Y);const fe=yield U;fe&&(D.lastSuccessfulFetchTimestampMillis=fe);const qe=yield q;qe&&(D.activeConfig=qe)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function aa(){return ua.apply(this,arguments)}function ua(){return(ua=(0,P.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function No(){(0,Q._registerComponent)(new ge.wA("remote-config",function E(D,{instanceIdentifier:A}){const U=D.getProvider("app").getImmediate(),q=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw _n.create("registration-window");if(!(0,ie.hl)())throw _n.create("indexed-db-unavailable");const{projectId:Y,apiKey:fe,appId:qe}=U.options;if(!Y)throw _n.create("registration-project-id");if(!fe)throw _n.create("registration-api-key");if(!qe)throw _n.create("registration-app-id");const je=new Mf(qe,U.name,A=A||"firebase"),ct=new ps(je),At=new we.Yd(Cu);At.logLevel=we.in.ERROR;const xt=new Xs(q,Q.SDK_VERSION,A,Y,fe,qe),fr=new Ro(xt,je),or=new Wa(fr,je,ct,At),bs=new Au(U,or,ct,je,At);return function Pt(E){const D=(0,ie.m9)(E);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(bs),bs},"PUBLIC").setMultipleInstances(!0)),(0,Q.registerVersion)(Cu,"0.4.4"),(0,Q.registerVersion)(Cu,"0.4.4","esm2017")}();const Nr=(E,D)=>D.some(A=>E instanceof A);let Ka,Ur;const Ki=new WeakMap,eo=new WeakMap,Tn=new WeakMap,ca=new WeakMap,Dd=new WeakMap;let Jc={get(E,D,A){if(E instanceof IDBTransaction){if("done"===D)return eo.get(E);if("objectStoreNames"===D)return E.objectStoreNames||Tn.get(E);if("store"===D)return A.objectStoreNames[1]?void 0:A.objectStore(A.objectStoreNames[0])}return gs(E[D])},set:(E,D,A)=>(E[D]=A,!0),has:(E,D)=>E instanceof IDBTransaction&&("done"===D||"store"===D)||D in E};function Td(E){return"function"==typeof E?function em(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Kc(){return Ur||(Ur=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...D){return E.apply(Xc(this),D),gs(Ki.get(this))}:function(...D){return gs(E.apply(Xc(this),D))}:function(D,...A){const U=E.call(Xc(this),D,...A);return Tn.set(U,D.sort?D.sort():[D]),gs(U)}}(E):(E instanceof IDBTransaction&&function Qc(E){if(eo.has(E))return;const D=new Promise((A,U)=>{const q=()=>{E.removeEventListener("complete",Y),E.removeEventListener("error",fe),E.removeEventListener("abort",fe)},Y=()=>{A(),q()},fe=()=>{U(E.error||new DOMException("AbortError","AbortError")),q()};E.addEventListener("complete",Y),E.addEventListener("error",fe),E.addEventListener("abort",fe)});eo.set(E,D)}(E),Nr(E,function Vr(){return Ka||(Ka=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Jc):E)}function gs(E){if(E instanceof IDBRequest)return function Yc(E){const D=new Promise((A,U)=>{const q=()=>{E.removeEventListener("success",Y),E.removeEventListener("error",fe)},Y=()=>{A(gs(E.result)),q()},fe=()=>{U(E.error),q()};E.addEventListener("success",Y),E.addEventListener("error",fe)});return D.then(A=>{A instanceof IDBCursor&&Ki.set(A,E)}).catch(()=>{}),Dd.set(D,E),D}(E);if(ca.has(E))return ca.get(E);const D=Td(E);return D!==E&&(ca.set(E,D),Dd.set(D,E)),D}const Xc=E=>Dd.get(E);function el(E,D,{blocked:A,upgrade:U,blocking:q,terminated:Y}={}){const fe=indexedDB.open(E,D),qe=gs(fe);return U&&fe.addEventListener("upgradeneeded",je=>{U(gs(fe.result),je.oldVersion,je.newVersion,gs(fe.transaction))}),A&&fe.addEventListener("blocked",()=>A()),qe.then(je=>{Y&&je.addEventListener("close",()=>Y()),q&&je.addEventListener("versionchange",()=>q())}).catch(()=>{}),qe}function Mu(E,{blocked:D}={}){const A=indexedDB.deleteDatabase(E);return D&&A.addEventListener("blocked",()=>D()),gs(A).then(()=>{})}const Nf=["get","getKey","getAll","getAllKeys","count"],Sd=["put","add","delete","clear"],Ad=new Map;function xd(E,D){if(!(E instanceof IDBDatabase)||D in E||"string"!=typeof D)return;if(Ad.get(D))return Ad.get(D);const A=D.replace(/FromIndex$/,""),U=D!==A,q=Sd.includes(A);if(!(A in(U?IDBIndex:IDBObjectStore).prototype)||!q&&!Nf.includes(A))return;const Y=function(){var fe=(0,P.Z)(function*(qe,...je){const ct=this.transaction(qe,q?"readwrite":"readonly");let At=ct.store;return U&&(At=At.index(je.shift())),(yield Promise.all([At[A](...je),q&&ct.done]))[0]});return function(je){return fe.apply(this,arguments)}}();return Ad.set(D,Y),Y}!function Rf(E){Jc=E(Jc)}(E=>({...E,get:(D,A,U)=>xd(D,A)||E.get(D,A,U),has:(D,A)=>!!xd(D,A)||E.has(D,A)}));const tl="/firebase-messaging-sw.js",Md="/firebase-cloud-messaging-push-scope",Ru="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",nl="https://fcmregistrations.googleapis.com/v1",Pf="google.c.a.c_id",Hn="google.c.a.c_l",O_="google.c.a.ts";var no=(()=>((no=no||{}).PUSH_RECEIVED="push-received",no.NOTIFICATION_CLICKED="notification-clicked",no))();function ai(E){const D=new Uint8Array(E);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rl(E){const A=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(A),q=new Uint8Array(U.length);for(let Y=0;Y<U.length;++Y)q[Y]=U.charCodeAt(Y);return q}const Ya="fcm_token_details_db",Qa=5,Of="fcm_token_object_Store";function Nu(){return Nu=(0,P.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Y=>Y.name).includes(Ya))return null;let D=null;return(yield el(Ya,Qa,{upgrade:(U=(0,P.Z)(function*(q,Y,fe,qe){var je;if(Y<2||!q.objectStoreNames.contains(Of))return;const ct=qe.objectStore(Of),At=yield ct.index("fcmSenderId").get(E);if(yield ct.clear(),At)if(2===Y){const xt=At;if(!xt.auth||!xt.p256dh||!xt.endpoint)return;D={token:xt.fcmToken,createTime:null!==(je=xt.createTime)&&void 0!==je?je:Date.now(),subscriptionOptions:{auth:xt.auth,p256dh:xt.p256dh,endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:"string"==typeof xt.vapidKey?xt.vapidKey:ai(xt.vapidKey)}}}else if(3===Y){const xt=At;D={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:ai(xt.auth),p256dh:ai(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:ai(xt.vapidKey)}}}else if(4===Y){const xt=At;D={token:xt.fcmToken,createTime:xt.createTime,subscriptionOptions:{auth:ai(xt.auth),p256dh:ai(xt.p256dh),endpoint:xt.endpoint,swScope:xt.swScope,vapidKey:ai(xt.vapidKey)}}}}),function(Y,fe,qe,je){return U.apply(this,arguments)})})).close(),yield Mu(Ya),yield Mu("fcm_vapid_details_db"),yield Mu("undefined"),function Oi(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:D}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}(D)?D:null;var U}),Nu.apply(this,arguments)}const Pu="firebase-messaging-database",zn=1,Ii="firebase-messaging-store";let il=null;function Ou(){return il||(il=el(Pu,zn,{upgrade:(E,D)=>{0===D&&E.createObjectStore(Ii)}})),il}function Oo(E){return ko.apply(this,arguments)}function ko(){return ko=(0,P.Z)(function*(E){const D=Nd(E),U=yield(yield Ou()).transaction(Ii).objectStore(Ii).get(D);if(U)return U;{const q=yield function kf(E){return Nu.apply(this,arguments)}(E.appConfig.senderId);if(q)return yield ku(E,q),q}}),ko.apply(this,arguments)}function ku(E,D){return Ff.apply(this,arguments)}function Ff(){return(Ff=(0,P.Z)(function*(E,D){const A=Nd(E),q=(yield Ou()).transaction(Ii,"readwrite");return yield q.objectStore(Ii).put(D,A),yield q.done,D})).apply(this,arguments)}function ro(){return(ro=(0,P.Z)(function*(E){const D=Nd(E),U=(yield Ou()).transaction(Ii,"readwrite");yield U.objectStore(Ii).delete(D),yield U.done})).apply(this,arguments)}function Nd({appConfig:E}){return E.appId}const Ir=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function k_(E,D){return ol.apply(this,arguments)}function ol(){return(ol=(0,P.Z)(function*(E,D){const A=yield la(E),U=ul(D),q={method:"POST",headers:A,body:JSON.stringify(U)};let Y;try{Y=yield(yield fetch(Fu(E.appConfig),q)).json()}catch(fe){throw Ir.create("token-subscribe-failed",{errorInfo:fe?.toString()})}if(Y.error)throw Ir.create("token-subscribe-failed",{errorInfo:Y.error.message});if(!Y.token)throw Ir.create("token-subscribe-no-token");return Y.token})).apply(this,arguments)}function Ja(){return(Ja=(0,P.Z)(function*(E,D){const A=yield la(E),U=ul(D.subscriptionOptions),q={method:"PATCH",headers:A,body:JSON.stringify(U)};let Y;try{Y=yield(yield fetch(`${Fu(E.appConfig)}/${D.token}`,q)).json()}catch(fe){throw Ir.create("token-update-failed",{errorInfo:fe?.toString()})}if(Y.error)throw Ir.create("token-update-failed",{errorInfo:Y.error.message});if(!Y.token)throw Ir.create("token-update-no-token");return Y.token})).apply(this,arguments)}function Lf(E,D){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,P.Z)(function*(E,D){const U={method:"DELETE",headers:yield la(E)};try{const Y=yield(yield fetch(`${Fu(E.appConfig)}/${D}`,U)).json();if(Y.error)throw Ir.create("token-unsubscribe-failed",{errorInfo:Y.error.message})}catch(q){throw Ir.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function Fu({projectId:E}){return`${nl}/projects/${E}/registrations`}function la(E){return al.apply(this,arguments)}function al(){return(al=(0,P.Z)(function*({appConfig:E,installations:D}){const A=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${A}`})})).apply(this,arguments)}function ul({p256dh:E,auth:D,endpoint:A,vapidKey:U}){const q={web:{endpoint:A,auth:D,p256dh:E}};return U!==Ru&&(q.web.applicationPubKey=U),q}const Uf=6048e5;function Pd(){return Pd=(0,P.Z)(function*(E){const D=yield function Lu(E,D){return da.apply(this,arguments)}(E.swRegistration,E.vapidKey),A={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:D.endpoint,auth:ai(D.getKey("auth")),p256dh:ai(D.getKey("p256dh"))},U=yield Oo(E.firebaseDependencies);if(U){if(function Br(E,D){return D.vapidKey===E.vapidKey&&D.endpoint===E.endpoint&&D.auth===E.auth&&D.p256dh===E.p256dh}(U.subscriptionOptions,A))return Date.now()>=U.createTime+Uf?function Yi(E,D){return hl.apply(this,arguments)}(E,{token:U.token,createTime:Date.now(),subscriptionOptions:A}):U.token;try{yield Lf(E.firebaseDependencies,U.token)}catch(q){console.warn(q)}return Fo(E.firebaseDependencies,A)}return Fo(E.firebaseDependencies,A)}),Pd.apply(this,arguments)}function dl(){return dl=(0,P.Z)(function*(E){const D=yield Oo(E.firebaseDependencies);D&&(yield Lf(E.firebaseDependencies,D.token),yield function Rd(E){return ro.apply(this,arguments)}(E.firebaseDependencies));const A=yield E.swRegistration.pushManager.getSubscription();return!A||A.unsubscribe()}),dl.apply(this,arguments)}function hl(){return hl=(0,P.Z)(function*(E,D){try{const A=yield function nm(E,D){return Ja.apply(this,arguments)}(E.firebaseDependencies,D),U=Object.assign(Object.assign({},D),{token:A,createTime:Date.now()});return yield ku(E.firebaseDependencies,U),A}catch(A){throw yield function ll(E){return dl.apply(this,arguments)}(E),A}}),hl.apply(this,arguments)}function Fo(E,D){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(E,D){const U={token:yield k_(E,D),createTime:Date.now(),subscriptionOptions:D};return yield ku(E,U),U.token})).apply(this,arguments)}function da(){return(da=(0,P.Z)(function*(E,D){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rl(D)})})).apply(this,arguments)}function ha(E){const D={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function Od(E,D){if(!D.notification)return;E.notification={};const A=D.notification.title;A&&(E.notification.title=A);const U=D.notification.body;U&&(E.notification.body=U);const q=D.notification.image;q&&(E.notification.image=q);const Y=D.notification.icon;Y&&(E.notification.icon=Y)}(D,E),function io(E,D){D.data&&(E.data=D.data)}(D,E),function ki(E,D){var A,U,q,Y,fe;if(!(D.fcmOptions||null!==(A=D.notification)&&void 0!==A&&A.click_action))return;E.fcmOptions={};const qe=null!==(q=null===(U=D.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==q?q:null===(Y=D.notification)||void 0===Y?void 0:Y.click_action;qe&&(E.fcmOptions.link=qe);const je=null===(fe=D.fcmOptions)||void 0===fe?void 0:fe.analytics_label;je&&(E.fcmOptions.analyticsLabel=je)}(D,E),D}function kd(E,D){const A=[];for(let U=0;U<E.length;U++)A.push(E.charAt(U)),U<D.length&&A.push(D.charAt(U));return A.join("")}function ms(E){return Ir.create("missing-app-config-values",{valueName:E})}kd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),kd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ld{constructor(D,A,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function Fd(E){if(!E||!E.options)throw ms("App Configuration Object");if(!E.name)throw ms("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:A}=E;for(const U of D)if(!A[U])throw ms(U);return{appName:E.name,projectId:A.projectId,apiKey:A.apiKey,appId:A.appId,senderId:A.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:q,installations:A,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Uu(){return(Uu=(0,P.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(tl,{scope:Md}),E.swRegistration.update().catch(()=>{})}catch(D){throw Ir.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function Fi(){return(Fi=(0,P.Z)(function*(E,D){if(!D&&!E.swRegistration&&(yield function fl(E){return Uu.apply(this,arguments)}(E)),D||!E.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw Ir.create("invalid-sw-registration");E.swRegistration=D}})).apply(this,arguments)}function Tt(){return(Tt=(0,P.Z)(function*(E,D){D?E.vapidKey=D:E.vapidKey||(E.vapidKey=Ru)})).apply(this,arguments)}function Ud(){return Ud=(0,P.Z)(function*(E,D){if(!navigator)throw Ir.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ir.create("permission-blocked");return yield function Vu(E,D){return Tt.apply(this,arguments)}(E,D?.vapidKey),yield function fa(E,D){return Fi.apply(this,arguments)}(E,D?.serviceWorkerRegistration),function cl(E){return Pd.apply(this,arguments)}(E)}),Ud.apply(this,arguments)}function gl(){return(gl=(0,P.Z)(function*(E,D,A){const U=function Bf(E){switch(E){case no.NOTIFICATION_CLICKED:return"notification_open";case no.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(D);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:A[Pf],message_name:A[Hn],message_time:A[O_],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Qi(){return Qi=(0,P.Z)(function*(E,D){const A=D.data;if(!A.isFirebaseMessaging)return;E.onMessageHandler&&A.messageType===no.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(ha(A)):E.onMessageHandler.next(ha(A)));const U=A.data;(function Vf(E){return"object"==typeof E&&!!E&&Pf in E})(U)&&"1"===U["google.c.a.e"]&&(yield function rm(E,D,A){return gl.apply(this,arguments)}(E,A.messageType,U))}),Qi.apply(this,arguments)}const Bu="@firebase/messaging",jf=E=>{const D=new Ld(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",A=>function eu(E,D){return Qi.apply(this,arguments)}(D,A)),D},Vd=E=>{const D=E.getProvider("messaging").getImmediate();return{getToken:U=>function pl(E,D){return Ud.apply(this,arguments)}(D,U)}};function xe(){return en.apply(this,arguments)}function en(){return(en=(0,P.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function $f(){(0,Q._registerComponent)(new ge.wA("messaging",jf,"PUBLIC")),(0,Q._registerComponent)(new ge.wA("messaging-internal",Vd,"PRIVATE")),(0,Q.registerVersion)(Bu,"0.12.4"),(0,Q.registerVersion)(Bu,"0.12.4","esm2017")}();const yl="analytics",Bd="firebase_id",jd="origin",Pr=6e4,ys="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Hu="https://www.googletagmanager.com/gtag/js",kn=new we.Yd("@firebase/analytics"),dr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _l(E){if(!E.startsWith(Hu)){const D=dr.create("invalid-gtag-resource",{gtagURL:E});return kn.warn(D.message),""}return E}function nu(E){return Promise.all(E.map(D=>D.catch(A=>A)))}function so(){return(so=(0,P.Z)(function*(E,D,A,U,q,Y){const fe=U[q];try{if(fe)yield D[fe];else{const je=(yield nu(A)).find(ct=>ct.measurementId===q);je&&(yield D[je.appId])}}catch(qe){kn.error(qe)}E("config",q,Y)})).apply(this,arguments)}function pa(){return(pa=(0,P.Z)(function*(E,D,A,U,q){try{let Y=[];if(q&&q.send_to){let fe=q.send_to;Array.isArray(fe)||(fe=[fe]);const qe=yield nu(A);for(const je of fe){const ct=qe.find(xt=>xt.measurementId===je),At=ct&&D[ct.appId];if(!At){Y=[];break}Y.push(At)}}0===Y.length&&(Y=Object.values(D)),yield Promise.all(Y),E("event",U,q||{})}catch(Y){kn.error(Y)}})).apply(this,arguments)}const im=30,Gd=new class zd{constructor(D={},A=1e3){this.throttleMetadata=D,this.intervalMillis=A}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,A){this.throttleMetadata[D]=A}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function sm(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function ao(){return(ao=(0,P.Z)(function*(E){var D;const{appId:A,apiKey:U}=E,q={method:"GET",headers:sm(U)},Y=ys.replace("{app-id}",A),fe=yield fetch(Y,q);if(200!==fe.status&&304!==fe.status){let qe="";try{const je=yield fe.json();null!==(D=je.error)&&void 0!==D&&D.message&&(qe=je.error.message)}catch{}throw dr.create("config-fetch-failed",{httpStatus:fe.status,responseMessage:qe})}return fe.json()})).apply(this,arguments)}function qd(){return(qd=(0,P.Z)(function*(E,D=Gd,A){const{appId:U,apiKey:q,measurementId:Y}=E.options;if(!U)throw dr.create("no-app-id");if(!q){if(Y)return{measurementId:Y,appId:U};throw dr.create("no-api-key")}const fe=D.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},qe=new wl;return setTimeout((0,P.Z)(function*(){qe.abort()}),void 0!==A?A:Pr),Gf({appId:U,apiKey:q,measurementId:Y},fe,qe,D)})).apply(this,arguments)}function Gf(E,D,A){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,P.Z)(function*(E,{throttleEndTimeMillis:D,backoffCount:A},U,q=Gd){var Y;const{appId:fe,measurementId:qe}=E;try{yield function Wd(E,D){return new Promise((A,U)=>{const q=Math.max(D-Date.now(),0),Y=setTimeout(A,q);E.addEventListener(()=>{clearTimeout(Y),U(dr.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(U,D)}catch(je){if(qe)return kn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${je?.message}]`),{appId:fe,measurementId:qe};throw je}try{const je=yield function ui(E){return ao.apply(this,arguments)}(E);return q.deleteThrottleMetadata(fe),je}catch(je){const ct=je;if(!function Kd(E){if(!(E instanceof ie.ZR&&E.customData))return!1;const D=Number(E.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ct)){if(q.deleteThrottleMetadata(fe),qe)return kn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${qe} provided in the "measurementId" field in the local Firebase config. [${ct?.message}]`),{appId:fe,measurementId:qe};throw je}const At=503===Number(null===(Y=ct?.customData)||void 0===Y?void 0:Y.httpStatus)?(0,ie.$s)(A,q.intervalMillis,im):(0,ie.$s)(A,q.intervalMillis),xt={throttleEndTimeMillis:Date.now()+At,backoffCount:A+1};return q.setThrottleMetadata(fe,xt),kn.debug(`Calling attemptFetch again in ${At} millis`),Gf(E,xt,U,q)}}),Zd.apply(this,arguments)}class wl{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let iu,Yu;function Yd(){return(Yd=(0,P.Z)(function*(E,D,A,U,q){if(q&&q.global)E("event",A,U);else{const Y=yield D;E("event",A,Object.assign(Object.assign({},U),{send_to:Y}))}})).apply(this,arguments)}function ga(){return(ga=(0,P.Z)(function*(){if(!(0,ie.hl)())return kn.warn(dr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(E){return kn.warn(dr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function Ji(){return Ji=(0,P.Z)(function*(E,D,A,U,q,Y,fe){var qe;const je=function xn(E){return qd.apply(this,arguments)}(E);je.then(or=>{A[or.measurementId]=or.appId,E.options.measurementId&&or.measurementId!==E.options.measurementId&&kn.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${or.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(or=>kn.error(or)),D.push(je);const ct=function qf(){return ga.apply(this,arguments)}().then(or=>{if(or)return U.getId()}),[At,xt]=yield Promise.all([je,ct]);(function vl(E){const D=window.document.getElementsByTagName("script");for(const A of Object.values(D))if(A.src&&A.src.includes(Hu)&&A.src.includes(E))return A;return null})(Y)||function $d(E,D){const A=function zu(E,D){let A;return window.trustedTypes&&(A=window.trustedTypes.createPolicy(E,D)),A}("firebase-js-sdk-policy",{createScriptURL:_l}),U=document.createElement("script"),q=`${Hu}?l=${E}&id=${D}`;U.src=A?A?.createScriptURL(q):q,U.async=!0,document.head.appendChild(U)}(Y,At.measurementId),Yu&&(q("consent","default",Yu),function Uo(E){Yu=E}(void 0)),q("js",new Date);const fr=null!==(qe=fe?.config)&&void 0!==qe?qe:{};return fr[jd]="firebase",fr.update=!0,null!=xt&&(fr[Bd]=xt),q("config",At.measurementId,fr),iu&&(q("set",iu),function bl(E){iu=E}(void 0)),At.measurementId}),Ji.apply(this,arguments)}class Ot{constructor(D){this.app=D}_delete(){return delete Di[this.app.options.appId],Promise.resolve()}}let Di={},Qd=[];const ma={};let Ui,Xi,Li="dataLayer",co=!1;function Zf(E,D,A){!function Ti(){const E=[];if((0,ie.ru)()&&E.push("This is a browser extension environment."),(0,ie.zI)()||E.push("Cookies are not available."),E.length>0){const D=E.map((U,q)=>`(${q+1}) ${U}`).join(" "),A=dr.create("invalid-analytics-context",{errorInfo:D});kn.warn(A.message)}}();const U=E.options.appId;if(!U)throw dr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw dr.create("no-api-key");kn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Di[U])throw dr.create("already-exists",{id:U});if(!co){!function ru(E){let D=[];Array.isArray(window[E])?D=window[E]:window[E]=D}(Li);const{wrappedGtag:Y,gtagCore:fe}=function Zu(E,D,A,U,q){let Y=function(...fe){window[U].push(arguments)};return window[q]&&"function"==typeof window[q]&&(Y=window[q]),window[q]=function qu(E,D,A,U){function Y(){return Y=(0,P.Z)(function*(fe,...qe){try{if("event"===fe){const[je,ct]=qe;yield function oo(E,D,A,U,q){return pa.apply(this,arguments)}(E,D,A,je,ct)}else if("config"===fe){const[je,ct]=qe;yield function Gu(E,D,A,U,q,Y){return so.apply(this,arguments)}(E,D,A,U,je,ct)}else if("consent"===fe){const[je]=qe;E("consent","update",je)}else if("get"===fe){const[je,ct,At]=qe;E("get",je,ct,At)}else if("set"===fe){const[je]=qe;E("set",je)}else E(fe,...qe)}catch(je){kn.error(je)}}),Y.apply(this,arguments)}return function q(fe){return Y.apply(this,arguments)}}(Y,E,D,A),{gtagCore:Y,wrappedGtag:window[q]}}(Di,Qd,ma,Li,"gtag");Xi=Y,Ui=fe,co=!0}return Di[U]=function om(E,D,A,U,q,Y,fe){return Ji.apply(this,arguments)}(E,Qd,ma,D,Ui,Li,A),new Ot(E)}function Jd(){return es.apply(this,arguments)}function es(){return(es=(0,P.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const fo="@firebase/analytics";!function Ps(){(0,Q._registerComponent)(new ge.wA(yl,(D,{options:A})=>Zf(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),A),"PUBLIC")),(0,Q._registerComponent)(new ge.wA("analytics-internal",function E(D){try{const A=D.getProvider(yl).getImmediate();return{logEvent:(U,q,Y)=>function jo(E,D,A,U){E=(0,ie.m9)(E),function Lo(E,D,A,U,q){return Yd.apply(this,arguments)}(Xi,Di[E.app.options.appId],D,A,U).catch(q=>kn.error(q))}(A,U,q,Y)}}catch(A){throw dr.create("interop-component-reg-failed",{reason:A})}},"PRIVATE")),(0,Q.registerVersion)(fo,"0.10.0"),(0,Q.registerVersion)(fo,"0.10.0","esm2017")}();var Os=L(1954),br=L(2631);const eh=new class _a extends br.v{}(class Bi extends Os.o{constructor(D,A){super(D,A),this.scheduler=D,this.work=A}schedule(D,A=0){return A>0?super.schedule(D,A):(this.delay=A,this.state=D,this.scheduler.flush(this),this)}execute(D,A){return A>0||this.closed?super.execute(D,A):this._execute(D,A)}requestAsyncId(D,A,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(D,A,U):(D.flush(this),0)}});var ws=L(6321),ci=L(5592),qn=L(9397),Xr=L(5137),Ju=L(3093);const po=new c.GfV("7.6.1"),Es="__angularfire_symbol__analyticsIsSupportedValue",Dl="__angularfire_symbol__analyticsIsSupported",Xu="__angularfire_symbol__remoteConfigIsSupportedValue",$o="__angularfire_symbol__remoteConfigIsSupported",Bt="__angularfire_symbol__messagingIsSupportedValue",Ho="__angularfire_symbol__messagingIsSupported";function ts(E,D,A){if(D){if(1===D.length)return D[0];const Y=D.filter(fe=>fe.app===A);if(1===Y.length)return Y[0]}return A.container.getProvider(E).getImmediate({optional:!0})}globalThis[Dl]||(globalThis[Dl]=Jd().then(E=>globalThis[Es]=E).catch(()=>globalThis[Es]=!1)),globalThis[Ho]||(globalThis[Ho]=xe().then(E=>globalThis[Bt]=E).catch(()=>globalThis[Bt]=!1)),globalThis[$o]||(globalThis[$o]=aa().then(E=>globalThis[Xu]=E).catch(()=>globalThis[Xu]=!1));const Kf=(E,D)=>{const A=D?[D]:(0,B.C6)(),U=[];return A.forEach(q=>{q.container.getProvider(E).instances.forEach(fe=>{U.includes(fe)||U.push(fe)})}),U};function Mn(){}class Is{constructor(D,A=eh){this.zone=D,this.delegate=A}now(){return this.delegate.now()}schedule(D,A,U){const q=this.zone;return this.delegate.schedule(function(fe){q.runGuarded(()=>{D.apply(this,[fe])})},A,U)}}class ou{constructor(D){this.zone=D,this.task=null}call(D,A){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mn,{},Mn,Mn)),A.pipe((0,qn.b)({next:U,complete:U,error:U})).subscribe(D).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let au=(()=>{class E{constructor(A){this.ngZone=A,this.outsideAngular=A.runOutsideAngular(()=>new Is(Zone.current)),this.insideAngular=A.run(()=>new Is(Zone.current,ws.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(A){return new(A||E)(c.LFG(c.R0b))},E.\u0275prov=c.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function hr(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function ks(E){return hr().ngZone.run(()=>E())}function Sl(E){return hr(),function Al(E){return function(A){return(A=A.lift(new ou(E.ngZone))).pipe((0,Xr.R)(E.outsideAngular),(0,Ju.Q)(E.insideAngular))}}(hr())(E)}const va=(E,D)=>function(){const U=arguments;return D&&setTimeout(()=>{"scheduled"===D.state&&D.invoke()},10),ks(()=>E.apply(void 0,U))},fn=(E,D)=>function(){let A;const U=arguments;for(let Y=0;Y<arguments.length;Y++)"function"==typeof U[Y]&&(D&&(A||(A=ks(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Mn,{},Mn,Mn)))),U[Y]=va(U[Y],A));const q=function uu(E){return hr().ngZone.runOutsideAngular(()=>E())}(()=>E.apply(this,U));if(!D){if(q instanceof ci.y){const Y=hr();return q.pipe((0,Xr.R)(Y.outsideAngular),(0,Ju.Q)(Y.insideAngular))}return ks(()=>q)}return q instanceof ci.y?q.pipe(Sl):q instanceof Promise?ks(()=>new Promise((Y,fe)=>q.then(qe=>ks(()=>Y(qe)),qe=>ks(()=>fe(qe))))):"function"==typeof q&&A?function(){return setTimeout(()=>{A&&"scheduled"===A.state&&A.invoke()},10),q.apply(this,arguments)}:ks(()=>q)}},6878:(ft,Se,L)=>{L.d(Se,{$:()=>tl,A:()=>G,D:()=>Re,I:()=>Ed,J:()=>za,L:()=>Ct,N:()=>Wr,P:()=>om,Q:()=>Mf,R:()=>El,U:()=>Po,V:()=>aa,W:()=>ua,X:()=>Ei,Y:()=>Vr,Z:()=>Kc,_:()=>Dd,a:()=>lr,a0:()=>Ru,a1:()=>Pf,a2:()=>tm,a3:()=>Of,a4:()=>Nu,a5:()=>Pu,a6:()=>Ii,a7:()=>Ou,a8:()=>ko,a9:()=>Ff,aA:()=>X,aB:()=>Dl,aC:()=>ir,aD:()=>Qt,aE:()=>qn,aF:()=>Vi,aG:()=>Xd,aH:()=>Xn,aL:()=>Jr,aO:()=>Ka,aa:()=>Rd,ab:()=>Nd,ac:()=>sl,ad:()=>nm,ae:()=>Lf,af:()=>Fu,ai:()=>Uf,aj:()=>Pd,ak:()=>ll,an:()=>em,ao:()=>Od,aq:()=>Tt,ar:()=>Bu,as:()=>He,at:()=>yt,au:()=>Ee,av:()=>te,aw:()=>xt,ax:()=>Ho,ay:()=>dt,az:()=>Ce,b:()=>ml,c:()=>Xi,d:()=>Zf,e:()=>am,f:()=>fo,g:()=>_a,h:()=>Os,i:()=>Hd,j:()=>ws,k:()=>Fs,l:()=>hn,m:()=>wa,o:()=>dm,p:()=>Me,r:()=>Ci,s:()=>uo,u:()=>qf});var c=L(5861),B=L(9058),P=L(534),Q=L(7582),ie=L(7879),ge=L(4537);const Me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},G={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Re=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ne=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ke=new ie.Yd("@firebase/auth");function ut(v,...p){ke.logLevel<=ie.in.ERROR&&ke.error(`Auth (${P.SDK_VERSION}): ${v}`,...p)}function te(v,...p){throw Oe(v,...p)}function Ce(v,...p){return Oe(v,...p)}function se(v,p,m){const I=Object.assign(Object.assign({},Ze()),{[p]:m});return new B.LL("auth","Firebase",I).create(p,{appName:v.name})}function me(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&te(v,"argument-error"),se(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(v,...p){if("string"!=typeof v){const m=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=v.name),v._errorFactory.create(m,...I)}return Ne.create(v,...p)}function X(v,p,...m){if(!v)throw Oe(p,...m)}function nt(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ut(p),new Error(p)}function He(v,p){v||nt(p)}function Xt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function cr(){return"http:"===qr()||"https:"===qr()}function qr(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ni{constructor(p,m){this.shortDelay=p,this.longDelay=m,He(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function ds(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(cr()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function As(v,p){He(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ce{static initialize(p,m,I){this.fetchImpl=p,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Ni(3e4,6e4);function ue(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function De(v,p,m,I){return Be.apply(this,arguments)}function Be(){return(Be=(0,c.Z)(function*(v,p,m,I,x={}){return Je(v,x,(0,c.Z)(function*(){let O={},W={};I&&("GET"===p?W=I:O={body:JSON.stringify(I)});const de=(0,B.xO)(Object.assign({key:v.config.apiKey},W)).slice(1),$e=yield v._getAdditionalHeaders();return $e["Content-Type"]="application/json",v.languageCode&&($e["X-Firebase-Locale"]=v.languageCode),ce.fetch()(rn(v,v.config.apiHost,m,de),Object.assign({method:p,headers:$e,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Je(v,p,m){return st.apply(this,arguments)}function st(){return(st=(0,c.Z)(function*(v,p,m){v._canInitEmulator=!1;const I=Object.assign(Object.assign({},he),p);try{const x=new Lt(v),O=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const W=yield O.json();if("needConfirmation"in W)throw dn(v,"account-exists-with-different-credential",W);if(O.ok&&!("errorMessage"in W))return W;{const de=O.ok?W.errorMessage:W.error.message,[$e,Xe]=de.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===$e)throw dn(v,"credential-already-in-use",W);if("EMAIL_EXISTS"===$e)throw dn(v,"email-already-in-use",W);if("USER_DISABLED"===$e)throw dn(v,"user-disabled",W);const Et=I[$e]||$e.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw se(v,Et,Xe);te(v,Et)}}catch(x){if(x instanceof B.ZR)throw x;te(v,"network-request-failed",{message:String(x)})}})).apply(this,arguments)}function ln(v,p,m,I){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,c.Z)(function*(v,p,m,I,x={}){const O=yield De(v,p,m,I,x);return"mfaPendingCredential"in O&&te(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function rn(v,p,m,I){const x=`${p}${m}?${I}`;return v.config.emulator?As(v.config,x):`${v.config.apiScheme}://${x}`}class Lt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(Ce(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function dn(v,p,m){const I={appName:v.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const x=Ce(v,p,I);return x.customData._tokenResponse=m,x}function Ln(){return(Ln=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function nr(){return(nr=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function zi(){return(zi=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Sr(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function hs(){return(hs=(0,c.Z)(function*(v,p=!1){const m=(0,B.m9)(v),I=yield m.getIdToken(p),x=lt(I);X(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const O="object"==typeof x.firebase?x.firebase:void 0,W=O?.sign_in_provider;return{claims:x,token:I,authTime:Sr(Ke(x.auth_time)),issuedAtTime:Sr(Ke(x.iat)),expirationTime:Sr(Ke(x.exp)),signInProvider:W||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Ke(v){return 1e3*Number(v)}function lt(v){const[p,m,I]=v.split(".");if(void 0===p||void 0===m||void 0===I)return ut("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,B.tV)(m);return x?JSON.parse(x):(ut("Failed to decode base64 JWT payload"),null)}catch(x){return ut("Caught error parsing JWT payload as JSON",x?.toString()),null}}function Yt(v,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(I){throw I instanceof B.ZR&&function si({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(I)&&v.auth.currentUser===v&&(yield v.auth.signOut()),I}})).apply(this,arguments)}class qt{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield m.iteration()}),I)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class Qn{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Sr(this.lastLoginAt),this.creationTime=Sr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function fs(v){return yn.apply(this,arguments)}function yn(){return yn=(0,c.Z)(function*(v){var p;const m=v.auth,I=yield v.getIdToken(),x=yield Yt(v,function wi(v,p){return zi.apply(this,arguments)}(m,{idToken:I}));X(x?.users.length,m,"internal-error");const O=x.users[0];v._notifyReloadListener(O);const W=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?function Gi(v){return v.map(p=>{var{providerId:m}=p,I=(0,Q._T)(p,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(O.providerUserInfo):[],de=function Un(v,p){return[...v.filter(I=>!p.some(x=>x.providerId===I.providerId)),...p]}(v.providerData,W),Et=!!v.isAnonymous&&!(v.email&&O.passwordHash||de?.length),Wt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:de,metadata:new Qn(O.createdAt,O.lastLoginAt),isAnonymous:Et};Object.assign(v,Wt)}),yn.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(v){const p=(0,B.m9)(v);yield fs(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ar(){return(Ar=(0,c.Z)(function*(v,p){const m=yield Je(v,{},(0,c.Z)(function*(){const I=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:O}=v.config,W=rn(v,x,"/v1/token",`key=${O}`),de=yield v._getAdditionalHeaders();return de["Content-Type"]="application/x-www-form-urlencoded",ce.fetch()(W,{method:"POST",headers:de,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class jn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){X(p.idToken,"internal-error"),X(typeof p.idToken<"u","internal-error"),X(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function bt(v){const p=lt(v);return X(p,"internal-error"),X(typeof p.exp<"u","internal-error"),X(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var I=this;return(0,c.Z)(function*(){return X(!I.accessToken||I.refreshToken,p,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var I=this;return(0,c.Z)(function*(){const{accessToken:x,refreshToken:O,expiresIn:W}=yield function xs(v,p){return Ar.apply(this,arguments)}(p,m);I.updateTokensAndExpiration(x,O,Number(W))})()}updateTokensAndExpiration(p,m,I){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,m){const{refreshToken:I,accessToken:x,expirationTime:O}=m,W=new jn;return I&&(X("string"==typeof I,"internal-error",{appName:p}),W.refreshToken=I),x&&(X("string"==typeof x,"internal-error",{appName:p}),W.accessToken=x),O&&(X("number"==typeof O,"internal-error",{appName:p}),W.expirationTime=O),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new jn,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Cn(v,p){X("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class Jn{constructor(p){var{uid:m,auth:I,stsTokenManager:x}=p,O=(0,Q._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Qn(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,c.Z)(function*(){const I=yield Yt(m,m.stsTokenManager.getToken(m.auth,p));return X(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(p){return function Zr(v){return hs.apply(this,arguments)}(this,p)}reload(){return function Lr(v){return kt.apply(this,arguments)}(this)}_assign(p){this!==p&&(X(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new Jn(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var I=this;return(0,c.Z)(function*(){let x=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield fs(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,c.Z)(function*(){const m=yield p.getIdToken();return yield Yt(p,function Vn(v,p){return Ln.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var I,x,O,W,de,$e,Xe,Et;const Wt=null!==(I=m.displayName)&&void 0!==I?I:void 0,li=null!==(x=m.email)&&void 0!==x?x:void 0,zo=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,Jf=null!==(W=m.photoURL)&&void 0!==W?W:void 0,hm=null!==(de=m.tenantId)&&void 0!==de?de:void 0,Xf=null!==($e=m._redirectEventId)&&void 0!==$e?$e:void 0,xl=null!==(Xe=m.createdAt)&&void 0!==Xe?Xe:void 0,Ls=null!==(Et=m.lastLoginAt)&&void 0!==Et?Et:void 0,{uid:Ea,emailVerified:go,isAnonymous:oc,providerData:Ia,stsTokenManager:Ml}=m;X(Ea&&Ml,p,"internal-error");const ac=jn.fromJSON(this.name,Ml);X("string"==typeof Ea,p,"internal-error"),Cn(Wt,p.name),Cn(li,p.name),X("boolean"==typeof go,p,"internal-error"),X("boolean"==typeof oc,p,"internal-error"),Cn(zo,p.name),Cn(Jf,p.name),Cn(hm,p.name),Cn(Xf,p.name),Cn(xl,p.name),Cn(Ls,p.name);const rh=new Jn({uid:Ea,auth:p,email:li,emailVerified:go,displayName:Wt,isAnonymous:oc,photoURL:Jf,phoneNumber:zo,tenantId:hm,stsTokenManager:ac,createdAt:xl,lastLoginAt:Ls});return Ia&&Array.isArray(Ia)&&(rh.providerData=Ia.map(fm=>Object.assign({},fm))),Xf&&(rh._redirectEventId=Xf),rh}static _fromIdTokenResponse(p,m,I=!1){return(0,c.Z)(function*(){const x=new jn;x.updateFromServerResponse(m);const O=new Jn({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:I});return yield fs(O),O})()}}const Nn=new Map;function ir(v){He(v instanceof Function,"Expected a class definition");let p=Nn.get(v);return p?(He(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Nn.set(v,p),p)}const Wr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(m,I){var x=this;return(0,c.Z)(function*(){x.storage[m]=I})()}_get(m){var I=this;return(0,c.Z)(function*(){const x=I.storage[m];return void 0===x?null:x})()}_remove(m){var I=this;return(0,c.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return v.type="NONE",v})();function Qt(v,p,m){return`firebase:${v}:${p}:${m}`}class z{constructor(p,m,I){this.persistence=p,this.auth=m,this.userKey=I;const{config:x,name:O}=this.auth;this.fullUserKey=Qt(this.userKey,x.apiKey,O),this.fullPersistenceKey=Qt("persistence",x.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Jn._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,c.Z)(function*(){if(m.persistence===p)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,I="authUser"){return(0,c.Z)(function*(){if(!m.length)return new z(ir(Wr),p,I);const x=(yield Promise.all(m.map(function(){var Xe=(0,c.Z)(function*(Et){if(yield Et._isAvailable())return Et});return function(Et){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let O=x[0]||ir(Wr);const W=Qt(I,p.config.apiKey,p.name);let de=null;for(const Xe of m)try{const Et=yield Xe._get(W);if(Et){const Wt=Jn._fromJSON(p,Et);Xe!==O&&(de=Wt),O=Xe;break}}catch{}const $e=x.filter(Xe=>Xe._shouldAllowMigration);return O._shouldAllowMigration&&$e.length?(O=$e[0],de&&(yield O._set(W,de.toJSON())),yield Promise.all(m.map(function(){var Xe=(0,c.Z)(function*(Et){if(Et!==O)try{yield Et._remove(W)}catch{}});return function(Et){return Xe.apply(this,arguments)}}())),new z(O,p,I)):new z(O,p,I)})()}}function $(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(J(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(k(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ge(p))return"Blackberry";if(wt(p))return"Webos";if(F(p))return"Safari";if((p.includes("chrome/")||N(p))&&!p.includes("edge/"))return"Chrome";if(Ee(p))return"Android";{const I=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function k(v=(0,B.z$)()){return/firefox\//i.test(v)}function F(v=(0,B.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function N(v=(0,B.z$)()){return/crios\//i.test(v)}function J(v=(0,B.z$)()){return/iemobile/i.test(v)}function Ee(v=(0,B.z$)()){return/android/i.test(v)}function Ge(v=(0,B.z$)()){return/blackberry/i.test(v)}function wt(v=(0,B.z$)()){return/webos/i.test(v)}function yt(v=(0,B.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function dt(v=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ut(v=(0,B.z$)()){return yt(v)||Ee(v)||wt(v)||Ge(v)||/windows phone/i.test(v)||J(v)}function xr(v,p=[]){let m;switch(v){case"Browser":m=$((0,B.z$)());break;case"Worker":m=`${$((0,B.z$)())}-${v}`;break;default:m=v}const I=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${P.SDK_VERSION}/${I}`}function re(){return(re=(0,c.Z)(function*(v){return(yield De(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Le(v,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,c.Z)(function*(v,p){return De(v,"GET","/v2/recaptchaConfig",ue(v,p))})).apply(this,arguments)}function Mt(v){return void 0!==v&&void 0!==v.getResponse}function $t(v){return void 0!==v&&void 0!==v.enterprise}class tn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function $n(v){return new Promise((p,m)=>{const I=document.createElement("script");I.setAttribute("src",v),I.onload=p,I.onerror=x=>{const O=Ce("internal-error");O.customData=x,m(O)},I.type="text/javascript",I.charset="UTF-8",function wr(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(I)})}function Ys(v){return`__${v}${Math.floor(1e6*Math.random())}`}class oi{constructor(p){this.type="recaptcha-enterprise",this.auth=Xn(p)}verify(p="verify",m=!1){var I=this;return(0,c.Z)(function*(){function O(){return O=(0,c.Z)(function*(de){if(!m){if(null==de.tenantId&&null!=de._agentRecaptchaConfig)return de._agentRecaptchaConfig.siteKey;if(null!=de.tenantId&&void 0!==de._tenantRecaptchaConfigs[de.tenantId])return de._tenantRecaptchaConfigs[de.tenantId].siteKey}return new Promise(function(){var $e=(0,c.Z)(function*(Xe,Et){Le(de,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Wt=>{if(void 0!==Wt.recaptchaKey){const li=new tn(Wt);return null==de.tenantId?de._agentRecaptchaConfig=li:de._tenantRecaptchaConfigs[de.tenantId]=li,Xe(li.siteKey)}Et(new Error("recaptcha Enterprise site key undefined"))}).catch(Wt=>{Et(Wt)})});return function(Xe,Et){return $e.apply(this,arguments)}}())}),O.apply(this,arguments)}function W(de,$e,Xe){const Et=window.grecaptcha;$t(Et)?Et.enterprise.ready(()=>{Et.enterprise.execute(de,{action:p}).then(Wt=>{$e(Wt)}).catch(()=>{$e("NO_RECAPTCHA")})}):Xe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((de,$e)=>{(function x(de){return O.apply(this,arguments)})(I.auth).then(Xe=>{if(!m&&$t(window.grecaptcha))W(Xe,de,$e);else{if(typeof window>"u")return void $e(new Error("RecaptchaVerifier is only supported in browser"));$n("https://www.google.com/recaptcha/enterprise.js?render="+Xe).then(()=>{W(Xe,de,$e)}).catch(Et=>{$e(Et)})}}).catch(Xe=>{$e(Xe)})})})()}}function Qs(v,p,m){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,c.Z)(function*(v,p,m,I=!1){const x=new oi(v);let O;try{O=yield x.verify(m)}catch{O=yield x.verify(m,!0)}const W=Object.assign({},p);return Object.assign(W,I?{captchaResp:O}:{captchaResponse:O}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}class Sf{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const I=O=>new Promise((W,de)=>{try{W(p(O))}catch($e){de($e)}});I.onAbort=m,this.queue.push(I);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,c.Z)(function*(){if(m.auth.currentUser===p)return;const I=[];try{for(const x of m.queue)yield x(p),x.onAbort&&I.push(x.onAbort)}catch(x){I.reverse();for(const O of I)try{O()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class Js{constructor(p,m,I,x){this.app=p,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=x,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jg(this),this.idTokenSubscription=new Jg(this),this.beforeStateQueue=new Sf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ne,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=x.sdkClientVersion}_initializeWithPersistence(p,m){var I=this;return m&&(this._popupRedirectResolver=ir(m)),this._initializationPromise=this.queue((0,c.Z)(function*(){var x,O;if(!I._deleted&&(I.persistenceManager=yield z.create(I,p),!I._deleted)){if(null!==(x=I._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(O=I.currentUser)||void 0===O?void 0:O.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,c.Z)(function*(){var I;const x=yield m.assertedPersistence.getCurrentUser();let O=x,W=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const de=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,$e=O?._redirectEventId,Xe=yield m.tryRedirectSignIn(p);(!de||de===$e)&&Xe?.user&&(O=Xe.user,W=!0)}if(!O)return m.directlySetCurrentUser(null);if(!O._redirectEventId){if(W)try{yield m.beforeStateQueue.runMiddleware(O)}catch(de){O=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(de))}return O?m.reloadAndSetCurrentUserOrClear(O):m.directlySetCurrentUser(null)}return X(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===O._redirectEventId?m.directlySetCurrentUser(O):m.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var m=this;return(0,c.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,c.Z)(function*(){try{yield fs(p)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function bn(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,c.Z)(function*(){const I=p?(0,B.m9)(p):null;return I&&X(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(p,m=!1){var I=this;return(0,c.Z)(function*(){if(!I._deleted)return p&&X(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,c.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,c.Z)(function*(){yield m.assertedPersistence.setPersistence(ir(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const m=yield Le(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new tn(m);null==p.tenantId?p._agentRecaptchaConfig=I:p._tenantRecaptchaConfigs[p.tenantId]=I,I.emailPasswordEnabled&&new oi(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,m,I){return this.registerStateListener(this.authStateSubscription,p,m,I)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,I){return this.registerStateListener(this.idTokenSubscription,p,m,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var I=this;return(0,c.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,c.Z)(function*(){if(!m.redirectPersistenceManager){const I=p&&ir(p)||m._popupRedirectResolver;X(I,m,"argument-error"),m.redirectPersistenceManager=yield z.create(m,[ir(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,c.Z)(function*(){var I,x;return m._isInitialized&&(yield m.queue((0,c.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,c.Z)(function*(){if(p===m.currentUser)return m.queue((0,c.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,I,x){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),W=this._isInitialized?Promise.resolve():this._initializationPromise;return X(W,this,"internal-error"),W.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,I,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,c.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=xr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var m;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();x&&(I["X-Firebase-Client"]=x);const O=yield p._getAppCheckToken();return O&&(I["X-Firebase-AppCheck"]=O),I})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var m;const I=yield null===(m=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function vt(v,...p){ke.logLevel<=ie.in.WARN&&ke.warn(`Auth (${P.SDK_VERSION}): ${v}`,...p)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function Xn(v){return(0,B.m9)(v)}class Jg{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(m=>this.observer=m)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ed(v,p,m){const I=Xn(v);X(I._canInitEmulator,I,"emulator-config-failed"),X(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const x=!!m?.disableWarnings,O=bu(p),{host:W,port:de}=function ia(v){const p=bu(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const O=x[1];return{host:O,port:Wc(I.substr(O.length+1))}}{const[O,W]=I.split(":");return{host:O,port:Wc(W)}}}(p);I.config.emulator={url:`${O}//${W}${null===de?"":`:${de}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:W,port:de,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Af(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function bu(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Wc(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class za{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return nt("not implemented")}_getIdTokenResponse(p){return nt("not implemented")}_linkToIdToken(p,m){return nt("not implemented")}_getReauthenticationResolver(p){return nt("not implemented")}}function Ga(v,p){return Id.apply(this,arguments)}function Id(){return(Id=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:resetPassword",ue(v,p))})).apply(this,arguments)}function Cu(v,p){return Du.apply(this,arguments)}function Du(){return(Du=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vt(){return(Vt=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:update",ue(v,p))})).apply(this,arguments)}function Er(v,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithPassword",ue(v,p))})).apply(this,arguments)}function Ms(v,p){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:sendOobCode",ue(v,p))})).apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(v,p){return Ms(v,p)})).apply(this,arguments)}function sa(v,p){return Za.apply(this,arguments)}function Za(){return(Za=(0,c.Z)(function*(v,p){return Ms(v,p)})).apply(this,arguments)}function Cd(v,p){return er.apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(v,p){return Ms(v,p)})).apply(this,arguments)}function Pt(){return(Pt=(0,c.Z)(function*(v,p){return Ms(v,p)})).apply(this,arguments)}function Yr(){return(Yr=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithEmailLink",ue(v,p))})).apply(this,arguments)}function Mr(){return(Mr=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithEmailLink",ue(v,p))})).apply(this,arguments)}class Rs extends za{constructor(p,m,I,x=null){super("password",I),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new Rs(p,m,"password")}static _fromEmailAndCode(p,m,I=null){return new Rs(p,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,c.Z)(function*(){var I;switch(m.signInMethod){case"password":const x={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=p._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const O=yield Qs(p,x,"signInWithPassword");return Er(p,O)}return Er(p,x).catch(function(){var O=(0,c.Z)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const de=yield Qs(p,x,"signInWithPassword");return Er(p,de)}return Promise.reject(W)});return function(W){return O.apply(this,arguments)}}());case"emailLink":return function Dn(v,p){return Yr.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:te(p,"internal-error")}})()}_linkToIdToken(p,m){var I=this;return(0,c.Z)(function*(){switch(I.signInMethod){case"password":return Cu(p,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Tu(v,p){return Mr.apply(this,arguments)}(p,{idToken:m,email:I._email,oobCode:I._password});default:te(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function En(v,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithIdp",ue(v,p))})).apply(this,arguments)}class Ct extends za{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Ct(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):te("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:x}=m,O=(0,Q._T)(m,["providerId","signInMethod"]);if(!I||!x)return null;const W=new Ct(I,x);return W.idToken=O.idToken||void 0,W.accessToken=O.accessToken||void 0,W.secret=O.secret,W.nonce=O.nonce,W.pendingToken=O.pendingToken||null,W}_getIdTokenResponse(p){return En(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,En(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,En(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,B.xO)(m)}return p}}function Mo(){return(Mo=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:sendVerificationCode",ue(v,p))})).apply(this,arguments)}function On(){return(On=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,p))})).apply(this,arguments)}function Ro(){return(Ro=(0,c.Z)(function*(v,p){const m=yield ln(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,p));if(m.temporaryProof)throw dn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Zi={USER_NOT_FOUND:"user-not-found"};function Au(){return(Au=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithPhoneNumber",ue(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Zi)})).apply(this,arguments)}class Rr extends za{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Rr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Rr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Xs(v,p){return On.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Su(v,p){return Ro.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function oa(v,p){return Au.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:I,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:I,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:I,phoneNumber:x,temporaryProof:O}=p;return I||m||x||O?new Rr({verificationId:m,verificationCode:I,phoneNumber:x,temporaryProof:O}):null}}class Wi{constructor(p){var m,I,x,O,W,de;const $e=(0,B.zd)((0,B.pd)(p)),Xe=null!==(m=$e.apiKey)&&void 0!==m?m:null,Et=null!==(I=$e.oobCode)&&void 0!==I?I:null,Wt=function Qr(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=$e.mode)&&void 0!==x?x:null);X(Xe&&Et&&Wt,"argument-error"),this.apiKey=Xe,this.operation=Wt,this.code=Et,this.continueUrl=null!==(O=$e.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(W=$e.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(de=$e.tenantId)&&void 0!==de?de:null}static parseLink(p){const m=function xu(v){const p=(0,B.zd)((0,B.pd)(v)).link,m=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,I=(0,B.zd)((0,B.pd)(v)).deep_link_id;return(I?(0,B.zd)((0,B.pd)(I)).link:null)||I||m||p||v}(p);try{return new Wi(m)}catch{return null}}}let Mf=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,I){return Rs._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const x=Wi.parseLink(I);return X(x,"argument-error"),Rs._fromEmailAndCode(m,x.code,x.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class ps{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class No extends ps{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ei extends No{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return X("providerId"in m&&"signInMethod"in m,"argument-error"),Ct._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return X(p.idToken||p.accessToken,"argument-error"),Ct._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ei.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ei.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:O,nonce:W,providerId:de}=p;if(!I&&!x&&!m&&!O||!de)return null;try{return new Ei(de)._credential({idToken:m,accessToken:I,nonce:W,pendingToken:O})}catch{return null}}}let Po=(()=>{class v extends No{constructor(){super("facebook.com")}static credential(m){return Ct._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),aa=(()=>{class v extends No{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Ct._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:x}=m;if(!I&&!x)return null;try{return v.credential(I,x)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),ua=(()=>{class v extends No{constructor(){super("github.com")}static credential(m){return Ct._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Ka extends za{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return En(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,En(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,En(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:x,pendingToken:O}=m;return I&&x&&O&&I===x?new Ka(I,O):null}static _create(p,m){return new Ka(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Vr extends ps{constructor(p){X(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Vr.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Vr.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Ka.fromJSON(p);return X(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:I}=p;if(!m||!I)return null;try{return Ka._create(I,m)}catch{return null}}}let Kc=(()=>{class v extends No{constructor(){super("twitter.com")}static credential(m,I){return Ct._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=m;if(!I||!x)return null;try{return v.credential(I,x)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Ki(v,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signUp",ue(v,p))})).apply(this,arguments)}class Tn{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,I,x=!1){return(0,c.Z)(function*(){const O=yield Jn._fromIdTokenResponse(p,I,x),W=ca(I);return new Tn({user:O,providerId:W,_tokenResponse:I,operationType:m})})()}static _forOperation(p,m,I){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const x=ca(I);return new Tn({user:p,providerId:x,_tokenResponse:I,operationType:m})})()}}function ca(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Dd(v){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,c.Z)(function*(v){var p;const m=Xn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Tn({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield Ki(m,{returnSecureToken:!0}),x=yield Tn._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class Qc extends B.ZR{constructor(p,m,I,x){var O;super(m.code,m.message),this.operationType=I,this.user=x,Object.setPrototypeOf(this,Qc.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,m,I,x){return new Qc(p,m,I,x)}}function Jc(v,p,m,I){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Qc._fromErrorAndOperation(v,O,p,I):O})}function Rf(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function em(v,p){return Td.apply(this,arguments)}function Td(){return Td=(0,c.Z)(function*(v,p){const m=(0,B.m9)(v);yield el(!0,m,p);const{providerUserInfo:I}=yield function an(v,p){return nr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=Rf(I||[]);return m.providerData=m.providerData.filter(O=>x.has(O.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Td.apply(this,arguments)}function gs(v,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,c.Z)(function*(v,p,m=!1){const I=yield Yt(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Tn._forOperation(v,"link",I)})).apply(this,arguments)}function el(v,p,m){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.Z)(function*(v,p,m){yield fs(p);const x=!1===v?"provider-already-linked":"no-such-provider";X(Rf(p.providerData).has(m)===v,p.auth,x)})).apply(this,arguments)}function Nf(v,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,c.Z)(function*(v,p,m=!1){const{auth:I}=v,x="reauthenticate";try{const O=yield Yt(v,Jc(I,x,p,v),m);X(O.idToken,I,"internal-error");const W=lt(O.idToken);X(W,I,"internal-error");const{sub:de}=W;return X(v.uid===de,I,"user-mismatch"),Tn._forOperation(v,x,O)}catch(O){throw"auth/user-not-found"===O?.code&&te(I,"user-mismatch"),O}})).apply(this,arguments)}function Ad(v,p){return xd.apply(this,arguments)}function xd(){return(xd=(0,c.Z)(function*(v,p,m=!1){const I="signIn",x=yield Jc(v,I,p),O=yield Tn._fromIdTokenResponse(v,I,x);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function tl(v,p){return Md.apply(this,arguments)}function Md(){return(Md=(0,c.Z)(function*(v,p){return Ad(Xn(v),p)})).apply(this,arguments)}function Ru(v,p){return nl.apply(this,arguments)}function nl(){return(nl=(0,c.Z)(function*(v,p){const m=(0,B.m9)(v);return yield el(!1,m,p.providerId),gs(m,p)})).apply(this,arguments)}function Pf(v,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(v,p){return Nf((0,B.m9)(v),p)})).apply(this,arguments)}function to(){return(to=(0,c.Z)(function*(v,p){return ln(v,"POST","/v1/accounts:signInWithCustomToken",ue(v,p))})).apply(this,arguments)}function tm(v,p){return no.apply(this,arguments)}function no(){return no=(0,c.Z)(function*(v,p){const m=Xn(v),I=yield function O_(v,p){return to.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),x=yield Tn._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(x.user),x}),no.apply(this,arguments)}class ai{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?rl._fromServerResponse(p,m):"totpInfo"in m?Ya._fromServerResponse(p,m):te(p,"internal-error")}}class rl extends ai{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new rl(m)}}class Ya extends ai{constructor(p){super("totp",p)}static _fromServerResponse(p,m){return new Ya(m)}}function Qa(v,p,m){var I;X((null===(I=m.url)||void 0===I?void 0:I.length)>0,v,"invalid-continue-uri"),X(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(X(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(X(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Of(v,p,m){return kf.apply(this,arguments)}function kf(){return kf=(0,c.Z)(function*(v,p,m){var I;const x=Xn(v),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=x._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const W=yield Qs(x,O,"getOobCode",!0);m&&Qa(x,W,m),yield sa(x,W)}else m&&Qa(x,O,m),yield sa(x,O).catch(function(){var W=(0,c.Z)(function*(de){if("auth/missing-recaptcha-token"!==de.code)return Promise.reject(de);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const $e=yield Qs(x,O,"getOobCode",!0);m&&Qa(x,$e,m),yield sa(x,$e)}});return function(de){return W.apply(this,arguments)}}())}),kf.apply(this,arguments)}function Nu(v,p,m){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,c.Z)(function*(v,p,m){yield Ga((0,B.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Pu(v,p){return zn.apply(this,arguments)}function zn(){return zn=(0,c.Z)(function*(v,p){yield function xf(v,p){return Vt.apply(this,arguments)}((0,B.m9)(v),{oobCode:p})}),zn.apply(this,arguments)}function Ii(v,p){return il.apply(this,arguments)}function il(){return(il=(0,c.Z)(function*(v,p){const m=(0,B.m9)(v),I=yield Ga(m,{oobCode:p}),x=I.requestType;switch(X(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":X(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":X(I.mfaInfo,m,"internal-error");default:X(I.email,m,"internal-error")}let O=null;return I.mfaInfo&&(O=ai._fromServerResponse(Xn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:O},operation:x}})).apply(this,arguments)}function Ou(v,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(v,p){const{data:m}=yield Ii((0,B.m9)(v),p);return m.email})).apply(this,arguments)}function ko(v,p,m){return ku.apply(this,arguments)}function ku(){return ku=(0,c.Z)(function*(v,p,m){var I;const x=Xn(v),O={returnSecureToken:!0,email:p,password:m,clientType:"CLIENT_TYPE_WEB"};let W;if(null!==(I=x._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Xe=yield Qs(x,O,"signUpPassword");W=Ki(x,Xe)}else W=Ki(x,O).catch(function(){var Xe=(0,c.Z)(function*(Et){if("auth/missing-recaptcha-token"===Et.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Wt=yield Qs(x,O,"signUpPassword");return Ki(x,Wt)}return Promise.reject(Et)});return function(Et){return Xe.apply(this,arguments)}}());const de=yield W.catch(Xe=>Promise.reject(Xe)),$e=yield Tn._fromIdTokenResponse(x,"signIn",de);return yield x._updateCurrentUser($e.user),$e}),ku.apply(this,arguments)}function Ff(v,p,m){return tl((0,B.m9)(v),Mf.credential(p,m))}function Rd(v,p,m){return ro.apply(this,arguments)}function ro(){return ro=(0,c.Z)(function*(v,p,m){var I;const x=Xn(v),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function W(de,$e){X($e.handleCodeInApp,x,"argument-error"),$e&&Qa(x,de,$e)}if(null!==(I=x._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const de=yield Qs(x,O,"getOobCode",!0);W(de,m),yield Cd(x,de)}else W(O,m),yield Cd(x,O).catch(function(){var de=(0,c.Z)(function*($e){if("auth/missing-recaptcha-token"!==$e.code)return Promise.reject($e);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Xe=yield Qs(x,O,"getOobCode",!0);W(Xe,m),yield Cd(x,Xe)}});return function($e){return de.apply(this,arguments)}}())}),ro.apply(this,arguments)}function Nd(v,p){const m=Wi.parseLink(p);return"EMAIL_SIGNIN"===m?.operation}function sl(v,p,m){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v),x=Mf.credentialWithLink(p,m||Xt());return X(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),tl(I,x)})).apply(this,arguments)}function ol(){return(ol=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:createAuthUri",ue(v,p))})).apply(this,arguments)}function nm(v,p){return Ja.apply(this,arguments)}function Ja(){return Ja=(0,c.Z)(function*(v,p){const I={identifier:p,continueUri:cr()?Xt():"http://localhost"},{signinMethods:x}=yield function k_(v,p){return ol.apply(this,arguments)}((0,B.m9)(v),I);return x||[]}),Ja.apply(this,arguments)}function Lf(v,p){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,c.Z)(function*(v,p){const m=(0,B.m9)(v),x={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Qa(m.auth,x,p);const{email:O}=yield function bd(v,p){return qa.apply(this,arguments)}(m.auth,x);O!==v.email&&(yield v.reload())}),Xa.apply(this,arguments)}function Fu(v,p,m){return la.apply(this,arguments)}function la(){return la=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Qa(I.auth,O,m);const{email:W}=yield function it(v,p){return Pt.apply(this,arguments)}(I.auth,O);W!==v.email&&(yield v.reload())}),la.apply(this,arguments)}function ul(){return(ul=(0,c.Z)(function*(v,p){return De(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Uf(v,p){return cl.apply(this,arguments)}function cl(){return cl=(0,c.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const I=(0,B.m9)(v),O={idToken:yield I.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},W=yield Yt(I,function al(v,p){return ul.apply(this,arguments)}(I.auth,O));I.displayName=W.displayName||null,I.photoURL=W.photoUrl||null;const de=I.providerData.find(({providerId:$e})=>"password"===$e);de&&(de.displayName=I.displayName,de.photoURL=I.photoURL),yield I._updateTokensIfNecessary(W)}),cl.apply(this,arguments)}function Pd(v,p){return dl((0,B.m9)(v),p,null)}function ll(v,p){return dl((0,B.m9)(v),null,p)}function dl(v,p,m){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,c.Z)(function*(v,p,m){const{auth:I}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const W=yield Yt(v,Cu(I,O));yield v._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class Fo{constructor(p,m,I={}){this.isNewUser=p,this.providerId=m,this.profile=I}}class In extends Fo{constructor(p,m,I,x){super(p,m,I),this.username=x}}class Lu extends Fo{constructor(p,m){super(p,"facebook.com",m)}}class da extends In{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Br extends Fo{constructor(p,m){super(p,"google.com",m)}}class ha extends In{constructor(p,m,I){super(p,"twitter.com",m,I)}}function Od(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function hl(v){var p,m;if(!v)return null;const{providerId:I}=v,x=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!I&&v?.idToken){const W=null===(m=null===(p=lt(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(W)return new Fo(O,"anonymous"!==W&&"custom"!==W?W:null)}if(!I)return null;switch(I){case"facebook.com":return new Lu(O,x);case"github.com":return new da(O,x);case"google.com":return new Br(O,x);case"twitter.com":return new ha(O,x,v.screenName||null);case"custom":case"anonymous":return new Fo(O,null);default:return new Fo(O,I,x)}}(m)}class Fi{constructor(p,m,I){this.type=p,this.credential=m,this.auth=I}static _fromIdtoken(p,m){return new Fi("enroll",p,m)}static _fromMfaPendingCredential(p){return new Fi("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,I;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Fi._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return Fi._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Vu{constructor(p,m,I){this.session=p,this.hints=m,this.signInResolver=I}static _fromError(p,m){const I=Xn(p),x=m.customData._serverResponse,O=(x.mfaInfo||[]).map(de=>ai._fromServerResponse(I,de));X(x.mfaPendingCredential,I,"internal-error");const W=Fi._fromMfaPendingCredential(x.mfaPendingCredential);return new Vu(W,O,function(){var de=(0,c.Z)(function*($e){const Xe=yield $e._process(I,W);delete x.mfaInfo,delete x.mfaPendingCredential;const Et=Object.assign(Object.assign({},x),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(m.operationType){case"signIn":const Wt=yield Tn._fromIdTokenResponse(I,m.operationType,Et);return yield I._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return X(m.user,I,"internal-error"),Tn._forOperation(m.user,m.operationType,Et);default:te(I,"internal-error")}});return function($e){return de.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,c.Z)(function*(){return m.signInResolver(p)})()}}function Tt(v,p){var m;const I=(0,B.m9)(v),x=p;return X(p.customData.operationType,I,"argument-error"),X(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),Vu._fromError(I,x)}class eu{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>ai._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new eu(p)}getSession(){var p=this;return(0,c.Z)(function*(){return Fi._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var I=this;return(0,c.Z)(function*(){const x=p,O=yield I.getSession(),W=yield Yt(I.user,x._process(I.user.auth,O,m));return yield I.user._updateTokensIfNecessary(W),I.user.reload()})()}unenroll(p){var m=this;return(0,c.Z)(function*(){const I="string"==typeof p?p:p.uid,x=yield m.user.getIdToken();try{const O=yield Yt(m.user,function Bf(v,p){return De(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ue(v,p))}(m.user.auth,{idToken:x,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:W})=>W!==I),yield m.user._updateTokensIfNecessary(O),yield m.user.reload()}catch(O){throw O}})()}}const Qi=new WeakMap;function Bu(v){const p=(0,B.m9)(v);return Qi.has(p)||Qi.set(p,eu._fromUser(p)),Qi.get(p)}const tu="__sak";class jf{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(tu,"1"),this.storage.removeItem(tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const ml=(()=>{class v extends jf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vd(){const v=(0,B.z$)();return F(v)||yt(v)}()&&function vr(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ut(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),O=this.localCache[I];x!==O&&m(I,O,x)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((de,$e,Xe)=>{this.notifyListeners(de,Xe)});const x=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const de=this.storage.getItem(x);if(m.newValue!==de)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!I)return}const O=()=>{const de=this.storage.getItem(x);!I&&this.localCache[x]===de||this.notifyListeners(x,de)},W=this.storage.getItem(x);!function vn(){return(0,B.w1)()&&10===document.documentMode}()||W===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,I){this.localCache[m]=I;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var x=()=>super._set,O=this;return(0,c.Z)(function*(){yield x().call(O,m,I),O.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,x=this;return(0,c.Z)(function*(){const O=yield I().call(x,m);return x.localCache[m]=JSON.stringify(O),O})()}_remove(m){var I=()=>super._remove,x=this;return(0,c.Z)(function*(){yield I().call(x,m),delete x.localCache[m]})()}}return v.type="LOCAL",v})(),lr=(()=>{class v extends jf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return v.type="SESSION",v})();let $u=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(O=>O.isListeningto(m));if(I)return I;const x=new v(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,c.Z)(function*(){const x=m,{eventId:O,eventType:W,data:de}=x.data,$e=I.handlersMap[W];if(!$e?.size)return;x.ports[0].postMessage({status:"ack",eventId:O,eventType:W});const Xe=Array.from($e).map(function(){var Wt=(0,c.Z)(function*(li){return li(x.origin,de)});return function(li){return Wt.apply(this,arguments)}}()),Et=yield function Hf(v){return Promise.all(v.map(function(){var p=(0,c.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return p.apply(this,arguments)}}()))}(Xe);x.ports[0].postMessage({status:"done",eventId:O,eventType:W,response:Et})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Jr(v="",p=10){let m="";for(let I=0;I<p;I++)m+=Math.floor(10*Math.random());return v+m}class zf{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,I=50){var x=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let W,de;return new Promise(($e,Xe)=>{const Et=Jr("",20);O.port1.start();const Wt=setTimeout(()=>{Xe(new Error("unsupported_event"))},I);de={messageChannel:O,onMessage(li){const zo=li;if(zo.data.eventId===Et)switch(zo.data.status){case"ack":clearTimeout(Wt),W=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),$e(zo.data.response);break;default:clearTimeout(Wt),clearTimeout(W),Xe(new Error("invalid_response"))}}},x.handlers.add(de),O.port1.addEventListener("message",de.onMessage),x.target.postMessage({eventType:p,eventId:Et,data:m},[O.port2])}).finally(()=>{de&&x.removeMessageHandler(de)})})()}}function Gn(){return window}function Bd(){return typeof Gn().WorkerGlobalScope<"u"&&"function"==typeof Gn().importScripts}function Pr(){return(Pr=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const kn="firebaseLocalStorageDb",dr="firebaseLocalStorage",_l="fbase_key";class nu{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function zu(v,p){return v.transaction([dr],p?"readwrite":"readonly").objectStore(dr)}function ru(){const v=indexedDB.open(kn,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const I=v.result;try{I.createObjectStore(dr,{keyPath:_l})}catch(x){m(x)}}),v.addEventListener("success",(0,c.Z)(function*(){const I=v.result;I.objectStoreNames.contains(dr)?p(I):(I.close(),yield function $d(){const v=indexedDB.deleteDatabase(kn);return new nu(v).toPromise()}(),p(yield ru()))}))})}function Gu(v,p,m){return so.apply(this,arguments)}function so(){return(so=(0,c.Z)(function*(v,p,m){const I=zu(v,!0).put({[_l]:p,value:m});return new nu(I).toPromise()})).apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(v,p){const m=zu(v,!1).get(p),I=yield new nu(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function qu(v,p){const m=zu(v,!0).delete(p);return new nu(m).toPromise()}const Hd=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,c.Z)(function*(){return m.db||(m.db=yield ru()),m.db})()}_withRetries(m){var I=this;return(0,c.Z)(function*(){let x=0;for(;;)try{const O=yield I._openDb();return yield m(O)}catch(O){if(x++>3)throw O;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,c.Z)(function*(){return Bd()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,c.Z)(function*(){m.receiver=$u._getInstance(function Hu(){return Bd()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,c.Z)(function*(x,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(x,O){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,c.Z)(function*(x,O){return["keyChanged"]});return function(x,O){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,c.Z)(function*(){var I,x;if(m.activeServiceWorker=yield function jd(){return Pr.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new zf(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);O&&null!==(I=O[0])&&void 0!==I&&I.fulfilled&&null!==(x=O[0])&&void 0!==x&&x.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,c.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ys(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ru();return yield Gu(m,tu,"1"),yield qu(m,tu),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,c.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var x=this;return(0,c.Z)(function*(){return x._withPendingWrite((0,c.Z)(function*(){return yield x._withRetries(O=>Gu(O,m,I)),x.localCache[m]=I,x.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,c.Z)(function*(){const x=yield I._withRetries(O=>function oo(v,p){return pa.apply(this,arguments)}(O,m));return I.localCache[m]=x,x})()}_remove(m){var I=this;return(0,c.Z)(function*(){return I._withPendingWrite((0,c.Z)(function*(){return yield I._withRetries(x=>qu(x,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,c.Z)(function*(){const I=yield m._withRetries(W=>{const de=zu(W,!1).getAll();return new nu(de).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const x=[],O=new Set;for(const{fbase_key:W,value:de}of I)O.add(W),JSON.stringify(m.localCache[W])!==JSON.stringify(de)&&(m.notifyListeners(W,de),x.push(W));for(const W of Object.keys(m.localCache))m.localCache[W]&&!O.has(W)&&(m.notifyListeners(W,null),x.push(W));return x})()}notifyListeners(m,I){this.localCache[m]=I;const x=this.listeners[m];if(x)for(const O of Array.from(x))O(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),xn=1e12;class qd{constructor(p){this.auth=p,this.counter=xn,this._widgets=new Map}render(p,m){const I=this.counter;return this._widgets.set(I,new Gf(p,this.auth.name,m||{})),this.counter++,I}reset(p){var m;const I=p||xn;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(p){var m;return(null===(m=this._widgets.get(p||xn))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,c.Z)(function*(){var I;return null===(I=m._widgets.get(p||xn))||void 0===I||I.execute(),""})()}}class Gf{constructor(p,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;X(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Zd(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<v;I++)p.push(m.charAt(Math.floor(62*Math.random())));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Wd=Ys("rcb"),Kd=new Ni(3e4,6e4);class iu{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Gn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return X(function Lo(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)&&Mt(Gn().grecaptcha)?Promise.resolve(Gn().grecaptcha):new Promise((I,x)=>{const O=Gn().setTimeout(()=>{x(Ce(p,"network-request-failed"))},Kd.get());Gn()[Wd]=()=>{Gn().clearTimeout(O),delete Gn()[Wd];const de=Gn().grecaptcha;if(!de||!Mt(de))return void x(Ce(p,"internal-error"));const $e=de.render;de.render=(Xe,Et)=>{const Wt=$e(Xe,Et);return this.counter++,Wt},this.hostLanguage=m,I(de)},$n(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Wd,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),x(Ce(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Gn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Yd{load(p){return(0,c.Z)(function*(){return new qd(p)})()}clearedOneInstance(){}}const Wu="recaptcha",su={theme:"light",type:"image"};class El{constructor(p,m=Object.assign({},su),I){this.parameters=m,this.type=Wu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(I),this.isInvisible="invisible"===this.parameters.size,X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;X(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Yd:new iu,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(m)||new Promise(O=>{const W=de=>{de&&(p.tokenChangeListeners.delete(W),O(de))};p.tokenChangeListeners.add(W),p.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){X(!this.parameters.sitekey,this.auth,"argument-error"),X(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),X(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof p)p(m);else if("string"==typeof p){const I=Gn()[p];"function"==typeof I&&I(m)}}}assertNotDestroyed(){X(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){X(cr()&&!Bd(),p.auth,"internal-error"),yield function Ku(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function pe(v){return re.apply(this,arguments)}(p.auth);X(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return X(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class bi{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Rr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function uo(v,p,m){return Il.apply(this,arguments)}function Il(){return(Il=(0,c.Z)(function*(v,p,m){const I=Xn(v),x=yield Uo(I,p,(0,B.m9)(m));return new bi(x,O=>tl(I,O))})).apply(this,arguments)}function hn(v,p,m){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v);yield el(!1,I,"phone");const x=yield Uo(I.auth,p,(0,B.m9)(m));return new bi(x,O=>Ru(I,O))})).apply(this,arguments)}function Ci(v,p,m){return Yu.apply(this,arguments)}function Yu(){return(Yu=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v),x=yield Uo(I.auth,p,(0,B.m9)(m));return new bi(x,O=>Pf(I,O))})).apply(this,arguments)}function Uo(v,p,m){return bl.apply(this,arguments)}function bl(){return bl=(0,c.Z)(function*(v,p,m){var I;const x=yield m.verify();try{let O;if(X("string"==typeof x,v,"argument-error"),X(m.type===Wu,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const W=O.session;if("phoneNumber"in O)return X("enroll"===W.type,v,"internal-error"),(yield function pl(v,p){return De(v,"POST","/v2/accounts/mfaEnrollment:start",ue(v,p))}(v,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{X("signin"===W.type,v,"internal-error");const de=(null===(I=O.multiFactorHint)||void 0===I?void 0:I.uid)||O.multiFactorUid;return X(de,v,"missing-multi-factor-info"),(yield function zd(v,p){return De(v,"POST","/v2/accounts/mfaSignIn:start",ue(v,p))}(v,{mfaPendingCredential:W.credential,mfaEnrollmentId:de,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function Wa(v,p){return Mo.apply(this,arguments)}(v,{phoneNumber:O.phoneNumber,recaptchaToken:x});return W}}finally{m._reset()}}),bl.apply(this,arguments)}function qf(v,p){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(v,p){yield gs((0,B.m9)(v),p)})).apply(this,arguments)}let om=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Xn(m)}verifyPhoneNumber(m,I){return Uo(this.auth,m,(0,B.m9)(I))}static credential(m,I){return Rr._fromVerification(m,I)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:x}=m;return I&&x?Rr._fromTokenResponse(I,x):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function Ji(v,p){return p?ir(p):(X(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class Ot extends za{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return En(p,this._buildIdpRequest())}_linkToIdToken(p,m){return En(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return En(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Di(v){return Ad(v.auth,new Ot(v),v.bypassAuthState)}function Qd(v){const{auth:p,user:m}=v;return X(m,p,"internal-error"),Nf(m,new Ot(v),v.bypassAuthState)}function ma(v){return Li.apply(this,arguments)}function Li(){return(Li=(0,c.Z)(function*(v){const{auth:p,user:m}=v;return X(m,p,"internal-error"),gs(m,new Ot(v),v.bypassAuthState)})).apply(this,arguments)}class Vo{constructor(p,m,I,x,O=!1){this.auth=p,this.resolver=I,this.user=x,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,c.Z)(function*(I,x){p.pendingPromise={resolve:I,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(I,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,c.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:O,tenantId:W,error:de,type:$e}=p;if(de)return void m.reject(de);const Xe={auth:m.auth,requestUri:I,sessionId:x,tenantId:W||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask($e)(Xe))}catch(Et){m.reject(Et)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Di;case"linkViaPopup":case"linkViaRedirect":return ma;case"reauthViaPopup":case"reauthViaRedirect":return Qd;default:te(this.auth,"internal-error")}}resolve(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){He(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ui=new Ni(2e3,1e4);function Xi(v,p,m){return co.apply(this,arguments)}function co(){return(co=(0,c.Z)(function*(v,p,m){const I=Xn(v);me(v,p,ps);const x=Ji(I,m);return new Ns(I,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function am(v,p,m){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v);me(I.auth,p,ps);const x=Ji(I.auth,m);return new Ns(I.auth,"reauthViaPopup",p,x,I).executeNotNull()})).apply(this,arguments)}function Zf(v,p,m){return lo.apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v);me(I.auth,p,ps);const x=Ji(I.auth,m);return new Ns(I.auth,"linkViaPopup",p,x,I).executeNotNull()})).apply(this,arguments)}let Ns=(()=>{class v extends Vo{constructor(m,I,x,O,W){super(m,I,O,W),this.provider=x,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,c.Z)(function*(){const I=yield m.execute();return X(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,c.Z)(function*(){He(1===m.filter.length,"Popup operations only handle one event");const I=Jr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(Ce(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,x;this.pollId=null!==(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Ui.get())};m()}}return v.currentPopupAction=null,v})();const Jd="pendingRedirect",es=new Map;class Qu extends Vo{constructor(p,m,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,c.Z)(function*(){let I=es.get(m.auth._key());if(!I){try{const O=(yield function Wf(v,p){return ya.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;I=()=>Promise.resolve(O)}catch(x){I=()=>Promise.reject(x)}es.set(m.auth._key(),I)}return m.bypassAuthState||es.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,I=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(I,p);if("unknown"!==p.type){if(p.eventId){const x=yield I.auth._redirectUserForId(p.eventId);if(x)return I.user=x,m().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ya(){return(ya=(0,c.Z)(function*(v,p){const m=ho(p),I=jo(v);if(!(yield I._isAvailable()))return!1;const x="true"===(yield I._get(m));return yield I._remove(m),x})).apply(this,arguments)}function Bo(v,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,c.Z)(function*(v,p){return jo(v)._set(ho(p),"true")})).apply(this,arguments)}function Xd(){es.clear()}function Vi(v,p){es.set(v._key(),p)}function jo(v){return ir(v._redirectPersistence)}function ho(v){return Qt(Jd,v.config.apiKey,v.name)}function fo(v,p,m){return function sr(v,p,m){return Ps.apply(this,arguments)}(v,p,m)}function Ps(){return(Ps=(0,c.Z)(function*(v,p,m){const I=Xn(v);me(v,p,ps),yield I._initializationPromise;const x=Ji(I,m);return yield Bo(x,I),x._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function Os(v,p,m){return function Bi(v,p,m){return br.apply(this,arguments)}(v,p,m)}function br(){return(br=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v);me(I.auth,p,ps),yield I.auth._initializationPromise;const x=Ji(I.auth,m);yield Bo(x,I.auth);const O=yield Ju(I);return x._openRedirect(I.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function _a(v,p,m){return function eh(v,p,m){return Cl.apply(this,arguments)}(v,p,m)}function Cl(){return(Cl=(0,c.Z)(function*(v,p,m){const I=(0,B.m9)(v);me(I.auth,p,ps),yield I.auth._initializationPromise;const x=Ji(I.auth,m);yield el(!1,I,p.providerId),yield Bo(x,I.auth);const O=yield Ju(I);return x._openRedirect(I.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ws(v,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.Z)(function*(v,p){return yield Xn(v)._initializationPromise,qn(v,p,!1)})).apply(this,arguments)}function qn(v,p){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(v,p,m=!1){const I=Xn(v),x=Ji(I,p),W=yield new Qu(I,x,m).execute();return W&&!m&&(delete W.user._redirectEventId,yield I._persistUserIfCurrent(W.user),yield I._setRedirectUser(null,p)),W})).apply(this,arguments)}function Ju(v){return po.apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(v){const p=Jr(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class Dl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(m=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Bt(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $o(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var I;if(p.error&&!$o(p)){const x=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(Ce(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const I=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xu(p))}saveEventToCache(p){this.cachedEventUids.add(Xu(p)),this.lastProcessedEventTime=Date.now()}}function Xu(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function $o({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function Ho(v){return ec.apply(this,arguments)}function ec(){return(ec=(0,c.Z)(function*(v,p={}){return De(v,"GET","/v1/projects",p)})).apply(this,arguments)}const tc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,F_=/^https?/;function ts(){return(ts=(0,c.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Ho(v);for(const m of p)try{if(Kf(m))return}catch{}te(v,"unauthorized-domain")})).apply(this,arguments)}function Kf(v){const p=Xt(),{protocol:m,hostname:I}=new URL(p);if(v.startsWith("chrome-extension://")){const W=new URL(v);return""===W.hostname&&""===I?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&W.hostname===I}if(!F_.test(m))return!1;if(tc.test(v))return I===v;const x=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const Mn=new Ni(3e4,6e4);function Is(){const v=Gn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let au=null;const uu=new Ni(5e3,15e3),ks="__/auth/iframe",Tl="emulator/auth/iframe",cu={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Al(v){const p=v.config;X(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?As(p,Tl):`https://${v.config.authDomain}/${ks}`,I={apiKey:p.apiKey,appName:v.name,v:P.SDK_VERSION},x=Sl.get(v.config.apiHost);x&&(I.eid=x);const O=v._getFrameworks();return O.length&&(I.fw=O.join(",")),`${m}?${(0,B.xO)(I).slice(1)}`}function fn(){return fn=(0,c.Z)(function*(v){const p=yield function hr(v){return au=au||function ou(v){return new Promise((p,m)=>{var I,x,O;function W(){Is(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Is(),m(Ce(v,"network-request-failed"))},timeout:Mn.get()})}if(null!==(x=null===(I=Gn().gapi)||void 0===I?void 0:I.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Gn().gapi)||void 0===O||!O.load){const de=Ys("iframefcb");return Gn()[de]=()=>{gapi.load?W():m(Ce(v,"network-request-failed"))},$n(`https://apis.google.com/js/api.js?onload=${de}`).catch($e=>m($e))}W()}}).catch(p=>{throw au=null,p})}(v),au}(v),m=Gn().gapi;return X(m,v,"internal-error"),p.open({where:document.body,url:Al(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cu,dontclear:!0},I=>new Promise(function(){var x=(0,c.Z)(function*(O,W){yield I.restyle({setHideOnLeave:!1});const de=Ce(v,"network-request-failed"),$e=Gn().setTimeout(()=>{W(de)},uu.get());function Xe(){Gn().clearTimeout($e),O(I)}I.ping(Xe).then(Xe,()=>{W(de)})});return function(O,W){return x.apply(this,arguments)}}()))}),fn.apply(this,arguments)}const E={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Y{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const je="__/auth/handler",ct="emulator/auth/handler",At=encodeURIComponent("fac");function xt(v,p,m,I,x,O){return fr.apply(this,arguments)}function fr(){return(fr=(0,c.Z)(function*(v,p,m,I,x,O){X(v.config.authDomain,v,"auth-domain-config-required"),X(v.config.apiKey,v,"invalid-api-key");const W={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:I,v:P.SDK_VERSION,eventId:x};if(p instanceof ps){p.setDefaultLanguage(v.languageCode),W.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Et,Wt]of Object.entries(O||{}))W[Et]=Wt}if(p instanceof No){const Et=p.getScopes().filter(Wt=>""!==Wt);Et.length>0&&(W.scopes=Et.join(","))}v.tenantId&&(W.tid=v.tenantId);const de=W;for(const Et of Object.keys(de))void 0===de[Et]&&delete de[Et];const $e=yield v._getAppCheckToken(),Xe=$e?`#${At}=${encodeURIComponent($e)}`:"";return`${function or({config:v}){return v.emulator?As(v,ct):`https://${v.authDomain}/${je}`}(v)}?${(0,B.xO)(de).slice(1)}${Xe}`})).apply(this,arguments)}const bs="webStorageSupport",Fs=class rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=qn,this._overrideRedirectResult=Vi}_openPopup(p,m,I,x){var O=this;return(0,c.Z)(function*(){var W;He(null===(W=O.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const de=yield xt(p,m,I,Xt(),x);return function fe(v,p,m,I=500,x=600){const O=Math.max((window.screen.availHeight-x)/2,0).toString(),W=Math.max((window.screen.availWidth-I)/2,0).toString();let de="";const $e=Object.assign(Object.assign({},E),{width:I.toString(),height:x.toString(),top:O,left:W}),Xe=(0,B.z$)().toLowerCase();m&&(de=N(Xe)?"_blank":m),k(Xe)&&(p=p||"http://localhost",$e.scrollbars="yes");const Et=Object.entries($e).reduce((li,[zo,Jf])=>`${li}${zo}=${Jf},`,"");if(function St(v=(0,B.z$)()){var p;return yt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Xe)&&"_self"!==de)return function qe(v,p){const m=document.createElement("a");m.href=v,m.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(p||"",de),new Y(null);const Wt=window.open(p||"",de,Et);X(Wt,v,"popup-blocked");try{Wt.focus()}catch{}return new Y(Wt)}(p,de,Jr())})()}_openRedirect(p,m,I,x){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(p),function yl(v){Gn().location.href=v}(yield xt(p,m,I,Xt(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:O}=this.eventManagers[m];return x?Promise.resolve(x):(He(O,"If manager is not set, promise should be"),O)}const I=this.initAndGetManager(p);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(p){var m=this;return(0,c.Z)(function*(){const I=yield function va(v){return fn.apply(this,arguments)}(p),x=new Dl(p);return I.register("authEvent",O=>(X(O?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=I,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(bs,{type:bs},x=>{var O;const W=null===(O=x?.[0])||void 0===O?void 0:O[bs];void 0!==W&&m(!!W),te(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function nc(v){return ts.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ut()||F()||yt()}};class ns{constructor(p){this.factorId=p}_process(p,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,I);case"signin":return this._finalizeSignIn(p,m.credential);default:return nt("unexpected MultiFactorSessionType")}}}class rs extends ns{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new rs(p)}_finalizeEnroll(p,m,I){return function Ud(v,p){return De(v,"POST","/v2/accounts/mfaEnrollment:finalize",ue(v,p))}(p,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Gd(v,p){return De(v,"POST","/v2/accounts/mfaSignIn:finalize",ue(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let wa=(()=>{class v{constructor(){}static assertion(m){return rs._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var lu="@firebase/auth";class L_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,c.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sc=(0,B.Pz)("authIdTokenMaxAge")||300;let cm=null;const lm=v=>function(){var p=(0,c.Z)(function*(m){const I=m&&(yield m.getIdTokenResult()),x=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(x&&x>sc)return;const O=I?.token;cm!==O&&(cm=O,yield fetch(v,{method:O?"POST":"DELETE",headers:O?{Authorization:`Bearer ${O}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function dm(v=(0,P.getApp)()){const p=(0,P._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function Pi(v,p){const m=(0,P._getProvider)(v,"auth");if(m.isInitialized()){const x=m.getImmediate(),O=m.getOptions();if((0,B.vZ)(O,p??{}))return x;te(x,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:Fs,persistence:[Hd,ml,lr]}),I=(0,B.Pz)("authTokenSyncURL");if(I){const O=lm(I);(function kd(v,p,m){(0,B.m9)(v).beforeAuthStateChanged(p,m)})(m,O,()=>O(m.currentUser)),function Vf(v,p,m,I){(0,B.m9)(v).onIdTokenChanged(p,m,I)}(m,W=>O(W))}const x=(0,B.q4)("auth");return x&&Ed(m,`http://${x}`),m}!function Qf(v){(0,P._registerComponent)(new ge.wA("auth",(p,{options:m})=>{const I=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:W,authDomain:de}=I.options;X(W&&!W.includes(":"),"invalid-api-key",{appName:I.name});const $e={apiKey:W,authDomain:de,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xr(v)},Xe=new Js(I,x,O,$e);return function Xg(v,p){const m=p?.persistence||[],I=(Array.isArray(m)?m:[m]).map(ir);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(I,p?.popupRedirectResolver)}(Xe,m),Xe},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,I)=>{p.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ge.wA("auth-internal",p=>{const m=Xn(p.getProvider("auth").getImmediate());return new L_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(lu,"0.23.2",function U_(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,P.registerVersion)(lu,"0.23.2","esm2017")}("Browser")},9058:(ft,Se,L)=>{L.d(Se,{$s:()=>ir,BH:()=>se,G6:()=>As,L:()=>ye,LL:()=>Be,P0:()=>ut,Pz:()=>Ce,Sg:()=>me,UG:()=>nt,US:()=>ge,ZB:()=>ne,ZR:()=>De,aH:()=>te,b$:()=>cr,eu:()=>he,hl:()=>ce,jU:()=>He,m9:()=>Qt,ne:()=>Yt,pd:()=>lt,q4:()=>vt,r3:()=>an,ru:()=>Xt,tV:()=>H,uI:()=>X,vZ:()=>Sr,w1:()=>ds,xO:()=>hs,xb:()=>wi,z$:()=>Oe,zI:()=>Ie,zd:()=>Ke});const Q=function(z){const $=[];let k=0;for(let F=0;F<z.length;F++){let N=z.charCodeAt(F);N<128?$[k++]=N:N<2048?($[k++]=N>>6|192,$[k++]=63&N|128):55296==(64512&N)&&F+1<z.length&&56320==(64512&z.charCodeAt(F+1))?(N=65536+((1023&N)<<10)+(1023&z.charCodeAt(++F)),$[k++]=N>>18|240,$[k++]=N>>12&63|128,$[k++]=N>>6&63|128,$[k++]=63&N|128):($[k++]=N>>12|224,$[k++]=N>>6&63|128,$[k++]=63&N|128)}return $},ge={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,$){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const k=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,F=[];for(let N=0;N<z.length;N+=3){const J=z[N],Ee=N+1<z.length,Ge=Ee?z[N+1]:0,wt=N+2<z.length,yt=wt?z[N+2]:0;let vn=(15&Ge)<<2|yt>>6,Ut=63&yt;wt||(Ut=64,Ee||(vn=64)),F.push(k[J>>2],k[(3&J)<<4|Ge>>4],k[vn],k[Ut])}return F.join("")},encodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(z):this.encodeByteArray(Q(z),$)},decodeString(z,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(z):function(z){const $=[];let k=0,F=0;for(;k<z.length;){const N=z[k++];if(N<128)$[F++]=String.fromCharCode(N);else if(N>191&&N<224){const J=z[k++];$[F++]=String.fromCharCode((31&N)<<6|63&J)}else if(N>239&&N<365){const wt=((7&N)<<18|(63&z[k++])<<12|(63&z[k++])<<6|63&z[k++])-65536;$[F++]=String.fromCharCode(55296+(wt>>10)),$[F++]=String.fromCharCode(56320+(1023&wt))}else{const J=z[k++],Ee=z[k++];$[F++]=String.fromCharCode((15&N)<<12|(63&J)<<6|63&Ee)}}return $.join("")}(this.decodeStringToByteArray(z,$))},decodeStringToByteArray(z,$){this.init_();const k=$?this.charToByteMapWebSafe_:this.charToByteMap_,F=[];for(let N=0;N<z.length;){const J=k[z.charAt(N++)],Ge=N<z.length?k[z.charAt(N)]:0;++N;const yt=N<z.length?k[z.charAt(N)]:64;++N;const St=N<z.length?k[z.charAt(N)]:64;if(++N,null==J||null==Ge||null==yt||null==St)throw new we;F.push(J<<2|Ge>>4),64!==yt&&(F.push(Ge<<4&240|yt>>2),64!==St&&F.push(yt<<6&192|St))}return F},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ye=function(z){return function(z){const $=Q(z);return ge.encodeByteArray($,!0)}(z).replace(/\./g,"")},H=function(z){try{return ge.decodeString(z,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function ne(z,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return $}for(const k in $)!$.hasOwnProperty(k)||!Fe(k)||(z[k]=ne(z[k],$[k]));return z}function Fe(z){return"__proto__"!==z}const ke=()=>{try{return function Re(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const z=process.env.__FIREBASE_DEFAULTS__;return z?JSON.parse(z):void 0})()||(()=>{if(typeof document>"u")return;let z;try{z=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=z&&H(z[1]);return $&&JSON.parse($)})()}catch(z){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${z}`)}},vt=z=>{var $,k;return null===(k=null===($=ke())||void 0===$?void 0:$.emulatorHosts)||void 0===k?void 0:k[z]},ut=z=>{const $=vt(z);if(!$)return;const k=$.lastIndexOf(":");if(k<=0||k+1===$.length)throw new Error(`Invalid host ${$} with no separate hostname and port!`);const F=parseInt($.substring(k+1),10);return"["===$[0]?[$.substring(1,k-1),F]:[$.substring(0,k),F]},te=()=>{var z;return null===(z=ke())||void 0===z?void 0:z.config},Ce=z=>{var $;return null===($=ke())||void 0===$?void 0:$[`_${z}`]};class se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,k)=>{this.resolve=$,this.reject=k})}wrapCallback($){return(k,F)=>{k?this.reject(k):this.resolve(F),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(k):$(k,F))}}}function me(z,$){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const F=$||"demo-project",N=z.iat||0,J=z.sub||z.user_id;if(!J)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ee=Object.assign({iss:`https://securetoken.google.com/${F}`,aud:F,iat:N,exp:N+3600,auth_time:N,sub:J,user_id:J,firebase:{sign_in_provider:"custom",identities:{}}},z);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Ee)),""].join(".")}function Oe(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function X(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oe())}function nt(){var z;const $=null===(z=ke())||void 0===z?void 0:z.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function Xt(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function cr(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ds(){const z=Oe();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function As(){return!nt()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ce(){try{return"object"==typeof indexedDB}catch{return!1}}function he(){return new Promise((z,$)=>{try{let k=!0;const F="validate-browser-context-for-indexeddb-analytics-module",N=self.indexedDB.open(F);N.onsuccess=()=>{N.result.close(),k||self.indexedDB.deleteDatabase(F),z(!0)},N.onupgradeneeded=()=>{k=!1},N.onerror=()=>{var J;$((null===(J=N.error)||void 0===J?void 0:J.message)||"")}}catch(k){$(k)}})}function Ie(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class De extends Error{constructor($,k,F){super(k),this.code=$,this.customData=F,this.name="FirebaseError",Object.setPrototypeOf(this,De.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Be.prototype.create)}}class Be{constructor($,k,F){this.service=$,this.serviceName=k,this.errors=F}create($,...k){const F=k[0]||{},N=`${this.service}/${$}`,J=this.errors[$],Ee=J?function Je(z,$){return z.replace(st,(k,F)=>{const N=$[F];return null!=N?String(N):`<${F}?>`})}(J,F):"Error";return new De(N,`${this.serviceName}: ${Ee} (${N}).`,F)}}const st=/\{\$([^}]+)}/g;function an(z,$){return Object.prototype.hasOwnProperty.call(z,$)}function wi(z){for(const $ in z)if(Object.prototype.hasOwnProperty.call(z,$))return!1;return!0}function Sr(z,$){if(z===$)return!0;const k=Object.keys(z),F=Object.keys($);for(const N of k){if(!F.includes(N))return!1;const J=z[N],Ee=$[N];if(Bn(J)&&Bn(Ee)){if(!Sr(J,Ee))return!1}else if(J!==Ee)return!1}for(const N of F)if(!k.includes(N))return!1;return!0}function Bn(z){return null!==z&&"object"==typeof z}function hs(z){const $=[];for(const[k,F]of Object.entries(z))Array.isArray(F)?F.forEach(N=>{$.push(encodeURIComponent(k)+"="+encodeURIComponent(N))}):$.push(encodeURIComponent(k)+"="+encodeURIComponent(F));return $.length?"&"+$.join("&"):""}function Ke(z){const $={};return z.replace(/^\?/,"").split("&").forEach(F=>{if(F){const[N,J]=F.split("=");$[decodeURIComponent(N)]=decodeURIComponent(J)}}),$}function lt(z){const $=z.indexOf("?");if(!$)return"";const k=z.indexOf("#",$);return z.substring($,k>0?k:void 0)}function Yt(z,$){const k=new rr(z,$);return k.subscribe.bind(k)}class rr{constructor($,k){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=k,this.task.then(()=>{$(this)}).catch(F=>{this.error(F)})}next($){this.forEachObserver(k=>{k.next($)})}error($){this.forEachObserver(k=>{k.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,k,F){let N;if(void 0===$&&void 0===k&&void 0===F)throw new Error("Missing Observer.");N=function qt(z,$){if("object"!=typeof z||null===z)return!1;for(const k of $)if(k in z&&"function"==typeof z[k])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:k,complete:F},void 0===N.next&&(N.next=Qn),void 0===N.error&&(N.error=Qn),void 0===N.complete&&(N.complete=Qn);const J=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?N.error(this.finalError):N.complete()}catch{}}),this.observers.push(N),J}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let k=0;k<this.observers.length;k++)this.sendOne(k,$)}sendOne($,k){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{k(this.observers[$])}catch(F){typeof console<"u"&&console.error&&console.error(F)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qn(){}const jn=1e3,Cn=2,Jn=144e5,Nn=.5;function ir(z,$=jn,k=Cn){const F=$*Math.pow(k,z),N=Math.round(Nn*F*(Math.random()-.5)*2);return Math.min(Jn,F+N)}function Qt(z){return z&&z._delegate?z._delegate:z}},6974:(ft,Se,L)=>{var c=L(5879);let B=null;function P(){return B}class ie{}const ge=new c.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(ye)},providedIn:"platform"}),n})();const Me=new c.OlP("Location Initialized");let ye=(()=>{class n extends we{constructor(){super(),this._doc=(0,c.f3M)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){this._history.pushState(t,r,s)}replaceState(t,r,s){this._history.replaceState(t,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function H(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function G(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ne(n){return n&&"?"!==n[0]?"?"+n:n}let Fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Ze)},providedIn:"root"}),n})();const Re=new c.OlP("appBaseHref");let Ze=(()=>{class n extends Fe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return H(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ne(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+ne(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+ne(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(Re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ne=(()=>{class n extends Fe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=H(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+ne(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+ne(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(we),c.LFG(Re,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),We=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function te(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(G(ut(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ne(r))}normalize(t){return n.stripTrailingSlash(function vt(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ut(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ne(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=ne,n.joinWithSlash=H,n.stripTrailingSlash=G,n.\u0275fac=function(t){return new(t||n)(c.LFG(Fe))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ke(){return new We((0,c.LFG)(Fe))}()},providedIn:"root"}),n})();function ut(n){return n.replace(/\/index.html$/,"")}const Ce={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),Oe=(()=>((Oe=Oe||{})[Oe.Format=0]="Format",Oe[Oe.Standalone=1]="Standalone",Oe))(),X=(()=>((X=X||{})[X.Narrow=0]="Narrow",X[X.Abbreviated=1]="Abbreviated",X[X.Wide=2]="Wide",X[X.Short=3]="Short",X))(),nt=(()=>((nt=nt||{})[nt.Short=0]="Short",nt[nt.Medium=1]="Medium",nt[nt.Long=2]="Long",nt[nt.Full=3]="Full",nt))(),He=(()=>((He=He||{})[He.Decimal=0]="Decimal",He[He.Group=1]="Group",He[He.List=2]="List",He[He.PercentSign=3]="PercentSign",He[He.PlusSign=4]="PlusSign",He[He.MinusSign=5]="MinusSign",He[He.Exponential=6]="Exponential",He[He.SuperscriptingExponent=7]="SuperscriptingExponent",He[He.PerMille=8]="PerMille",He[He.Infinity=9]="Infinity",He[He.NaN=10]="NaN",He[He.TimeSeparator=11]="TimeSeparator",He[He.CurrencyDecimal=12]="CurrencyDecimal",He[He.CurrencyGroup=13]="CurrencyGroup",He))();function he(n,e){return an((0,c.cg1)(n)[c.wAp.DateFormat],e)}function Ie(n,e){return an((0,c.cg1)(n)[c.wAp.TimeFormat],e)}function ue(n,e){return an((0,c.cg1)(n)[c.wAp.DateTimeFormat],e)}function De(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===He.CurrencyDecimal)return t[c.wAp.NumberSymbols][He.Decimal];if(e===He.CurrencyGroup)return t[c.wAp.NumberSymbols][He.Group]}return r}function Be(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}function Lt(n){if(!n[c.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[c.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function an(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function nr(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Bn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Zr={},hs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.ShortGMT=1]="ShortGMT",Ke[Ke.Long=2]="Long",Ke[Ke.Extended=3]="Extended",Ke))(),lt=(()=>((lt=lt||{})[lt.FullYear=0]="FullYear",lt[lt.Month=1]="Month",lt[lt.Date=2]="Date",lt[lt.Hours=3]="Hours",lt[lt.Minutes=4]="Minutes",lt[lt.Seconds=5]="Seconds",lt[lt.FractionalSeconds=6]="FractionalSeconds",lt[lt.Day=7]="Day",lt))(),bt=(()=>((bt=bt||{})[bt.DayPeriods=0]="DayPeriods",bt[bt.Days=1]="Days",bt[bt.Months=2]="Months",bt[bt.Eras=3]="Eras",bt))();function Yt(n,e,t,r){let s=function $(n){if(F(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[s,u=1,d=1]=n.split("-").map(g=>+g);return rr(s,u-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Bn))return function k(n){const e=new Date(0);let t=0,r=0;const s=n[8]?e.setUTCFullYear:e.setFullYear,u=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),s.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,g=Number(n[5]||0)-r,_=Number(n[6]||0),C=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return u.call(e,d,g,_,C),e}(r)}const e=new Date(n);if(!F(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=si(t,e)||e;let g,d=[];for(;e;){if(g=hs.exec(e),!g){d.push(e);break}{d=d.concat(g.slice(1));const T=d.pop();if(!T)break;e=T}}let _=s.getTimezoneOffset();r&&(_=Wr(r,_),s=function z(n,e,t){const r=t?-1:1,s=n.getTimezoneOffset();return function Qt(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Wr(e,s)-s))}(s,r,!0));let C="";return d.forEach(T=>{const M=function Pn(n){if(ir[n])return ir[n];let e;switch(n){case"G":case"GG":case"GGG":e=kt(bt.Eras,X.Abbreviated);break;case"GGGG":e=kt(bt.Eras,X.Wide);break;case"GGGGG":e=kt(bt.Eras,X.Narrow);break;case"y":e=yn(lt.FullYear,1,0,!1,!0);break;case"yy":e=yn(lt.FullYear,2,0,!0,!0);break;case"yyy":e=yn(lt.FullYear,3,0,!1,!0);break;case"yyyy":e=yn(lt.FullYear,4,0,!1,!0);break;case"Y":e=Nn(1);break;case"YY":e=Nn(2,!0);break;case"YYY":e=Nn(3);break;case"YYYY":e=Nn(4);break;case"M":case"L":e=yn(lt.Month,1,1);break;case"MM":case"LL":e=yn(lt.Month,2,1);break;case"MMM":e=kt(bt.Months,X.Abbreviated);break;case"MMMM":e=kt(bt.Months,X.Wide);break;case"MMMMM":e=kt(bt.Months,X.Narrow);break;case"LLL":e=kt(bt.Months,X.Abbreviated,Oe.Standalone);break;case"LLLL":e=kt(bt.Months,X.Wide,Oe.Standalone);break;case"LLLLL":e=kt(bt.Months,X.Narrow,Oe.Standalone);break;case"w":e=Jn(1);break;case"ww":e=Jn(2);break;case"W":e=Jn(1,!0);break;case"d":e=yn(lt.Date,1);break;case"dd":e=yn(lt.Date,2);break;case"c":case"cc":e=yn(lt.Day,1);break;case"ccc":e=kt(bt.Days,X.Abbreviated,Oe.Standalone);break;case"cccc":e=kt(bt.Days,X.Wide,Oe.Standalone);break;case"ccccc":e=kt(bt.Days,X.Narrow,Oe.Standalone);break;case"cccccc":e=kt(bt.Days,X.Short,Oe.Standalone);break;case"E":case"EE":case"EEE":e=kt(bt.Days,X.Abbreviated);break;case"EEEE":e=kt(bt.Days,X.Wide);break;case"EEEEE":e=kt(bt.Days,X.Narrow);break;case"EEEEEE":e=kt(bt.Days,X.Short);break;case"a":case"aa":case"aaa":e=kt(bt.DayPeriods,X.Abbreviated);break;case"aaaa":e=kt(bt.DayPeriods,X.Wide);break;case"aaaaa":e=kt(bt.DayPeriods,X.Narrow);break;case"b":case"bb":case"bbb":e=kt(bt.DayPeriods,X.Abbreviated,Oe.Standalone,!0);break;case"bbbb":e=kt(bt.DayPeriods,X.Wide,Oe.Standalone,!0);break;case"bbbbb":e=kt(bt.DayPeriods,X.Narrow,Oe.Standalone,!0);break;case"B":case"BB":case"BBB":e=kt(bt.DayPeriods,X.Abbreviated,Oe.Format,!0);break;case"BBBB":e=kt(bt.DayPeriods,X.Wide,Oe.Format,!0);break;case"BBBBB":e=kt(bt.DayPeriods,X.Narrow,Oe.Format,!0);break;case"h":e=yn(lt.Hours,1,-12);break;case"hh":e=yn(lt.Hours,2,-12);break;case"H":e=yn(lt.Hours,1);break;case"HH":e=yn(lt.Hours,2);break;case"m":e=yn(lt.Minutes,1);break;case"mm":e=yn(lt.Minutes,2);break;case"s":e=yn(lt.Seconds,1);break;case"ss":e=yn(lt.Seconds,2);break;case"S":e=yn(lt.FractionalSeconds,1);break;case"SS":e=yn(lt.FractionalSeconds,2);break;case"SSS":e=yn(lt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Gi(Ke.Short);break;case"ZZZZZ":e=Gi(Ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Gi(Ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Gi(Ke.Long);break;default:return null}return ir[n]=e,e}(T);C+=M?M(s,t,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),C}function rr(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function si(n,e){const t=function cr(n){return(0,c.cg1)(n)[c.wAp.LocaleId]}(n);if(Zr[t]=Zr[t]||{},Zr[t][e])return Zr[t][e];let r="";switch(e){case"shortDate":r=he(n,nt.Short);break;case"mediumDate":r=he(n,nt.Medium);break;case"longDate":r=he(n,nt.Long);break;case"fullDate":r=he(n,nt.Full);break;case"shortTime":r=Ie(n,nt.Short);break;case"mediumTime":r=Ie(n,nt.Medium);break;case"longTime":r=Ie(n,nt.Long);break;case"fullTime":r=Ie(n,nt.Full);break;case"short":const s=si(n,"shortTime"),u=si(n,"shortDate");r=qt(ue(n,nt.Short),[s,u]);break;case"medium":const d=si(n,"mediumTime"),g=si(n,"mediumDate");r=qt(ue(n,nt.Medium),[d,g]);break;case"long":const _=si(n,"longTime"),C=si(n,"longDate");r=qt(ue(n,nt.Long),[_,C]);break;case"full":const T=si(n,"fullTime"),M=si(n,"fullDate");r=qt(ue(n,nt.Full),[T,M])}return r&&(Zr[t][e]=r),r}function qt(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Qn(n,e,t="-",r,s){let u="";(n<0||s&&n<=0)&&(s?n=1-n:(n=-n,u=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.slice(d.length-e)),u+d}function yn(n,e,t=0,r=!1,s=!1){return function(u,d){let g=function Lr(n,e){switch(n){case lt.FullYear:return e.getFullYear();case lt.Month:return e.getMonth();case lt.Date:return e.getDate();case lt.Hours:return e.getHours();case lt.Minutes:return e.getMinutes();case lt.Seconds:return e.getSeconds();case lt.FractionalSeconds:return e.getMilliseconds();case lt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,u);if((t>0||g>-t)&&(g+=t),n===lt.Hours)0===g&&-12===t&&(g=12);else if(n===lt.FractionalSeconds)return function fs(n,e){return Qn(n,3).substring(0,e)}(g,e);const _=De(d,He.MinusSign);return Qn(g,e,_,r,s)}}function kt(n,e,t=Oe.Format,r=!1){return function(s,u){return function Un(n,e,t,r,s,u){switch(t){case bt.Months:return function bn(n,e,t){const r=(0,c.cg1)(n),u=an([r[c.wAp.MonthsFormat],r[c.wAp.MonthsStandalone]],e);return an(u,t)}(e,s,r)[n.getMonth()];case bt.Days:return function ds(n,e,t){const r=(0,c.cg1)(n),u=an([r[c.wAp.DaysFormat],r[c.wAp.DaysStandalone]],e);return an(u,t)}(e,s,r)[n.getDay()];case bt.DayPeriods:const d=n.getHours(),g=n.getMinutes();if(u){const C=function dn(n){const e=(0,c.cg1)(n);return Lt(e),(e[c.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?nr(r):[nr(r[0]),nr(r[1])])}(e),T=function Vn(n,e,t){const r=(0,c.cg1)(n);Lt(r);const u=an([r[c.wAp.ExtraData][0],r[c.wAp.ExtraData][1]],e)||[];return an(u,t)||[]}(e,s,r),M=C.findIndex(j=>{if(Array.isArray(j)){const[K,ae]=j,_e=d>=K.hours&&g>=K.minutes,ve=d<ae.hours||d===ae.hours&&g<ae.minutes;if(K.hours<ae.hours){if(_e&&ve)return!0}else if(_e||ve)return!0}else if(j.hours===d&&j.minutes===g)return!0;return!1});if(-1!==M)return T[M]}return function qr(n,e,t){const r=(0,c.cg1)(n),u=an([r[c.wAp.DayPeriodsFormat],r[c.wAp.DayPeriodsStandalone]],e);return an(u,t)}(e,s,r)[d<12?0:1];case bt.Eras:return function Ni(n,e){return an((0,c.cg1)(n)[c.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,n,e,t,r)}}function Gi(n){return function(e,t,r){const s=-1*r,u=De(t,He.MinusSign),d=s>0?Math.floor(s/60):Math.ceil(s/60);switch(n){case Ke.Short:return(s>=0?"+":"")+Qn(d,2,u)+Qn(Math.abs(s%60),2,u);case Ke.ShortGMT:return"GMT"+(s>=0?"+":"")+Qn(d,1,u);case Ke.Long:return"GMT"+(s>=0?"+":"")+Qn(d,2,u)+":"+Qn(Math.abs(s%60),2,u);case Ke.Extended:return 0===r?"Z":(s>=0?"+":"")+Qn(d,2,u)+":"+Qn(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${n}"`)}}}const xs=0,Ar=4;function Cn(n){return rr(n.getFullYear(),n.getMonth(),n.getDate()+(Ar-n.getDay()))}function Jn(n,e=!1){return function(t,r){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();s=1+Math.floor((d+u)/7)}else{const u=Cn(t),d=function jn(n){const e=rr(n,xs,1).getDay();return rr(n,0,1+(e<=Ar?Ar:Ar+7)-e)}(u.getFullYear()),g=u.getTime()-d.getTime();s=1+Math.round(g/6048e5)}return Qn(s,n,De(r,He.MinusSign))}}function Nn(n,e=!1){return function(t,r){return Qn(Cn(t).getFullYear(),n,De(r,He.MinusSign),e)}}const ir={};function Wr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function F(n){return n instanceof Date&&!isNaN(n.valueOf())}const N=/^(\d+)?\.((\d+)(-(\d+))?)?$/,J=22,Ee=".",Ge="0",wt=";",yt=",",dt="#";function Ut(n,e,t,r,s,u,d=!1){let g="",_=!1;if(isFinite(n)){let C=function ht(n){let r,s,u,d,g,e=Math.abs(n)+"",t=0;for((s=e.indexOf(Ee))>-1&&(e=e.replace(Ee,"")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;e.charAt(u)===Ge;u++);if(u===(g=e.length))r=[0],s=1;else{for(g--;e.charAt(g)===Ge;)g--;for(s-=u,r=[],d=0;u<=g;u++,d++)r[d]=Number(e.charAt(u))}return s>J&&(r=r.splice(0,J-1),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);d&&(C=function Le(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(C));let T=e.minInt,M=e.minFrac,j=e.maxFrac;if(u){const mt=u.match(N);if(null===mt)throw new Error(`${u} is not a valid digit info`);const ze=mt[1],ot=mt[3],Nt=mt[5];null!=ze&&(T=$t(ze)),null!=ot&&(M=$t(ot)),null!=Nt?j=$t(Nt):null!=ot&&M>j&&(j=M)}!function Mt(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let d=u+n.integerLen,g=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let M=d;M<r.length;M++)r[M]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let M=1;M<d;M++)r[M]=0}if(g>=5)if(d-1<0){for(let M=0;M>d;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;s<Math.max(0,u);s++)r.push(0);let _=0!==u;const C=e+n.integerLen,T=r.reduceRight(function(M,j,K,ae){return ae[K]=(j+=M)<10?j:j-10,_&&(0===ae[K]&&K>=C?ae.pop():_=!1),j>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(C,M,j);let K=C.digits,ae=C.integerLen;const _e=C.exponent;let ve=[];for(_=K.every(mt=>!mt);ae<T;ae++)K.unshift(0);for(;ae<0;ae++)K.unshift(0);ae>0?ve=K.splice(ae,K.length):(ve=K,K=[0]);const tt=[];for(K.length>=e.lgSize&&tt.unshift(K.splice(-e.lgSize,K.length).join(""));K.length>e.gSize;)tt.unshift(K.splice(-e.gSize,K.length).join(""));K.length&&tt.unshift(K.join("")),g=tt.join(De(t,r)),ve.length&&(g+=De(t,s)+ve.join("")),_e&&(g+=De(t,He.Exponential)+"+"+_e)}else g=De(t,He.Infinity);return g=n<0&&!_?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}function re(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(wt),s=r[0],u=r[1],d=-1!==s.indexOf(Ee)?s.split(Ee):[s.substring(0,s.lastIndexOf(Ge)+1),s.substring(s.lastIndexOf(Ge)+1)],g=d[0],_=d[1]||"";t.posPre=g.substring(0,g.indexOf(dt));for(let T=0;T<_.length;T++){const M=_.charAt(T);M===Ge?t.minFrac=t.maxFrac=T+1:M===dt?t.maxFrac=T+1:t.posSuf+=M}const C=g.split(yt);if(t.gSize=C[1]?C[1].length:0,t.lgSize=C[2]||C[1]?(C[2]||C[1]).length:0,u){const T=s.length-t.posPre.length-t.posSuf.length,M=u.indexOf(dt);t.negPre=u.substring(0,M).replace(/'/g,""),t.negSuf=u.slice(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}function $t(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function So(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class Sf{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Js=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Sf(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,d),Xn(g,s)}});for(let s=0,u=r.length;s<u;s++){const g=r.get(s).context;g.index=s,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Xn(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Xn(n,e){n.context.$implicit=e.item}let Pi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Xg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ed("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ed("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Xg{constructor(){this.$implicit=null,this.ngIf=null}}function Ed(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Vt(n,e){return new c.vHH(2100,!1)}const it=new c.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),Pt=new c.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Dn=(()=>{class n{constructor(t,r,s){this.locale=t,this.defaultTimezone=r,this.defaultOptions=s}transform(t,r,s,u){if(null==t||""===t||t!=t)return null;try{return Yt(t,r??this.defaultOptions?.dateFormat??"mediumDate",u||this.locale,s??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(d){throw Vt()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(it,24),c.Y36(Pt,24))},n.\u0275pipe=c.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Ct=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!Xs(t))return null;s=s||this._locale;try{return function pe(n,e,t){return Ut(n,re(Be(e,se.Decimal),De(e,He.MinusSign)),e,He.Group,He.Decimal,t)}(On(t),s,r)}catch(u){throw Vt()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"number",type:n,pure:!0,standalone:!0}),n})(),Mo=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,s="symbol",u,d){if(!Xs(t))return null;d=d||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let g=r||this._defaultCurrencyCode;"code"!==s&&(g="symbol"===s||"symbol-narrow"===s?function wi(n,e,t="en"){const r=function Dt(n){return(0,c.cg1)(n)[c.wAp.Currencies]}(t)[n]||Ce[n]||[],s=r[1];return"narrow"===e&&"string"==typeof s?s:r[0]||n}(g,"symbol"===s?"wide":"narrow",d):s);try{return function vr(n,e,t,r,s){const d=re(Be(e,se.Currency),De(e,He.MinusSign));return d.minFrac=function Sr(n){let e;const t=Ce[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),d.maxFrac=d.minFrac,Ut(n,d,e,He.CurrencyGroup,He.CurrencyDecimal,s).replace("\xa4",t).replace("\xa4","").trim()}(On(t),d,g,r,u)}catch(_){throw Vt()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16),c.Y36(c.EJc,16))},n.\u0275pipe=c.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();function Xs(n){return!(null==n||""===n||n!=n)}function On(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}let Zi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const oa="browser";function Wi(n){return"server"===n}let No=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new Ei((0,c.LFG)(ge),window)}),n})();class Ei{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function aa(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Po(this.window.history)||Po(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Po(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Nr{}class da extends ie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Br extends da{static makeCurrent(){!function Q(n){B||(B=n)}(new Br)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Od(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}();return null==t?null:function ki(n){io=io||document.createElement("a"),io.setAttribute("href",n);const e=io.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return So(document.cookie,e)}}let io,ha=null,kd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Fd=new c.OlP("EventManagerPlugins");let ms=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>{s.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(u=>u.supports(t)),!r)throw new c.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Fd),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ld{constructor(e){this._doc=e}}const fl="ng-app-id";let Uu=(()=>{class n{constructor(t,r,s,u={}){this.doc=t,this.appId=r,this.nonce=s,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Wi(u),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(s=>s.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${fl}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(s=>{null!=s.textContent&&r.set(s.textContent,s)}),r}return null}changeUsageCount(t,r){const s=this.styleRef;if(s.has(t)){const u=s.get(t);return u.usage+=r,u.usage}return s.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const s=this.styleNodesInDOM,u=s?.get(r);if(u?.parentNode===t)return s.delete(r),u.removeAttribute(fl),u;{const d=this.doc.createElement("style");return this.nonce&&d.setAttribute("nonce",this.nonce),d.textContent=r,this.platformIsServer&&d.setAttribute(fl,this.appId),d}}addStyleToHost(t,r){const s=this.getStyleElement(t,r);t.appendChild(s);const u=this.styleRef,d=u.get(r)?.elements;d?d.push(s):u.set(r,{elements:[s],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(c.AFp),c.LFG(c.Ojb,8),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const fa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Fi=/%COMP%/g,rm=new c.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function eu(n,e){return e.map(t=>t.replace(Fi,n))}let Qi=(()=>{class n{constructor(t,r,s,u,d,g,_,C=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=u,this.doc=d,this.platformId=g,this.ngZone=_,this.nonce=C,this.rendererByCompId=new Map,this.platformIsServer=Wi(g),this.defaultRenderer=new Bu(t,d,_,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===c.ifc.ShadowDom&&(r={...r,encapsulation:c.ifc.Emulated});const s=this.getOrCreateRenderer(t,r);return s instanceof en?s.applyToHost(t):s instanceof xe&&s.applyStyles(),s}getOrCreateRenderer(t,r){const s=this.rendererByCompId;let u=s.get(r.id);if(!u){const d=this.doc,g=this.ngZone,_=this.eventManager,C=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,M=this.platformIsServer;switch(r.encapsulation){case c.ifc.Emulated:u=new en(_,C,r,this.appId,T,d,g,M);break;case c.ifc.ShadowDom:return new $f(_,C,t,r,d,g,this.nonce,M);default:u=new xe(_,C,r,T,d,g,M)}u.onDestroy=()=>s.delete(r.id),s.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ms),c.LFG(Uu),c.LFG(c.AFp),c.LFG(rm),c.LFG(ge),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(c.Ojb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Bu{constructor(e,t,r,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=s,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(fa[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Vd(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Vd(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new c.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=fa[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=fa[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=P().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function Vd(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $f extends Bu{constructor(e,t,r,s,u,d,g,_){super(e,u,d,_),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const C=eu(s.id,s.styles);for(const T of C){const M=document.createElement("style");g&&M.setAttribute("nonce",g),M.textContent=T,this.shadowRoot.appendChild(M)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class xe extends Bu{constructor(e,t,r,s,u,d,g,_){super(e,u,d,g),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=s,this.rendererUsageCount=0,this.styles=_?eu(_,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class en extends xe{constructor(e,t,r,s,u,d,g,_){const C=s+"-"+r.id;super(e,t,r,u,d,g,_,C),this.contentAttr=function gl(n){return"_ngcontent-%COMP%".replace(Fi,n)}(C),this.hostAttr=function Bf(n){return"_nghost-%COMP%".replace(Fi,n)}(C)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ml=(()=>{class n extends Ld{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ju=["alt","control","meta","shift"],lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hf={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let $u=(()=>{class n extends Ld{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),d="code."),ju.forEach(C=>{const T=r.indexOf(C);T>-1&&(r.splice(T,1),d+=C+".")}),d+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=s,_.fullKey=d,_}static matchEventFullKeyCode(t,r){let s=lr[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ju.forEach(d=>{d!==s&&(0,Hf[d])(t)&&(u+=d+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Hu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:oa},{provide:c.g9A,useValue:function Bd(){Br.makeCurrent()},multi:!0},{provide:ge,useFactory:function Pr(){return(0,c.RDi)(document),document},deps:[]}]),kn=new c.OlP(""),_s=[{provide:c.rWj,useClass:class Vf{addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new c.vHH(5103,!1);return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const g=function(_){d=d||_,u--,0==u&&r(d)};s.forEach(_=>{_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],dr=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function jd(){return new c.qLn},deps:[]},{provide:Fd,useClass:ml,multi:!0,deps:[ge,c.R0b,c.Lbi]},{provide:Fd,useClass:$u,multi:!0,deps:[ge]},Qi,Uu,ms,{provide:c.FYo,useExisting:Qi},{provide:Nr,useClass:kd,deps:[]},[]];let _l=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kn,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...dr,..._s],imports:[Zi,c.hGG]}),n})(),Gu=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function ru(){return new Gu((0,c.LFG)(ge))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var bi=L(5592),uo=L(4674),hn=L(2459),pt=L(2096),Ci=L(5619);const{isArray:Yu}=Array,{getPrototypeOf:Uo,prototype:bl,keys:qf}=Object;function ga(n){if(1===n.length){const e=n[0];if(Yu(e))return{args:e,keys:null};if(function om(n){return n&&"object"==typeof n&&Uo(n)===bl}(e)){const t=qf(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ji=L(2737),Ot=L(7398);const{isArray:Di}=Array;function ma(n){return(0,Ot.U)(e=>function Qd(n,e){return Di(e)?n(...e):n(e)}(n,e))}var Li=L(4564);function Vo(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Ui=L(8251),Xi=L(7103);function co(...n){const e=(0,Li.yG)(n),t=(0,Li.jO)(n),{args:r,keys:s}=ga(n);if(0===r.length)return(0,hn.D)([],e);const u=new bi.y(function am(n,e,t=Ji.y){return r=>{Ti(e,()=>{const{length:s}=n,u=new Array(s);let d=s,g=s;for(let _=0;_<s;_++)Ti(e,()=>{const C=(0,hn.D)(n[_],e);let T=!1;C.subscribe((0,Ui.x)(r,M=>{u[_]=M,T||(T=!0,g--),g||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>Vo(s,d):Ji.y));return t?u.pipe(ma(t)):u}function Ti(n,e,t){n?(0,Xi.f)(t,n,e):e()}const lo=(0,L(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ns=L(7537);function es(...n){return function Jd(){return(0,Ns.J)(1)}()((0,hn.D)(n,(0,Li.yG)(n)))}var Qu=L(4829);function Wf(n){return new bi.y(e=>{(0,Qu.Xf)(n()).subscribe(e)})}var ya=L(8407);function Bo(n,e){const t=(0,uo.m)(n)?n:()=>n,r=s=>s.error(t());return new bi.y(e?s=>e.schedule(r,0,s):r)}var vs=L(6232),Xd=L(7394),Vi=L(9360);function jo(){return(0,Vi.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Ui.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class ho extends bi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vi.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Xd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Ui.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Xd.w0.EMPTY)}return e}refCount(){return jo()(this)}}var fo=L(8645),sr=L(4664);function Ps(n){return n<=0?()=>vs.E:(0,Vi.e)((e,t)=>{let r=0;e.subscribe((0,Ui.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Os(...n){const e=(0,Li.yG)(n);return(0,Vi.e)((t,r)=>{(e?es(n,t,e):es(n,t)).subscribe(r)})}function Bi(n,e){return(0,Vi.e)((t,r)=>{let s=0;t.subscribe((0,Ui.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var br=L(1631);function _a(n){return(0,Vi.e)((e,t)=>{let r=!1;e.subscribe((0,Ui.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function eh(n=Cl){return(0,Vi.e)((e,t)=>{let r=!1;e.subscribe((0,Ui.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function Cl(){return new lo}function ws(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bi((s,u)=>n(s,u,r)):Ji.y,Ps(1),t?_a(e):eh(()=>new lo))}function ci(n,e){return(0,uo.m)(e)?(0,br.z)(n,e,1):(0,br.z)(n,1)}var qn=L(9397);function Xr(n){return(0,Vi.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Ui.x)(t,void 0,void 0,d=>{u=(0,Qu.Xf)(n(d,Xr(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function po(n,e){return(0,Vi.e)(function Ju(n,e,t,r,s){return(u,d)=>{let g=t,_=e,C=0;u.subscribe((0,Ui.x)(d,T=>{const M=C++;_=g?n(_,T,M):(g=!0,T),r&&d.next(_)},s&&(()=>{g&&d.next(_),d.complete()})))}}(n,e,arguments.length>=2,!0))}function Es(n){return n<=0?()=>vs.E:(0,Vi.e)((e,t)=>{let r=[];e.subscribe((0,Ui.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function $o(n){return(0,Vi.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Bt="primary",Ho=Symbol("RouteTitle");class ec{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function tc(n){return new ec(n)}function F_(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],g=n[u];if(d.startsWith(":"))s[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function ts(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Kf(n[s],e[s]))return!1;return!0}function Kf(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Mn(n){return n.length>0?n[n.length-1]:null}function Is(n){return function Il(n){return!!n&&(n instanceof bi.y||(0,uo.m)(n.lift)&&(0,uo.m)(n.subscribe))}(n)?n:(0,c.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,pt.of)(n)}const ou={exact:function ks(n,e,t){if(!A(n.segments,e.segments)||!Al(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ks(n.children[r],e.children[r],t))return!1;return!0},subset:cu},au={exact:function uu(n,e){return ts(n,e)},subset:function Tl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Kf(n[t],e[t]))},ignored:()=>!0};function hr(n,e,t){return ou[t.paths](n.root,e.root,t.matrixParams)&&au[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function cu(n,e,t){return Sl(n,e,e.segments,t)}function Sl(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!A(s,t)||e.hasChildren()||!Al(s,t,r))}if(n.segments.length===t.length){if(!A(n.segments,t)||!Al(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!cu(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(A(n.segments,s)&&Al(n.segments,s,r)&&n.children[Bt])&&Sl(n.children[Bt],e,u,r)}}function Al(n,e,t){return e.every((r,s)=>au[t](n[s].parameters,r.parameters))}class va{constructor(e=new fn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tc(this.queryParams)),this._queryParamMap}toString(){return fe.serialize(this)}}class fn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qe(this)}}class E{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=tc(this.parameters)),this._parameterMap}toString(){return rc(this)}}function A(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let q=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new Y},providedIn:"root"}),n})();class Y{parse(e){const t=new L_(e);return new va(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${je(e.root,!0)}`,r=function ns(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${At(t)}=${At(s)}`).join("&"):`${At(t)}=${At(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function xt(n){return encodeURI(n)}(e.fragment)}`:""}`}}const fe=new Y;function qe(n){return n.segments.map(e=>rc(e)).join("/")}function je(n,e){if(!n.hasChildren())return qe(n);if(e){const t=n.children[Bt]?je(n.children[Bt],!1):"",r=[];return Object.entries(n.children).forEach(([s,u])=>{s!==Bt&&r.push(`${s}:${je(u,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function U(n,e){let t=[];return Object.entries(n.children).forEach(([r,s])=>{r===Bt&&(t=t.concat(e(s,r)))}),Object.entries(n.children).forEach(([r,s])=>{r!==Bt&&(t=t.concat(e(s,r)))}),t}(n,(r,s)=>s===Bt?[je(n.children[Bt],!1)]:[`${s}:${je(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Bt]?`${qe(n)}/${t[0]}`:`${qe(n)}/(${t.join("//")})`}}function ct(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function At(n){return ct(n).replace(/%3B/gi,";")}function fr(n){return ct(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function or(n){return decodeURIComponent(n)}function bs(n){return or(n.replace(/\+/g,"%20"))}function rc(n){return`${fr(n.path)}${function Fs(n){return Object.keys(n).map(e=>`;${fr(e)}=${fr(n[e])}`).join("")}(n.parameters)}`}const rs=/^[^\/()?;#]+/;function wa(n){const e=n.match(rs);return e?e[0]:""}const Yf=/^[^\/()?;=#]+/,um=/^[^=?&#]+/,lu=/^[^&#]+/;class L_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Bt]=new fn(e,t)),r}parseSegment(){const e=wa(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,!1);return this.capture(e),new E(or(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function th(n){const e=n.match(Yf);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=wa(this.remaining);s&&(r=s,this.capture(r))}e[or(t)]=or(r)}parseQueryParam(e){const t=function nh(n){const e=n.match(um);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function ic(n){const e=n.match(lu);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=bs(t),u=bs(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=wa(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new c.vHH(4010,!1);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Bt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Bt]:new fn([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,!1)}}function U_(n){return n.segments.length>0?new fn([],{[Bt]:n}):n}function Qf(n){const e={};for(const r of Object.keys(n.children)){const u=Qf(n.children[r]);if(r===Bt&&0===u.segments.length&&u.hasChildren())for(const[d,g]of Object.entries(u.children))e[d]=g;else(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function V_(n){if(1===n.numberOfChildren&&n.children[Bt]){const e=n.children[Bt];return new fn(n.segments.concat(e.segments),e.children)}return n}(new fn(n.segments,e))}function sc(n){return n instanceof va}function lm(n){let e;const s=U_(function t(u){const d={};for(const _ of u.children){const C=t(_);d[_.outlet]=C}const g=new fn(u.url,d);return u===n&&(e=g),g}(n.root));return e??s}function dm(n,e,t,r){let s=n;for(;s.parent;)s=s.parent;if(0===e.length)return m(s,s,s,t,r);const u=function O(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new x(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Object.entries(u.outlets).forEach(([_,C])=>{g[_]="string"==typeof C?C.split("/"):C}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new x(t,e,r)}(e);if(u.toRoot())return m(s,s,new fn([],{}),t,r);const d=function de(n,e,t){if(n.isAbsolute)return new W(e,!0,0);if(!t)return new W(e,!1,NaN);if(null===t.parent)return new W(t,!0,0);const r=v(n.commands[0])?0:1;return function $e(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new c.vHH(4005,!1);s=r.segments.length}return new W(r,!1,s-u)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(u,s,n),g=d.processChildren?Wt(d.segmentGroup,d.index,u.commands):Et(d.segmentGroup,d.index,u.commands);return m(s,d.segmentGroup,g,t,r)}function v(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function p(n){return"object"==typeof n&&null!=n&&n.outlets}function m(n,e,t,r,s){let d,u={};r&&Object.entries(r).forEach(([_,C])=>{u[_]=Array.isArray(C)?C.map(T=>`${T}`):`${C}`}),d=n===e?t:I(n,e,t);const g=U_(Qf(d));return new va(g,u,s)}function I(n,e,t){const r={};return Object.entries(n.children).forEach(([s,u])=>{r[s]=u===e?t:I(u,e,t)}),new fn(n.segments,r)}class x{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&v(r[0]))throw new c.vHH(4003,!1);const s=r.find(p);if(s&&s!==Mn(r))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class W{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Et(n,e,t){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return Wt(n,e,t);const r=function li(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],g=t[r];if(p(g))break;const _=`${g}`,C=r<t.length-1?t[r+1]:null;if(s>0&&void 0===_)break;if(_&&C&&"object"==typeof C&&void 0===C.outlets){if(!Xf(_,C,d))return u;r+=2}else{if(!Xf(_,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new fn(n.segments.slice(0,r.pathIndex),{});return u.children[Bt]=new fn(n.segments.slice(r.pathIndex),n.children),Wt(u,0,s)}return r.match&&0===s.length?new fn(n.segments,{}):r.match&&!n.hasChildren()?zo(n,e,t):r.match?Wt(n,0,s):zo(n,e,t)}function Wt(n,e,t){if(0===t.length)return new fn(n.segments,{});{const r=function Xe(n){return p(n[0])?n[0].outlets:{[Bt]:n}}(t),s={};if(!r[Bt]&&n.children[Bt]&&1===n.numberOfChildren&&0===n.children[Bt].segments.length){const u=Wt(n.children[Bt],e,t);return new fn(n.segments,u.children)}return Object.entries(r).forEach(([u,d])=>{"string"==typeof d&&(d=[d]),null!==d&&(s[u]=Et(n.children[u],e,d))}),Object.entries(n.children).forEach(([u,d])=>{void 0===r[u]&&(s[u]=d)}),new fn(n.segments,s)}}function zo(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(p(u)){const _=Jf(u.outlets);return new fn(r,_)}if(0===s&&v(t[0])){r.push(new E(n.segments[e].path,hm(t[0]))),s++;continue}const d=p(u)?u.outlets[Bt]:`${u}`,g=s<t.length-1?t[s+1]:null;d&&g&&v(g)?(r.push(new E(d,hm(g))),s+=2):(r.push(new E(d,{})),s++)}return new fn(r,{})}function Jf(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=zo(new fn([],{}),0,r))}),e}function hm(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Xf(n,e,t){return n==t.path&&ts(e,t.parameters)}const xl="imperative";class Ls{constructor(e,t){this.id=e,this.url=t}}class Ea extends Ls{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class go extends Ls{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oc extends Ls{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ia extends Ls{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Ml extends Ls{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ac extends Ls{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rh extends Ls{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fm extends Ls{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pm extends Ls{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gm extends Ls{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ba{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sT{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class oT{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class aT{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yE{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B_{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _E{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class uT{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ih,this.attachRef=null}}let ih=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new uT,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=j_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=j_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=ji(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return ji(e,this._root).map(t=>t.value)}}function j_(n,e){if(n===e.value)return e;for(const t of e.children){const r=j_(n,t);if(r)return r}return null}function ji(n,e){if(n===e.value)return[e];for(const t of e.children){const r=ji(n,t);if(r.length)return r.unshift(e),r}return[]}class Go{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Rl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class mm extends vE{constructor(e,t){super(e),this.snapshot=t,ym(this,e)}toString(){return this.snapshot.toString()}}function Si(n,e){const t=function ep(n,e){const d=new tp([],{},{},"",{},Bt,e,null,{});return new wE("",new Go(d,[]))}(0,e),r=new Ci.X([new E("",{})]),s=new Ci.X({}),u=new Ci.X({}),d=new Ci.X({}),g=new Ci.X(""),_=new Cs(r,s,d,g,u,Bt,e,t.root);return _.snapshot=t.root,new mm(new Go(_,[]),t)}class Cs{constructor(e,t,r,s,u,d,g,_){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=s,this.dataSubject=u,this.outlet=d,this.component=g,this._futureSnapshot=_,this.title=this.dataSubject?.pipe((0,Ot.U)(C=>C[Ho]))??(0,pt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ot.U)(e=>tc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ot.U)(e=>tc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function cT(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tp{get title(){return this.data?.[Ho]}constructor(e,t,r,s,u,d,g,_,C){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=g,this.routeConfig=_,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=tc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=tc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class wE extends vE{constructor(e,t){super(t),this.url=e,ym(this,t)}toString(){return EE(this._root)}}function ym(n,e){e.value._routerState=n,e.children.forEach(t=>ym(n,t))}function EE(n){const e=n.children.length>0?` { ${n.children.map(EE).join(", ")} } `:"";return`${n.value}${e}`}function _m(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ts(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ts(e.params,t.params)||n.paramsSubject.next(t.params),function nc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ts(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),ts(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function H_(n,e){const t=ts(n.params,e.params)&&function D(n,e){return A(n,e)&&n.every((t,r)=>ts(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||H_(n.parent,e.parent))}let z_=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Bt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(ih),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb),this.inputBinder=(0,c.f3M)(sh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new c.vHH(4013,!1);this._activatedRoute=t;const s=this.location,d=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new G_(t,g,s.injector);this.activated=s.createComponent(d,{index:s.length,injector:_,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class G_{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Cs?this.route:e===ih?this.childContexts:this.parent.get(e,t)}}const sh=new c.OlP("");let IE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,s=co([r.queryParams,r.params,r.data]).pipe((0,sr.w)(([u,d,g],_)=>(g={...u,...d,...g},0===_?(0,pt.of)(g):Promise.resolve(g)))).subscribe(u=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const d=(0,c.qFp)(r.component);if(d)for(const{templateName:g}of d.inputs)t.activatedComponentRef.setInput(g,u[g]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function rp(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function lT(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return rp(n,r,s);return rp(n,r)})}(n,e,t);return new Go(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>rp(n,g)),d}}const r=function bE(n){return new Cs(new Ci.X(n.url),new Ci.X(n.params),new Ci.X(n.queryParams),new Ci.X(n.fragment),new Ci.X(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>rp(n,u));return new Go(r,s)}}const vm="ngNavigationCancelingError";function q_(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=sc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Nl(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function Nl(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[vm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function ip(n){return Z_(n)&&sc(n.url)}function Z_(n){return n&&n[vm]}let wm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[z_],encapsulation:2}),n})();function Im(n){const e=n.children&&n.children.map(Im),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Bt&&(t.component=wm),t}function Us(n){return n.outlet||Bt}function sp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Pl{constructor(e,t,r,s,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s,this.inputBindingEnabled=u}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_m(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Rl(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),Object.values(s).forEach(u=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Rl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Rl(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const s=Rl(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new B_(u.value.snapshot))}),e.children.length&&this.forwardEvent(new aT(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(_m(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),_m(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=sp(s.snapshot);d.attachRef=null,d.route=s,d.injector=g,d.outlet&&d.outlet.activateWith(s,d.injector),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class K_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class op{constructor(e,t){this.component=e,this.route=t}}function fT(n,e,t){const r=n._root;return ap(r,e?e._root:null,t,[r.value])}function du(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:r}function ap(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Rl(e);return n.children.forEach(d=>{(function SE(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const _=function AE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!A(n.url,e.url);case"pathParamsOrQueryParamsChange":return!A(n.url,e.url)||!ts(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!H_(n,e)||!ts(n.queryParams,e.queryParams);default:return!H_(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new K_(r)):(u.data=d.data,u._resolvedData=d._resolvedData),ap(n,e,u.component?g?g.children:null:t,r,s),_&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new op(g.outlet.component,d))}else d&&oh(e,g,s),s.canActivateChecks.push(new K_(r)),ap(n,null,u.component?g?g.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),Object.entries(u).forEach(([d,g])=>oh(g,t.getContext(d),s)),s}function oh(n,e,t){const r=Rl(n),s=n.value;Object.entries(r).forEach(([u,d])=>{oh(d,s.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new op(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Ol(n){return"function"==typeof n}function ah(n){return n instanceof lo||"EmptyError"===n?.name}const Dm=Symbol("INITIAL_VALUE");function kl(){return(0,sr.w)(n=>co(n.map(e=>e.pipe(Ps(1),Os(Dm)))).pipe((0,Ot.U)(e=>{for(const t of e)if(!0!==t){if(t===Dm)return Dm;if(!1===t||t instanceof va)return t}return!0}),Bi(e=>e!==Dm),Ps(1)))}function PE(n){return(0,ya.z)((0,qn.b)(e=>{if(sc(e))throw q_(0,e)}),(0,Ot.U)(e=>!0===e))}class Sm{constructor(e){this.segmentGroup=e||null}}class Am{constructor(e){this.urlTree=e}}function ch(n){return Bo(new Sm(n))}function lh(n){return Bo(new Am(n))}class OE{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new c.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return(0,pt.of)(r);if(s.numberOfChildren>1||!s.children[Bt])return Bo(new c.vHH(4e3,!1));s=s.children[Bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new va(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([s,u])=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);r[s]=t[g]}else r[s]=u}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return Object.entries(t.children).forEach(([g,_])=>{d[g]=this.createSegmentGroup(e,_,r,s)}),new fn(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new c.vHH(4001,!1);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}const Mm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kE(n,e,t,r,s){const u=Rm(n,e,t);return u.matched?(r=function Em(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function tM(n,e,t,r){const s=e.canMatch;if(!s||0===s.length)return(0,pt.of)(!0);const u=s.map(d=>{const g=du(d,n);return Is(function Cm(n){return n&&Ol(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))});return(0,pt.of)(u).pipe(kl(),PE())}(r,e,t).pipe((0,Ot.U)(d=>!0===d?u:{...Mm}))):(0,pt.of)(u)}function Rm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Mm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||F_)(t,n,e);if(!s)return{...Mm};const u={};Object.entries(s.posParams??{}).forEach(([g,_])=>{u[g]=_.path});const d=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:d,positionalParamSegments:s.posParams??{}}}function FE(n,e,t,r){return t.length>0&&function ET(n,e,t){return t.some(r=>qo(n,e,r)&&Us(r)!==Bt)}(n,t,r)?{segmentGroup:new fn(e,wT(r,new fn(t,n.children))),slicedSegments:[]}:0===t.length&&function IT(n,e,t){return t.some(r=>qo(n,e,r))}(n,t,r)?{segmentGroup:new fn(n.segments,vT(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new fn(n.segments,n.children),slicedSegments:t}}function vT(n,e,t,r,s){const u={};for(const d of r)if(qo(n,t,d)&&!s[Us(d)]){const g=new fn([],{});u[Us(d)]=g}return{...s,...u}}function wT(n,e){const t={};t[Bt]=e;for(const r of n)if(""===r.path&&Us(r)!==Bt){const s=new fn([],{});t[Us(r)]=s}return t}function qo(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class rM{constructor(e,t,r,s,u,d,g){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=s,this.urlTree=u,this.paramsInheritanceStrategy=d,this.urlSerializer=g,this.allowRedirects=!0,this.applyRedirects=new OE(this.urlSerializer,this.urlTree)}noMatchError(e){return new c.vHH(4002,!1)}recognize(){const e=FE(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Bt).pipe(Xr(t=>{if(t instanceof Am)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Sm?this.noMatchError(t):t}),(0,Ot.U)(t=>{const r=new tp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Bt,this.rootComponentType,null,{}),s=new Go(r,t),u=new wE("",s),d=function cm(n,e,t=null,r=null){return dm(lm(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return d.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(d),this.inheritParamsAndData(u._root),{state:u,tree:d}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Bt).pipe(Xr(r=>{throw r instanceof Sm?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=$_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s,!0)}processChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,hn.D)(s).pipe(ci(u=>{const d=r.children[u],g=function hT(n,e){const t=n.filter(r=>Us(r)===e);return t.push(...n.filter(r=>Us(r)!==e)),t}(t,u);return this.processSegmentGroup(e,g,d,u)}),po((u,d)=>(u.push(...d),u)),_a(null),function Dl(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Bi((s,u)=>n(s,u,r)):Ji.y,Es(1),t?_a(e):eh(()=>new lo))}(),(0,br.z)(u=>{if(null===u)return ch(r);const d=CT(u);return function iM(n){n.sort((e,t)=>e.value.outlet===Bt?-1:t.value.outlet===Bt?1:e.value.outlet.localeCompare(t.value.outlet))}(d),(0,pt.of)(d)}))}processSegment(e,t,r,s,u,d){return(0,hn.D)(t).pipe(ci(g=>this.processSegmentAgainstRoute(g._injector??e,t,g,r,s,u,d).pipe(Xr(_=>{if(_ instanceof Sm)return(0,pt.of)(null);throw _}))),ws(g=>!!g),Xr(g=>{if(ah(g))return function bT(n,e,t){return 0===e.length&&!n.children[t]}(r,s,u)?(0,pt.of)([]):ch(r);throw g}))}processSegmentAgainstRoute(e,t,r,s,u,d,g){return function cp(n,e,t,r){return!!(Us(n)===r||r!==Bt&&qo(e,t,n))&&("**"===n.path||Rm(e,n,t).matched)}(r,s,u,d)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,s,r,u,d,g):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,s,t,r,u,d):ch(s):ch(s)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lh(u):this.applyRedirects.lineralizeSegments(r,u).pipe((0,br.z)(d=>{const g=new fn(d,{});return this.processSegment(e,t,g,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:g,consumedSegments:_,remainingSegments:C,positionalParamSegments:T}=Rm(t,s,u);if(!g)return ch(t);const M=this.applyRedirects.applyRedirectCommands(_,s.redirectTo,T);return s.redirectTo.startsWith("/")?lh(M):this.applyRedirects.lineralizeSegments(s,M).pipe((0,br.z)(j=>this.processSegment(e,r,t,j.concat(C),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u,d){let g;if("**"===r.path){const _=s.length>0?Mn(s).parameters:{},C=new tp(s,_,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LE(r),Us(r),r.component??r._loadedComponent??null,r,UE(r));g=(0,pt.of)({snapshot:C,consumedSegments:[],remainingSegments:[]}),t.children={}}else g=kE(t,r,s,e).pipe((0,Ot.U)(({matched:_,consumedSegments:C,remainingSegments:T,parameters:M})=>_?{snapshot:new tp(C,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,LE(r),Us(r),r.component??r._loadedComponent??null,r,UE(r)),consumedSegments:C,remainingSegments:T}:null));return g.pipe((0,sr.w)(_=>null===_?ch(t):this.getChildConfig(e=r._injector??e,r,s).pipe((0,sr.w)(({routes:C})=>{const T=r._loadedInjector??e,{snapshot:M,consumedSegments:j,remainingSegments:K}=_,{segmentGroup:ae,slicedSegments:_e}=FE(t,j,K,C);if(0===_e.length&&ae.hasChildren())return this.processChildren(T,C,ae).pipe((0,Ot.U)(tt=>null===tt?null:[new Go(M,tt)]));if(0===C.length&&0===_e.length)return(0,pt.of)([new Go(M,[])]);const ve=Us(r)===u;return this.processSegment(T,C,ae,_e,ve?Bt:u,!0).pipe((0,Ot.U)(tt=>[new Go(M,tt)]))}))))}getChildConfig(e,t,r){return t.children?(0,pt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function _T(n,e,t,r){const s=e.canLoad;if(void 0===s||0===s.length)return(0,pt.of)(!0);const u=s.map(d=>{const g=du(d,n);return Is(function bm(n){return n&&Ol(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))});return(0,pt.of)(u).pipe(kl(),PE())}(e,t,r).pipe((0,br.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,qn.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function X_(n){return Bo(Nl(!1,3))}())):(0,pt.of)({routes:[],injector:e})}}function sM(n){const e=n.value.routeConfig;return e&&""===e.path}function CT(n){const e=[],t=new Set;for(const r of n){if(!sM(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=CT(r.children);e.push(new Go(r.value,s))}return e.filter(r=>!t.has(r))}function LE(n){return n.data||{}}function UE(n){return n.resolve||{}}function tv(n){return"string"==typeof n.title||null===n.title}function Nm(n){return(0,sr.w)(e=>{const t=n(e);return t?(0,hn.D)(t).pipe((0,Ot.U)(()=>e)):(0,pt.of)(e)})}const dp=new c.OlP("ROUTES");let BE=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Is(t.loadComponent()).pipe((0,Ot.U)(Pm),(0,qn.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),$o(()=>{this.componentLoaders.delete(t)})),s=new ho(r,()=>new fo.x).pipe(jo());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,pt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Ot.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,C;return Array.isArray(g)?C=g:(_=g.create(t).injector,C=_.get(dp,[],c.XFs.Self|c.XFs.Optional).flat()),{routes:C.map(Im),injector:_}}),$o(()=>{this.childrenLoaders.delete(r)})),d=new ho(u,()=>new fo.x).pipe(jo());return this.childrenLoaders.set(r,d),d}loadModuleFactoryOrRoutes(t){return Is(t()).pipe((0,Ot.U)(Pm),(0,br.z)(r=>r instanceof c.YKP||Array.isArray(r)?(0,pt.of)(r):(0,hn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Pm(n){return function oM(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let dh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new fo.x,this.configLoader=(0,c.f3M)(BE),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(q),this.rootContexts=(0,c.f3M)(ih),this.inputBindingEnabled=null!==(0,c.f3M)(sh,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new sT(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new ba(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Ci.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:xl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Bi(r=>0!==r.id),(0,Ot.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,sr.w)(r=>{let s=!1,u=!1;return(0,pt.of)(r).pipe((0,qn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,sr.w)(d=>{const g=t.browserUrlTree.toString(),_=!t.navigated||d.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(d.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Ia(d.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=d.rawUrl,d.resolve(null),vs.E}if(t.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return AT(d.source)&&(t.browserUrlTree=d.extractedUrl),(0,pt.of)(d).pipe((0,sr.w)(T=>{const M=this.transitions?.getValue();return this.events.next(new Ea(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),M!==this.transitions?.getValue()?vs.E:Promise.resolve(T)}),function TT(n,e,t,r,s,u){return(0,br.z)(d=>function nM(n,e,t,r,s,u,d="emptyOnly"){return new rM(n,e,t,r,s,d,u).recognize()}(n,e,t,r,d.extractedUrl,s,u).pipe((0,Ot.U)(({state:g,tree:_})=>({...d,targetSnapshot:g,urlAfterRedirects:_}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,qn.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,r.urlAfterRedirects=T.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const j=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(j,T)}t.browserUrlTree=T.urlAfterRedirects}const M=new ac(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:M,source:j,restoredState:K,extras:ae}=d,_e=new Ea(T,this.urlSerializer.serialize(M),j,K);this.events.next(_e);const ve=Si(0,this.rootComponentType).snapshot;return r={...d,targetSnapshot:ve,urlAfterRedirects:M,extras:{...ae,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(r)}{const T="";return this.events.next(new Ia(d.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=d.rawUrl,d.resolve(null),vs.E}}),(0,qn.b)(d=>{const g=new rh(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(g)}),(0,Ot.U)(d=>r={...d,guards:fT(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function gT(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?(0,pt.of)({...t,guardsResult:!0}):function mT(n,e,t,r){return(0,hn.D)(n).pipe((0,br.z)(s=>function uh(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,pt.of)(!0);const d=u.map(g=>{const _=sp(e)??s,C=du(g,_);return Is(function Y_(n){return n&&Ol(n.canDeactivate)}(C)?C.canDeactivate(n,e,t,r):_.runInContext(()=>C(n,e,t,r))).pipe(ws())});return(0,pt.of)(d).pipe(kl())}(s.component,s.route,t,e,r)),ws(s=>!0!==s,!0))}(d,r,s,n).pipe((0,br.z)(g=>g&&function xE(n){return"boolean"==typeof n}(g)?function yT(n,e,t,r){return(0,hn.D)(e).pipe(ci(s=>es(function NE(n,e){return null!==n&&e&&e(new oT(n)),(0,pt.of)(!0)}(s.route.parent,r),function RE(n,e){return null!==n&&e&&e(new yE(n)),(0,pt.of)(!0)}(s.route,r),function J_(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function eM(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Wf(()=>{const g=d.guards.map(_=>{const C=sp(d.node)??t,T=du(_,C);return Is(function ME(n){return n&&Ol(n.canActivateChild)}(T)?T.canActivateChild(r,n):C.runInContext(()=>T(r,n))).pipe(ws())});return(0,pt.of)(g).pipe(kl())}));return(0,pt.of)(u).pipe(kl())}(n,s.path,t),function Tm(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,pt.of)(!0);const s=r.map(u=>Wf(()=>{const d=sp(e)??t,g=du(u,d);return Is(function up(n){return n&&Ol(n.canActivate)}(g)?g.canActivate(e,n):d.runInContext(()=>g(e,n))).pipe(ws())}));return(0,pt.of)(s).pipe(kl())}(n,s.route,t))),ws(s=>!0!==s,!0))}(r,u,n,e):(0,pt.of)(g)),(0,Ot.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,d=>this.events.next(d)),(0,qn.b)(d=>{if(r.guardsResult=d.guardsResult,sc(d.guardsResult))throw q_(0,d.guardsResult);const g=new fm(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(g)}),Bi(d=>!!d.guardsResult||(t.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),Nm(d=>{if(d.guards.canActivateChecks.length)return(0,pt.of)(d).pipe((0,qn.b)(g=>{const _=new pm(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),(0,sr.w)(g=>{let _=!1;return(0,pt.of)(g).pipe(function ST(n,e){return(0,br.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return(0,pt.of)(t);let u=0;return(0,hn.D)(s).pipe(ci(d=>function ev(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!tv(s)&&(u[Ho]=s.title),function hu(n,e,t,r){const s=function lp(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return(0,pt.of)({});const u={};return(0,hn.D)(s).pipe((0,br.z)(d=>function VE(n,e,t,r){const s=sp(e)??r,u=du(n,s);return Is(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[d],e,t,r).pipe(ws(),(0,qn.b)(g=>{u[d]=g}))),Es(1),function Xu(n){return(0,Ot.U)(()=>n)}(u),Xr(d=>ah(d)?vs.E:Bo(d)))}(u,n,e,r).pipe((0,Ot.U)(d=>(n._resolvedData=d,n.data=$_(n,t).resolve,s&&tv(s)&&(n.data[Ho]=s.title),null)))}(d.route,r,n,e)),(0,qn.b)(()=>u++),Es(1),(0,br.z)(d=>u===s.length?(0,pt.of)(t):vs.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,qn.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,qn.b)(g=>{const _=new gm(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),Nm(d=>{const g=_=>{const C=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,qn.b)(T=>{_.component=T}),(0,Ot.U)(()=>{})));for(const T of _.children)C.push(...g(T));return C};return co(g(d.targetSnapshot.root)).pipe(_a(),Ps(1))}),Nm(()=>this.afterPreactivation()),(0,Ot.U)(d=>{const g=function np(n,e,t){const r=rp(n,e._root,t?t._root:void 0);return new mm(r,e)}(t.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:g}}),(0,qn.b)(d=>{t.currentUrlTree=d.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),t.routerState=d.targetRouterState,"deferred"===t.urlUpdateStrategy&&(d.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,d),t.browserUrlTree=d.urlAfterRedirects)}),((n,e,t,r)=>(0,Ot.U)(s=>(new Pl(e,s.targetRouterState,s.currentRouterState,t,r).activate(n),s)))(this.rootContexts,t.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),Ps(1),(0,qn.b)({next:d=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new go(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{s=!0}}),$o(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Xr(d=>{if(u=!0,Z_(d)){ip(d)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new oc(r.id,this.urlSerializer.serialize(r.extractedUrl),d.message,d.cancellationCode);if(this.events.next(g),ip(d)){const _=t.urlHandlingStrategy.merge(d.url,t.rawUrlTree),C={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||AT(r.source)};t.scheduleNavigation(_,xl,null,C,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Ml(r.id,this.urlSerializer.serialize(r.extractedUrl),d,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(d))}catch(_){r.reject(_)}}return vs.E}))}))}cancelNavigationTransition(t,r,s){const u=new oc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AT(n){return n!==xl}let xT=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Bt);return r}getResolvedTitleForRoute(t){return t.data[Ho]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(jE)},providedIn:"root"}),n})(),jE=(()=>{class n extends xT{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gu))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),MT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(NT)},providedIn:"root"}),n})();class RT{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let NT=(()=>{class n extends RT{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Om=new c.OlP("",{providedIn:"root",factory:()=>({})});let $E=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(km)},providedIn:"root"}),n})(),km=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Vs=(()=>((Vs=Vs||{})[Vs.COMPLETE=0]="COMPLETE",Vs[Vs.FAILED=1]="FAILED",Vs[Vs.REDIRECTING=2]="REDIRECTING",Vs))();function Fm(n,e){n.events.pipe(Bi(t=>t instanceof go||t instanceof oc||t instanceof Ml||t instanceof Ia),(0,Ot.U)(t=>t instanceof go||t instanceof Ia?Vs.COMPLETE:t instanceof oc&&(0===t.code||1===t.code)?Vs.REDIRECTING:Vs.FAILED),Bi(t=>t!==Vs.REDIRECTING),Ps(1)).subscribe(()=>{e()})}function PT(n){throw n}function jr(n,e,t){return e.parse("/")}const OT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ar=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Om,{optional:!0})||{},this.pendingTasks=(0,c.f3M)(c.HDt),this.errorHandler=this.options.errorHandler||PT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||jr,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)($E),this.routeReuseStrategy=(0,c.f3M)(MT),this.titleStrategy=(0,c.f3M)(xT),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,c.f3M)(dp,{optional:!0})?.flat()??[],this.navigationTransitions=(0,c.f3M)(dh),this.urlSerializer=(0,c.f3M)(q),this.location=(0,c.f3M)(We),this.componentInputBindingEnabled=!!(0,c.f3M)(sh,{optional:!0}),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new va,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Si(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),xl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},d=s?.navigationId?s:null;if(s){const _={...s};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,d,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Im),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:_}=r,C=_?this.currentUrlTree.fragment:d;let M,T=null;switch(g){case"merge":T={...this.currentUrlTree.queryParams,...u};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=u||null}null!==T&&(T=this.removeEmptyProps(T));try{M=lm(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),M=this.currentUrlTree.root}return dm(M,t,T,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=sc(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,xl,null,r)}navigate(t,r={skipLocationChange:!1}){return function HE(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new c.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...OT}:!1===r?{...kT}:r,sc(t))return hr(this.currentUrlTree,t,s);const u=this.parseUrl(t);return hr(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,d){if(this.disposed)return Promise.resolve(!1);let g,_,C;d?(g=d.resolve,_=d.reject,C=d.promise):C=new Promise((M,j)=>{g=M,_=j});const T=this.pendingTasks.add();return Fm(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:C,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),C.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){const d={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(s,"",d)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(s,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zo=(()=>{class n{constructor(t,r,s,u,d,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this.locationStrategy=g,this.href=null,this.commands=null,this.onChanges=new fo.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const _=d.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(C=>{C instanceof go&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,d){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||d||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ar),c.Y36(Cs),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Fe))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",c.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",c.VuI],replaceUrl:["replaceUrl","replaceUrl",c.VuI],routerLink:"routerLink"},standalone:!0,features:[c.Xq5,c.TTD]}),n})();class zE{}let aM=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=d}setUpPreloading(){this.subscription=this.router.events.pipe(Bi(t=>t instanceof go),ci(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,c.MMx)(u.providers,t,`Route: ${u.path}`));const d=u._injector??t,g=u._loadedInjector??d;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&s.push(this.preloadConfig(d,u)),(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,hn.D)(s).pipe((0,Ns.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,pt.of)(null);const u=s.pipe((0,br.z)(d=>null===d?(0,pt.of)(void 0):(r._loadedRoutes=d.routes,r._loadedInjector=d.injector,this.processRoutes(d.injector??t,d.routes))));if(r.loadComponent&&!r._loadedComponent){const d=this.loader.loadComponent(r);return(0,hn.D)([u,d]).pipe((0,Ns.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ar),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(zE),c.LFG(BE))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fl=new c.OlP("");let wn=(()=>{class n{constructor(t,r,s,u,d={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ea?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof go?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ia&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof _E&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _E(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Ca(n,e){return{\u0275kind:n,\u0275providers:e}}function rv(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const r=n.get(ar),s=n.get(Um);1===n.get(ZE)&&r.initialNavigation(),n.get(sv,null,c.XFs.Optional)?.setUpPreloading(),n.get(Fl,null,c.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.complete(),s.unsubscribe())}}const Um=new c.OlP("",{factory:()=>new fo.x}),ZE=new c.OlP("",{providedIn:"root",factory:()=>1}),sv=new c.OlP("");function KE(n){return Ca(0,[{provide:sv,useExisting:aM},{provide:zE,useExisting:n}])}const Bm=new c.OlP("ROUTER_FORROOT_GUARD"),jm=[We,{provide:q,useClass:Y},ar,ih,{provide:Cs,useFactory:function nv(n){return n.routerState.root},deps:[ar]},BE,[]];function Ll(){return new c.PXZ("Router",ar)}let $m=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jm,[],{provide:dp,multi:!0,useValue:t},{provide:Bm,useFactory:QE,deps:[[ar,new c.FiY,new c.tp0]]},{provide:Om,useValue:r||{}},r?.useHash?{provide:Fe,useClass:Ne}:{provide:Fe,useClass:Ze},{provide:Fl,useFactory:()=>{const n=(0,c.f3M)(No),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(Om),r=(0,c.f3M)(dh),s=(0,c.f3M)(q);return t.scrollOffset&&n.setOffset(t.scrollOffset),new wn(s,r,n,e,t)}},r?.preloadingStrategy?KE(r.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:Ll},r?.initialNavigation?fh(r):[],r?.bindToComponentInputs?Ca(8,[IE,{provide:sh,useExisting:IE}]).\u0275providers:[],[{provide:JE,useFactory:rv},{provide:c.tb,multi:!0,useExisting:JE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:dp,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Bm,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function QE(n){return"guarded"}function fh(n){return["disabled"===n.initialNavigation?Ca(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(ar);return()=>{e.setUpLocationChangeListener()}}},{provide:ZE,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ca(2,[{provide:ZE,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(Me,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const s=e.get(ar),u=e.get(Um);Fm(s,()=>{r(!0)}),e.get(dh).afterPreactivation=()=>(r(!0),u.closed?(0,pt.of)(void 0):u),s.initialNavigation()}))}}]).\u0275providers:[]]}const JE=new c.OlP("");class av{}class uv{}class Da{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(d):this.headers.set(u,[d])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Da?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Da;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Da?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let d=this.headers.get(t);if(!d)return;d=d.filter(g=>-1===u.indexOf(g)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(u=>u.toString()),s=e.toLowerCase();this.headers.set(s,r),this.maybeSetNormalizedName(e,s)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pM{encodeKey(e){return zm(e)}encodeValue(e){return zm(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Hm=/%(\d[a-f0-9])/gi,qT={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zm(n){return encodeURIComponent(n).replace(Hm,(e,t)=>qT[t]??e)}function ph(n){return`${n}`}class mo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pM,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gM(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[d,g]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],_=t.get(d)||[];_.push(g),t.set(d,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(ph):[ph(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new mo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ph(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(ph(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class cv{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fp(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function gh(n){return typeof Blob<"u"&&n instanceof Blob}function lv(n){return typeof FormData<"u"&&n instanceof FormData}class uc{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function hp(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new Da),this.context||(this.context=new cv),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+d}}else this.params=new mo,this.urlWithParams=t}serializeBody(){return null===this.body?null:fp(this.body)||gh(this.body)||lv(this.body)||function dv(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof mo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lv(this.body)?null:gh(this.body)?this.body.type||null:fp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof mo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,d=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,C=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,j)=>M.set(j,e.setHeaders[j]),_)),e.setParams&&(C=Object.keys(e.setParams).reduce((M,j)=>M.set(j,e.setParams[j]),C)),new uc(t,r,u,{params:C,headers:_,context:T,reportProgress:g,responseType:s,withCredentials:d})}}var ei=(()=>((ei=ei||{})[ei.Sent=0]="Sent",ei[ei.UploadProgress=1]="UploadProgress",ei[ei.ResponseHeader=2]="ResponseHeader",ei[ei.DownloadProgress=3]="DownloadProgress",ei[ei.Response=4]="Response",ei[ei.User=5]="User",ei))();class pp{constructor(e,t=200,r="OK"){this.headers=e.headers||new Da,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class gp extends pp{constructor(e={}){super(e),this.type=ei.ResponseHeader}clone(e={}){return new gp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ul extends pp{constructor(e={}){super(e),this.type=ei.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Ul({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class nI extends pp{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function hv(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let mp=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof uc)u=t;else{let _,C;_=s.headers instanceof Da?s.headers:new Da(s.headers),s.params&&(C=s.params instanceof mo?s.params:new mo({fromObject:s.params})),u=new uc(t,r,void 0!==s.body?s.body:null,{headers:_,context:s.context,params:C,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const d=(0,pt.of)(u).pipe(ci(_=>this.handler.handle(_)));if(t instanceof uc||"events"===s.observe)return d;const g=d.pipe(Bi(_=>_ instanceof Ul));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Ot.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,Ot.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,Ot.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,Ot.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new mo).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,hv(s,r))}post(t,r,s={}){return this.request("POST",t,hv(s,r))}put(t,r,s={}){return this.request("PUT",t,hv(s,r))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(av))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function iI(n,e){return e(n)}function sI(n,e){return(t,r)=>e.intercept(t,{handle:s=>n(s,r)})}const qm=new c.OlP(""),yp=new c.OlP(""),pv=new c.OlP("");function YT(){let n=null;return(e,t)=>{null===n&&(n=((0,c.f3M)(qm,{optional:!0})??[]).reduceRight(sI,iI));const r=(0,c.f3M)(c.HDt),s=r.add();return n(e,t).pipe($o(()=>r.remove(s)))}}let gv=(()=>{class n extends av{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=(0,c.f3M)(c.HDt)}handle(t){if(null===this.chain){const s=Array.from(new Set([...this.injector.get(yp),...this.injector.get(pv,[])]));this.chain=s.reduceRight((u,d)=>function fv(n,e,t){return(r,s)=>t.runInContext(()=>e(r,u=>n(u,s)))}(u,d,this.injector),iI)}const r=this.pendingTasks.add();return this.chain(t,s=>this.backend.handle(s)).pipe($o(()=>this.pendingTasks.remove(r)))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uv),c.LFG(c.lqb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const uI=/^\)\]\}',?\n/;let Wm=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new c.vHH(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?(0,hn.D)(r.\u0275loadImpl()):(0,pt.of)(null)).pipe((0,sr.w)(()=>new bi.y(u=>{const d=r.build();if(d.open(t.method,t.urlWithParams),t.withCredentials&&(d.withCredentials=!0),t.headers.forEach((_e,ve)=>d.setRequestHeader(_e,ve.join(","))),t.headers.has("Accept")||d.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const _e=t.detectContentTypeHeader();null!==_e&&d.setRequestHeader("Content-Type",_e)}if(t.responseType){const _e=t.responseType.toLowerCase();d.responseType="json"!==_e?_e:"text"}const g=t.serializeBody();let _=null;const C=()=>{if(null!==_)return _;const _e=d.statusText||"OK",ve=new Da(d.getAllResponseHeaders()),tt=function cI(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(d)||t.url;return _=new gp({headers:ve,status:d.status,statusText:_e,url:tt}),_},T=()=>{let{headers:_e,status:ve,statusText:tt,url:mt}=C(),ze=null;204!==ve&&(ze=typeof d.response>"u"?d.responseText:d.response),0===ve&&(ve=ze?200:0);let ot=ve>=200&&ve<300;if("json"===t.responseType&&"string"==typeof ze){const Nt=ze;ze=ze.replace(uI,"");try{ze=""!==ze?JSON.parse(ze):null}catch(Zt){ze=Nt,ot&&(ot=!1,ze={error:Zt,text:ze})}}ot?(u.next(new Ul({body:ze,headers:_e,status:ve,statusText:tt,url:mt||void 0})),u.complete()):u.error(new nI({error:ze,headers:_e,status:ve,statusText:tt,url:mt||void 0}))},M=_e=>{const{url:ve}=C(),tt=new nI({error:_e,status:d.status||0,statusText:d.statusText||"Unknown Error",url:ve||void 0});u.error(tt)};let j=!1;const K=_e=>{j||(u.next(C()),j=!0);let ve={type:ei.DownloadProgress,loaded:_e.loaded};_e.lengthComputable&&(ve.total=_e.total),"text"===t.responseType&&d.responseText&&(ve.partialText=d.responseText),u.next(ve)},ae=_e=>{let ve={type:ei.UploadProgress,loaded:_e.loaded};_e.lengthComputable&&(ve.total=_e.total),u.next(ve)};return d.addEventListener("load",T),d.addEventListener("error",M),d.addEventListener("timeout",M),d.addEventListener("abort",M),t.reportProgress&&(d.addEventListener("progress",K),null!==g&&d.upload&&d.upload.addEventListener("progress",ae)),d.send(g),u.next({type:ei.Sent}),()=>{d.removeEventListener("error",M),d.removeEventListener("abort",M),d.removeEventListener("load",T),d.removeEventListener("timeout",M),t.reportProgress&&(d.removeEventListener("progress",K),null!==g&&d.upload&&d.upload.removeEventListener("progress",ae)),d.readyState!==d.DONE&&d.abort()}})))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nr))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=new c.OlP("XSRF_ENABLED"),XT=new c.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Bl=new c.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class vp{}let dI=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=So(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(c.Lbi),c.LFG(XT))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function hI(n,e){const t=n.url.toLowerCase();if(!(0,c.f3M)(Vl)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,c.f3M)(vp).getToken(),s=(0,c.f3M)(Bl);return null!=r&&!n.headers.has(s)&&(n=n.clone({headers:n.headers.set(s,r)})),e(n)}var ur=(()=>((ur=ur||{})[ur.Interceptors=0]="Interceptors",ur[ur.LegacyInterceptors=1]="LegacyInterceptors",ur[ur.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ur[ur.NoXsrfProtection=3]="NoXsrfProtection",ur[ur.JsonpSupport=4]="JsonpSupport",ur[ur.RequestsMadeViaParent=5]="RequestsMadeViaParent",ur[ur.Fetch=6]="Fetch",ur))();function jl(n,e){return{\u0275kind:n,\u0275providers:e}}function eS(...n){const e=[mp,Wm,gv,{provide:av,useExisting:gv},{provide:uv,useExisting:Wm},{provide:yp,useValue:hI,multi:!0},{provide:Vl,useValue:!0},{provide:vp,useClass:dI}];for(const t of n)e.push(...t.\u0275providers);return(0,c.MR2)(e)}const fI=new c.OlP("LEGACY_INTERCEPTOR_FN");let CM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eS(jl(ur.LegacyInterceptors,[{provide:fI,useFactory:YT},{provide:yp,useExisting:fI,multi:!0}]))]}),n})(),Ht=(()=>{class n{constructor(t){this.http=t,this.urlRaiz="https://olx-node-sx91.onrender.com/"}obtenerCategoria(){return this.http.get(this.urlRaiz+"categoria")}obtenerCategoriaById(t){return this.http.get(this.urlRaiz+"categoria/"+t)}validarExistenciaCategoria(t){return this.http.get(this.urlRaiz+"categoria/nombre/"+t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var _v=L(6878),Jt=L(9058),yo=L(534),lc=L(7879),mh=L(4537),iS=L(6321),pn=L(8186);function Ym(){return(0,Vi.e)((n,e)=>{let t,r=!1;n.subscribe((0,Ui.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}var Ye,sS=L(3997),_o=L(6304),oS=(L(6365),L(3106)),be=L(5861),_I=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},vo={},dc=dc||{},zt=_I||self;function Qm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function hc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Ip="closure_uid_"+(1e9*Math.random()>>>0),bp=0;function vI(n,e,t){return n.call.apply(n.bind,arguments)}function vv(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function di(n,e,t){return(di=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?vI:vv).apply(null,arguments)}function _h(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ti(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,s,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[s].apply(r,d)}}function Ta(){this.s=this.s,this.o=this.o}Ta.prototype.s=!1,Ta.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function yh(n){Object.prototype.hasOwnProperty.call(n,Ip)&&n[Ip]||(n[Ip]=++bp)}(this)},Ta.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wI=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function wv(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Ev(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Qm(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let d=0;d<u;d++)n[s+d]=r[d]}else n.push(r)}}function $i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}$i.prototype.h=function(){this.defaultPrevented=!0};var uS=function(){if(!zt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{zt.addEventListener("test",()=>{},e),zt.removeEventListener("test",()=>{},e)}catch{}return n}();function Cp(n){return/^[\s\xa0]*$/.test(n)}function Jm(){var n=zt.navigator;return n&&(n=n.userAgent)?n:""}function Wo(n){return-1!=Jm().indexOf(n)}function Xm(n){return Xm[" "](n),n}Xm[" "]=function(){};var Dv,n,lS=Wo("Opera"),hi=Wo("Trident")||Wo("MSIE"),EI=Wo("Edge"),Iv=EI||hi,dS=Wo("Gecko")&&!(-1!=Jm().toLowerCase().indexOf("webkit")&&!Wo("Edge"))&&!(Wo("Trident")||Wo("MSIE"))&&!Wo("Edge"),bv=-1!=Jm().toLowerCase().indexOf("webkit")&&!Wo("Edge");function Cv(){var n=zt.document;return n?n.documentMode:void 0}e:{var Tv="",Sv=(n=Jm(),dS?/rv:([^\);]+)(\)|;)/.exec(n):EI?/Edge\/([\d\.]+)/.exec(n):hi?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):bv?/WebKit\/(\S+)/.exec(n):lS?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Sv&&(Tv=Sv?Sv[1]:""),hi){var ey=Cv();if(null!=ey&&ey>parseFloat(Tv)){Dv=String(ey);break e}}Dv=Tv}var xv=zt.document&&hi&&(Cv()||parseInt(Dv,10))||void 0;function Dp(n,e){if($i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(dS){e:{try{Xm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:hS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Dp.$.h.call(this)}}ti(Dp,$i);var hS={2:"touch",3:"pen",4:"mouse"};Dp.prototype.h=function(){Dp.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Tp="closure_listenable_"+(1e6*Math.random()|0),fS=0;function pS(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++fS,this.fa=this.ia=!1}function Bs(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Sp(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Mv(n){const e={};for(const t in n)e[t]=n[t];return e}const bI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rv(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<bI.length;u++)t=bI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Ap(n){this.src=n,this.g={},this.h=0}function vh(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=wI(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(Bs(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function xp(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Ap.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=xp(n,e,r,s);return-1<d?(e=n[d],t||(e.ia=!1)):((e=new pS(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var CI="closure_lm_"+(1e6*Math.random()|0),ty={};function Nv(n,e,t,r,s){if(r&&r.once)return ny(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Nv(n,e[u],t,r,s);return null}return t=Uv(t),n&&n[Tp]?n.O(e,t,hc(r)?!!r.capture:!!r,s):Pv(n,e,t,!1,r,s)}function Pv(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=hc(s)?!!s.capture:!!s,g=Fv(n);if(g||(n[CI]=g=new Ap(n)),(t=g.add(e,t,r,d,u)).proxy)return t;if(r=function DI(){const e=kv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)uS||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(TI(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function ny(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)ny(n,e[u],t,r,s);return null}return t=Uv(t),n&&n[Tp]?n.P(e,t,hc(r)?!!r.capture:!!r,s):Pv(n,e,t,!0,r,s)}function Sa(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Sa(n,e[u],t,r,s);else r=hc(r)?!!r.capture:!!r,t=Uv(t),n&&n[Tp]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=xp(u=n.g[e],t,r,s))&&(Bs(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=Fv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=xp(e,t,r,s)),(t=-1<n?e[n]:null)&&Ov(t))}function Ov(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Tp])vh(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(TI(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=Fv(e))?(vh(t,n),0==t.h&&(t.src=null,e[CI]=null)):Bs(n)}}}function TI(n){return n in ty?ty[n]:ty[n]="on"+n}function kv(n,e){if(n.fa)n=!0;else{e=new Dp(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Ov(n),n=t.call(r,e)}return n}function Fv(n){return(n=n[CI])instanceof Ap?n:null}var Lv="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uv(n){return"function"==typeof n?n:(n[Lv]||(n[Lv]=function(e){return n.handleEvent(e)}),n[Lv])}function Ai(){Ta.call(this),this.i=new Ap(this),this.S=this,this.J=null}function fi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new $i(e,n);else if(e instanceof $i)e.target=e.target||n;else{var s=e;Rv(e=new $i(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=ry(d,r,!0,e)&&s}if(s=ry(d=e.g=n,r,!0,e)&&s,s=ry(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=ry(d=e.g=t[u],r,!1,e)&&s}function ry(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.fa&&d.capture==t){var g=d.listener,_=d.la||d.src;d.ia&&vh(n.i,d),s=!1!==g.call(_,r)&&s}}return s&&!r.defaultPrevented}ti(Ai,Ta),Ai.prototype[Tp]=!0,Ai.prototype.removeEventListener=function(n,e,t,r){Sa(this,n,e,t,r)},Ai.prototype.N=function(){if(Ai.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Bs(t[r]);delete n.g[e],n.h--}}this.J=null},Ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ai.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var wh=zt.JSON.stringify;function iy(){var n=sy;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var SI=new class Mp{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new AI,n=>n.reset());class AI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function xI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function mS(n){zt.setTimeout(()=>{throw n},0)}let Rp,Eh=!1,sy=new class SM{constructor(){this.h=this.g=null}add(e,t){const r=SI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},Ih=()=>{const n=zt.Promise.resolve(void 0);Rp=()=>{n.then(yS)}};var yS=()=>{for(var n;n=iy();){try{n.h.call(n.g)}catch(t){mS(t)}var e=SI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Eh=!1};function Np(n,e){Ai.call(this),this.h=n||1,this.g=e||zt,this.j=di(this.qb,this),this.l=Date.now()}function oy(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function Vv(n,e,t){if("function"==typeof n)t&&(n=di(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=di(n.handleEvent,n)}return 2147483647<Number(e)?-1:zt.setTimeout(n,e||0)}function MI(n){n.g=Vv(()=>{n.g=null,n.i&&(n.i=!1,MI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ti(Np,Ai),(Ye=Np.prototype).ga=!1,Ye.T=null,Ye.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),fi(this,"tick"),this.ga&&(oy(this),this.start()))}},Ye.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ye.N=function(){Np.$.N.call(this),oy(this),delete this.g};class Pp extends Ta{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MI(this)}N(){super.N(),this.g&&(zt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Op(n){Ta.call(this),this.h=n,this.g={}}ti(Op,Ta);var _S=[];function RI(n,e,t,r){Array.isArray(t)||(t&&(_S[0]=t.toString()),t=_S);for(var s=0;s<t.length;s++){var u=Nv(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function NI(n){Sp(n.g,function(e,t){this.g.hasOwnProperty(t)&&Ov(e)},n),n.g={}}function ay(){this.g=!0}function bh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function PI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return wh(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Op.prototype.N=function(){Op.$.N.call(this),NI(this)},Op.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ay.prototype.Ea=function(){this.g=!1},ay.prototype.info=function(){};var fu={},OI=null;function $l(){return OI=OI||new Ai}function kI(n){$i.call(this,fu.Ta,n)}function kp(n){const e=$l();fi(e,new kI(e))}function FI(n,e){$i.call(this,fu.STAT_EVENT,n),this.stat=e}function is(n){const e=$l();fi(e,new FI(e,n))}function LI(n,e){$i.call(this,fu.Ua,n),this.size=e}function Fp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return zt.setTimeout(function(){n()},e)}fu.Ta="serverreachability",ti(kI,$i),fu.STAT_EVENT="statevent",ti(FI,$i),fu.Ua="timingevent",ti(LI,$i);var uy={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Bv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function cy(){}function IS(){}cy.prototype.h=null;var Dh,Ch={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function ly(){$i.call(this,"d")}function VI(){$i.call(this,"c")}function dy(){}function Lp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Op(this),this.P=bS,this.V=new Np(n=Iv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new hy}function hy(){this.i=null,this.g="",this.h=!1}ti(ly,$i),ti(VI,$i),ti(dy,cy),dy.prototype.g=function(){return new XMLHttpRequest},dy.prototype.i=function(){return{}},Dh=new dy;var bS=45e3,wo={},fc={};function pi(n,e,t){n.L=1,n.v=jp(Ma(e)),n.s=t,n.S=!0,pc(n,null)}function pc(n,e){n.G=Date.now(),Aa(n),n.A=Ma(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),py(t.i,"t",r),n.C=0,t=n.l.J,n.h=new hy,n.g=tb(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Pp(di(n.Pa,n,n.g),n.O)),RI(n.U,n.g,"readystatechange",n.nb),e=n.I?Mv(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),kp(),function vS(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",g=u.split("&"),_=0;_<g.length;_++){var C=g[_].split("=");if(1<C.length){var T=C[0];C=C[1];var M=T.split("_");d=2<=M.length&&"type"==M[1]?d+(T+"=")+C+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Up(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function js(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=jv(n,t),s==fc){4==e&&(n.o=4,is(14),r=!1),bh(n.j,n.m,null,"[Incomplete Response]");break}if(s==wo){n.o=4,is(15),bh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}bh(n.j,n.m,s,null),gc(n,s)}Up(n)&&s!=fc&&s!=wo&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,is(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),Ey(e),e.M=!0,is(11))):(bh(n.j,n.m,t,"[Invalid Chunked Response]"),Eo(n),xa(n))}function jv(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?fc:(t=Number(e.substring(t,r)),isNaN(t)?wo:(r+=1)+t>e.length?fc:(e=e.slice(r,r+t),n.C=r+t,e))}function Aa(n){n.Y=Date.now()+n.P,Hl(n,n.P)}function Hl(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Fp(di(n.lb,n),e)}function pu(n){n.B&&(zt.clearTimeout(n.B),n.B=null)}function xa(n){0==n.l.H||n.J||r0(n.l,n)}function Eo(n){pu(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,oy(n.V),NI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function gc(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||ql(t.i,n)))if(!n.K&&ql(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Qp(t),Zl(t)}Yp(t),is(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=Fp(di(t.ib,t),6e3));if(1>=HI(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else _c(t,11)}else if((n.K||t.g==n)&&Qp(t),!Cp(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let C=s[e];if(t.V=C[0],C=C[1],2==t.H)if("c"==C[0]){t.K=C[1],t.pa=C[2];const T=C[3];null!=T&&(t.ra=T,t.l.info("VER="+t.ra));const M=C[4];null!=M&&(t.Ga=M,t.l.info("SVER="+t.Ga));const j=C[5];null!=j&&"number"==typeof j&&0<j&&(t.L=r=1.5*j,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const K=n.g;if(K){const ae=K.g?K.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ae){var u=r.i;u.g||-1==ae.indexOf("spdy")&&-1==ae.indexOf("quic")&&-1==ae.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Zv(u,u.h),u.h=null))}if(r.F){const _e=K.g?K.g.getResponseHeader("X-HTTP-Session-Id"):null;_e&&(r.Da=_e,Zn(r.I,r.F,_e))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var d=n;if((r=t).wa=eb(r,r.J?r.pa:null,r.Y),d.K){zI(r.i,d);var g=d,_=r.L;_&&g.setTimeout(_),g.B&&(pu(g),Aa(g)),r.g=d}else n0(r);0<t.j.length&&Kp(t)}else"stop"!=C[0]&&"close"!=C[0]||_c(t,7);else 3==t.H&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?_c(t,7):Mh(t):"noop"!=C[0]&&t.h&&t.h.Aa(C),t.A=0)}kp()}catch{}}function zl(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Qm(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Sh(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Qm(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function Th(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Qm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Ye=Lp.prototype).setTimeout=function(n){this.P=n},Ye.nb=function(n){n=n.target;const e=this.M;e&&3==$s(n)?e.l():this.Pa(n)},Ye.Pa=function(n){try{if(n==this.g)e:{const T=$s(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||Iv||this.g&&(this.h.h||this.g.ja()||Zp(this.g)))){this.J||4!=T||7==e||kp(),pu(this);var t=this.g.da();this.ca=t;t:if(Up(this)){var r=Zp(this.g);n="";var s=r.length,u=4==$s(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),xa(this);var d="";break t}this.h.i=new zt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ja();if(this.i=200==t,function wS(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cp(g)){var C=g;break t}}C=null}if(!(t=C)){this.i=!1,this.o=3,is(12),Eo(this),xa(this);break e}bh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gc(this,t)}this.S?(js(this,T,d),Iv&&this.i&&3==T&&(RI(this.U,this.V,"tick",this.mb),this.V.start())):(bh(this.j,this.m,d,null),gc(this,d)),4==T&&Eo(this),this.i&&!this.J&&(4==T?r0(this.l,this):(this.i=!1,Aa(this)))}else(function Jv(n){const e={};n=(n.g&&2<=$s(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Cp(n[r]))continue;var t=xI(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function gS(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<d.indexOf("Unknown SID")?(this.o=3,is(12)):(this.o=0,is(13)),Eo(this),xa(this)}}}catch{}},Ye.mb=function(){if(this.g){var n=$s(this.g),e=this.g.ja();this.C<e.length&&(pu(this),js(this,n,e),this.i&&4!=n&&Aa(this))}},Ye.cancel=function(){this.J=!0,Eo(this)},Ye.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ES(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(kp(),is(17)),Eo(this),this.o=2,xa(this)):Hl(this,this.Y-n)};var $v=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function mc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof mc){this.h=n.h,Vp(this,n.j),this.s=n.s,this.g=n.g,Bp(this,n.m),this.l=n.l;var e=n.i,t=new fy;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Hv(this,t),this.o=n.o}else n&&(e=String(n).match($v))?(this.h=!1,Vp(this,e[1]||"",!0),this.s=Gl(e[2]||""),this.g=Gl(e[3]||"",!0),Bp(this,e[4]),this.l=Gl(e[5]||"",!0),Hv(this,e[6]||"",!0),this.o=Gl(e[7]||"")):(this.h=!1,this.i=new fy(null,this.h))}function Ma(n){return new mc(n)}function Vp(n,e,t){n.j=t?Gl(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Bp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Hv(n,e,t){e instanceof fy?(n.i=e,function zv(n,e){e&&!n.j&&(yc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(jI(this,r),py(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=$p(e,xM)),n.i=new fy(e,n.h))}function Zn(n,e,t){n.i.set(e,t)}function jp(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Gl(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function $p(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,AM),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function AM(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mc.prototype.toString=function(){var n=[],e=this.j;e&&n.push($p(e,CS,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push($p(e,CS,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push($p(t,"/"==t.charAt(0)?TS:DS,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",$p(t,SS)),n.join("")};var CS=/[#\/\?@]/g,DS=/[#\?:]/g,TS=/[#\?]/g,xM=/[#\?@]/g,SS=/#/g;function fy(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function yc(n){n.g||(n.g=new Map,n.h=0,n.i&&function BI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function jI(n,e){yc(n),e=Ra(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function $I(n,e){return yc(n),e=Ra(n,e),n.g.has(e)}function py(n,e,t){jI(n,e),0<t.length&&(n.i=null,n.g.set(Ra(n,e),wv(t)),n.h+=t.length)}function Ra(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Gv(n){this.l=n||Hp,n=zt.PerformanceNavigationTiming?0<(n=zt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(zt.g&&zt.g.Ka&&zt.g.Ka()&&zt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ye=fy.prototype).add=function(n,e){yc(this),this.i=null,n=Ra(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ye.forEach=function(n,e){yc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Ye.ta=function(){yc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Ye.Z=function(n){yc(this);let e=[];if("string"==typeof n)$I(this,n)&&(e=e.concat(this.g.get(Ra(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ye.set=function(n,e){return yc(this),this.i=null,$I(this,n=Ra(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ye.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),d=this.Z(r);for(r=0;r<d.length;r++){var s=u;""!==d[r]&&(s+="="+encodeURIComponent(String(d[r]))),n.push(s)}}return this.i=n.join("&")};var Hp=10;function qv(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HI(n){return n.h?1:n.g?n.g.size:0}function ql(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Zv(n,e){n.g?n.g.add(e):n.h=e}function zI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function GI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return wv(n.i)}Gv.prototype.cancel=function(){if(this.i=GI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var AS=class{stringify(n){return zt.JSON.stringify(n,void 0)}parse(n){return zt.JSON.parse(n,void 0)}};function Wv(){this.g=new AS}function my(n,e,t){const r=t||"";try{zl(n,function(s,u){let d=s;hc(s)&&(d=wh(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Kv(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function zp(n){this.l=n.fc||null,this.j=n.ob||!1}function _y(n,e){Ai.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Gp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ti(zp,cy),zp.prototype.g=function(){return new _y(this.l,this.j)},zp.prototype.i=function(n){return function(){return n}}({}),ti(_y,Ai);var Gp=0;function qI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ah(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qp(n)}function qp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ye=_y.prototype).open=function(n,e){if(this.readyState!=Gp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qp(this)},Ye.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||zt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ah(this)),this.readyState=Gp},Ye.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qp(this)),this.g&&(this.readyState=3,qp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof zt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ye.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Ah(this):qp(this),3==this.readyState&&qI(this)}},Ye.Za=function(n){this.g&&(this.response=this.responseText=n,Ah(this))},Ye.Ya=function(n){this.g&&(this.response=n,Ah(this))},Ye.ka=function(){this.g&&Ah(this)},Ye.setRequestHeader=function(n,e){this.v.append(n,e)},Ye.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ye.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(_y.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var xS=zt.JSON.parse;function pr(n){Ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Yv,this.L=this.M=!1}ti(pr,Ai);var Yv="",ZI=/^https?$/i,MS=["POST","PUT"];function WI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,Qv(n),xh(n)}function Qv(n){n.F||(n.F=!0,fi(n,"complete"),fi(n,"error"))}function vy(n){if(n.h&&typeof dc<"u"&&(!n.C[1]||4!=$s(n)||2!=n.da()))if(n.v&&4==$s(n))Vv(n.La,0,n);else if(fi(n,"readystatechange"),4==$s(n)){n.h=!1;try{const d=n.da();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===d){var s=String(n.I).match($v)[1]||null;!s&&zt.self&&zt.self.location&&(s=zt.self.location.protocol.slice(0,-1)),r=!ZI.test(s?s.toLowerCase():"")}t=r}if(t)fi(n,"complete"),fi(n,"success");else{n.m=6;try{var u=2<$s(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",Qv(n)}}finally{xh(n)}}}function xh(n,e){if(n.g){KI(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||fi(n,"ready");try{t.onreadystatechange=r}catch{}}}function KI(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(zt.clearTimeout(n.A),n.A=null)}function $s(n){return n.g?n.g.readyState:0}function Zp(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case Yv:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function Xv(n){let e="";return Sp(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function e0(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=Xv(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Wp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function YI(n){this.Ga=0,this.j=[],this.l=new ay,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Wp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Wp("baseRetryDelayMs",5e3,n),this.hb=Wp("retryDelaySeedMs",1e4,n),this.eb=Wp("forwardChannelMaxRetries",2,n),this.xa=Wp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new Gv(n&&n.concurrentRequestLimit),this.Ja=new Wv,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Mh(n){if(t0(n),3==n.H){var e=n.W++,t=Ma(n.I);if(Zn(t,"SID",n.K),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),Rh(n,t),(e=new Lp(n,n.l,e)).L=2,e.v=jp(Ma(t)),t=!1,zt.navigator&&zt.navigator.sendBeacon)try{t=zt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&zt.Image&&((new Image).src=e.v,t=!0),t||(e.g=tb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Aa(e)}XI(n)}function Zl(n){n.g&&(Ey(n),n.g.cancel(),n.g=null)}function t0(n){Zl(n),n.u&&(zt.clearTimeout(n.u),n.u=null),Qp(n),n.i.cancel(),n.m&&("number"==typeof n.m&&zt.clearTimeout(n.m),n.m=null)}function Kp(n){if(!qv(n.i)&&!n.m){n.m=!0;var e=n.Na;Rp||Ih(),Eh||(Rp(),Eh=!0),sy.add(e,n),n.C=0}}function QI(n,e){var t;t=e?e.m:n.W++;const r=Ma(n.I);Zn(r,"SID",n.K),Zn(r,"RID",t),Zn(r,"AID",n.V),Rh(n,r),n.o&&n.s&&e0(r,n.o,n.s),t=new Lp(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=wy(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Zv(n.i,t),pi(t,r,e)}function Rh(n,e){n.na&&Sp(n.na,function(t,r){Zn(e,r,t)}),n.h&&zl({},function(t,r){Zn(e,r,t)})}function wy(n,e,t){t=Math.min(n.j.length,t);var r=n.h?di(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].g,d.push("ofs="+u)):u=0:d.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let C=s[_].g;const T=s[_].map;if(C-=u,0>C)u=Math.max(0,s[_].g-100),g=!1;else try{my(T,d,"req"+C+"_")}catch{r&&r(T)}}if(g){r=d.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function n0(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Rp||Ih(),Eh||(Rp(),Eh=!0),sy.add(e,n),n.A=0}}function Yp(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Fp(di(n.Ma,n),s0(n,n.A)),n.A++,0))}function Ey(n){null!=n.B&&(zt.clearTimeout(n.B),n.B=null)}function JI(n){n.g=new Lp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ma(n.wa);Zn(e,"RID","rpc"),Zn(e,"SID",n.K),Zn(e,"AID",n.V),Zn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Zn(e,"TO",n.qa),Zn(e,"TYPE","xmlhttp"),Rh(n,e),n.o&&n.s&&e0(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=jp(Ma(e)),t.s=null,t.S=!0,pc(t,n)}function Qp(n){null!=n.v&&(zt.clearTimeout(n.v),n.v=null)}function r0(n,e){var t=null;if(n.g==e){Qp(n),Ey(n),n.g=null;var r=2}else{if(!ql(n.i,e))return;t=e.F,zI(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;fi(r=$l(),new LI(r,t)),Kp(n)}else n0(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function NS(n,e){return!(HI(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Fp(di(n.Na,n,e),s0(n,n.C)),n.C++,0)))}(n,e)||2==r&&Yp(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:_c(n,5);break;case 4:_c(n,10);break;case 3:_c(n,6);break;default:_c(n,2)}}function s0(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function _c(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=di(n.pb,n);t||(t=new mc("//www.google.com/images/cleardot.gif"),zt.location&&"http"==zt.location.protocol||Vp(t,"https"),jp(t)),function yy(n,e){const t=new ay;if(zt.Image){const r=new Image;r.onload=_h(Kv,t,r,"TestLoadImage: loaded",!0,e),r.onerror=_h(Kv,t,r,"TestLoadImage: error",!1,e),r.onabort=_h(Kv,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=_h(Kv,t,r,"TestLoadImage: timeout",!1,e),zt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else is(2);n.H=0,n.h&&n.h.za(e),XI(n),t0(n)}function XI(n){if(n.H=0,n.ma=[],n.h){const e=GI(n.i);(0!=e.length||0!=n.j.length)&&(Ev(n.ma,e),Ev(n.ma,n.j),n.i.i.length=0,wv(n.j),n.j.length=0),n.h.ya()}}function eb(n,e,t){var r=t instanceof mc?Ma(t):new mc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Bp(r,r.m);else{var s=zt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new mc(null);r&&Vp(u,r),e&&(u.g=e),s&&Bp(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Zn(r,t,e),Zn(r,"VER",n.ra),Rh(n,r),r}function tb(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new pr(t&&n.Ha&&!n.va?new zp({ob:!0}):n.va)).Oa(n.J),e}function Iy(){}function Nh(){if(hi&&!(10<=Number(xv)))throw Error("Environmental error: no available transport.")}function Ds(n,e){Ai.call(this),this.g=new YI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Cp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Cp(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Wl(this)}function o0(n){ly.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function a0(){VI.call(this),this.status=1}function Wl(n){this.g=n}function Io(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function by(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],d=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;d=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(d<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|d>>>10))+((d=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|d>>>25))+((d=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|d>>>20))+((d=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|d>>>15))+((d=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|d>>>10))+((d=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|d>>>12))+((d=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|d>>>27))+((d=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|d>>>23))+((d=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|d>>>18))+((d=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|d>>>12))+((d=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|d>>>9))+((d=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|d>>>28))+((d=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|d>>>21))+((d=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|d>>>16))+((d=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|d>>>9))+((d=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|d>>>11))+((d=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|d>>>22))+((d=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|d>>>17))+((d=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|d>>>11))+((u=(e=t+((d=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|d>>>26))+((d=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|d>>>22))^((s=u+((d=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|d>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(d<<21&4294967295|d>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function Sn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Ye=pr.prototype).Oa=function(n){this.M=n},Ye.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Dh.g(),this.C=function UI(n){return n.h||(n.h=n.i())}(this.u?this.u:Dh),this.g.onreadystatechange=di(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void WI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=zt.FormData&&n instanceof zt.FormData,!(0<=wI(MS,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,d]of t)this.g.setRequestHeader(u,d);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KI(this),0<this.B&&((this.L=function RS(n){return hi&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=di(this.ua,this)):this.A=Vv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){WI(this,u)}},Ye.ua=function(){typeof dc<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,fi(this,"timeout"),this.abort(8))},Ye.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,fi(this,"complete"),fi(this,"abort"),xh(this))},Ye.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xh(this,!0)),pr.$.N.call(this)},Ye.La=function(){this.s||(this.G||this.v||this.l?vy(this):this.kb())},Ye.kb=function(){vy(this)},Ye.isActive=function(){return!!this.g},Ye.da=function(){try{return 2<$s(this)?this.g.status:-1}catch{return-1}},Ye.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ye.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),xS(e)}},Ye.Ia=function(){return this.m},Ye.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ye=YI.prototype).ra=8,Ye.H=1,Ye.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Lp(this,this.l,n);let u=this.s;if(this.U&&(u?(u=Mv(u),Rv(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=wy(this,s,e),Zn(t=Ma(this.I),"RID",n),Zn(t,"CVER",22),this.F&&Zn(t,"X-HTTP-Session-Id",this.F),Rh(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(Xv(u)))+"&"+e:this.o&&e0(t,this.o,u)),Zv(this.i,s),this.bb&&Zn(t,"TYPE","init"),this.P?(Zn(t,"$req",e),Zn(t,"SID","null"),s.aa=!0,pi(s,t,null)):pi(s,t,e),this.H=2}}else 3==this.H&&(n?QI(this,n):0==this.j.length||qv(this.i)||QI(this))},Ye.Ma=function(){if(this.u=null,JI(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Fp(di(this.jb,this),n)}},Ye.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,is(10),Zl(this),JI(this))},Ye.ib=function(){null!=this.v&&(this.v=null,Zl(this),Yp(this),is(19))},Ye.pb=function(n){n?(this.l.info("Successfully pinged google.com"),is(2)):(this.l.info("Failed to ping google.com"),is(1))},Ye.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ye=Iy.prototype).Ba=function(){},Ye.Aa=function(){},Ye.za=function(){},Ye.ya=function(){},Ye.isActive=function(){return!0},Ye.Va=function(){},Nh.prototype.g=function(n,e){return new Ds(n,e)},ti(Ds,Ai),Ds.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;is(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=eb(n,null,n.Y),Kp(n)},Ds.prototype.close=function(){Mh(this.g)},Ds.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=wh(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Kp(e)},Ds.prototype.N=function(){this.g.h=null,delete this.j,Mh(this.g),delete this.g,Ds.$.N.call(this)},ti(o0,ly),ti(a0,VI),ti(Wl,Iy),Wl.prototype.Ba=function(){fi(this.g,"a")},Wl.prototype.Aa=function(n){fi(this.g,new o0(n))},Wl.prototype.za=function(n){fi(this.g,new a0)},Wl.prototype.ya=function(){fi(this.g,"b")},ti(Io,function nb(){this.blockSize=-1}),Io.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Io.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)by(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){by(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){by(this,r),s=0;break}}this.h=s,this.i+=e},Io.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Cy={};function Na(n){return-128<=n&&128>n?function cS(n,e){var t=Cy;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new Sn([0|e],0>e?-1:0)}):new Sn([0|n],0>n?-1:0)}function Pa(n){if(isNaN(n)||!isFinite(n))return bo;if(0>n)return Hi(Pa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=Jp;return new Sn(e,0)}var Jp=4294967296,bo=Na(0),Xp=Na(1),ib=Na(16777216);function Ko(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Yo(n){return-1==n.h}function Hi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Sn(t,~n.h).add(Xp)}function Dy(n,e){return n.add(Hi(e))}function Ty(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Ph(n,e){this.g=n,this.h=e}function Sy(n,e){if(Ko(e))throw Error("division by zero");if(Ko(n))return new Ph(bo,bo);if(Yo(n))return e=Sy(Hi(n),e),new Ph(Hi(e.g),Hi(e.h));if(Yo(e))return e=Sy(n,Hi(e)),new Ph(Hi(e.g),e.h);if(30<n.g.length){if(Yo(n)||Yo(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Xp,r=e;0>=r.X(n);)t=$r(t),r=$r(r);var s=Kl(t,1),u=Kl(r,1);for(r=Kl(r,2),t=Kl(t,2);!Ko(r);){var d=u.add(r);0>=d.X(n)&&(s=s.add(t),u=d),r=Kl(r,1),t=Kl(t,1)}return e=Dy(n,s.R(e)),new Ph(s,e)}for(s=bo;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),d=(u=Pa(t)).R(e);Yo(d)||0<d.X(n);)d=(u=Pa(t-=r)).R(e);Ko(u)&&(u=Xp),s=s.add(u),n=Dy(n,d)}return new Ph(s,n)}function $r(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Sn(t,n.h)}function Kl(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new Sn(s,n.h)}(Ye=Sn.prototype).ea=function(){if(Yo(this))return-Hi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:Jp+r)*e,e*=Jp}return n},Ye.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Ko(this))return"0";if(Yo(this))return"-"+Hi(this).toString(n);for(var e=Pa(Math.pow(n,6)),t=this,r="";;){var s=Sy(t,e).g,u=((0<(t=Dy(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Ko(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Ye.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ye.X=function(n){return Yo(n=Dy(this,n))?-1:Ko(n)?0:1},Ye.abs=function(){return Yo(this)?Hi(this):this},Ye.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),d=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=d>>>16,t[s]=(d&=65535)<<16|(u&=65535)}return new Sn(t,-2147483648&t[t.length-1]?-1:0)},Ye.R=function(n){if(Ko(this)||Ko(n))return bo;if(Yo(this))return Yo(n)?Hi(this).R(Hi(n)):Hi(Hi(this).R(n));if(Yo(n))return Hi(this.R(Hi(n)));if(0>this.X(ib)&&0>n.X(ib))return Pa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,d=65535&this.D(r),g=n.D(s)>>>16,_=65535&n.D(s);t[2*r+2*s]+=d*_,Ty(t,2*r+2*s),t[2*r+2*s+1]+=u*_,Ty(t,2*r+2*s+1),t[2*r+2*s+1]+=d*g,Ty(t,2*r+2*s+1),t[2*r+2*s+2]+=u*g,Ty(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Sn(t,0)},Ye.gb=function(n){return Sy(this,n).h},Ye.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Sn(t,this.h&n.h)},Ye.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Sn(t,this.h|n.h)},Ye.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Sn(t,this.h^n.h)},Nh.prototype.createWebChannel=Nh.prototype.g,Ds.prototype.send=Ds.prototype.u,Ds.prototype.open=Ds.prototype.m,Ds.prototype.close=Ds.prototype.close,uy.NO_ERROR=0,uy.TIMEOUT=8,uy.HTTP_ERROR=6,Bv.COMPLETE="complete",IS.EventType=Ch,Ch.OPEN="a",Ch.CLOSE="b",Ch.ERROR="c",Ch.MESSAGE="d",Ai.prototype.listen=Ai.prototype.O,pr.prototype.listenOnce=pr.prototype.P,pr.prototype.getLastError=pr.prototype.Sa,pr.prototype.getLastErrorCode=pr.prototype.Ia,pr.prototype.getStatus=pr.prototype.da,pr.prototype.getResponseJson=pr.prototype.Wa,pr.prototype.getResponseText=pr.prototype.ja,pr.prototype.send=pr.prototype.ha,pr.prototype.setWithCredentials=pr.prototype.Oa,Io.prototype.digest=Io.prototype.l,Io.prototype.reset=Io.prototype.reset,Io.prototype.update=Io.prototype.j,Sn.prototype.add=Sn.prototype.add,Sn.prototype.multiply=Sn.prototype.R,Sn.prototype.modulo=Sn.prototype.gb,Sn.prototype.compare=Sn.prototype.X,Sn.prototype.toNumber=Sn.prototype.ea,Sn.prototype.toString=Sn.prototype.toString,Sn.prototype.getBits=Sn.prototype.D,Sn.fromNumber=Pa,Sn.fromString=function rb(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Hi(rb(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Pa(Math.pow(e,8)),r=bo,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),d=parseInt(n.substring(s,s+u),e);8>u?(u=Pa(Math.pow(e,u)),r=r.R(u).add(Pa(d))):r=(r=r.R(t)).add(Pa(d))}return r};var PS=vo.createWebChannelTransport=function(){return new Nh},OS=vo.getStatEventTarget=function(){return $l()},Ay=vo.ErrorCode=uy,kS=vo.EventType=Bv,sb=vo.Event=fu,u0=vo.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Oh=vo.FetchXmlHttpFactory=zp,xy=vo.WebChannel=IS,FS=vo.XhrIo=pr,ob=vo.Md5=Io,kh=vo.Integer=Sn;const c0="@firebase/firestore";class xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xi.UNAUTHENTICATED=new xi(null),xi.GOOGLE_CREDENTIALS=new xi("google-credentials-uid"),xi.FIRST_PARTY=new xi("first-party-uid"),xi.MOCK_USER=new xi("mock-user");let Yl="9.23.0";const Oa=new lc.Yd("@firebase/firestore");function Co(){return Oa.logLevel}function Ue(n,...e){if(Oa.logLevel<=lc.in.DEBUG){const t=e.map(Hs);Oa.debug(`Firestore (${Yl}): ${n}`,...t)}}function An(n,...e){if(Oa.logLevel<=lc.in.ERROR){const t=e.map(Hs);Oa.error(`Firestore (${Yl}): ${n}`,...t)}}function Cr(n,...e){if(Oa.logLevel<=lc.in.WARN){const t=e.map(Hs);Oa.warn(`Firestore (${Yl}): ${n}`,...t)}}function Hs(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function at(n="Unexpected state"){const e=`FIRESTORE (${Yl}) INTERNAL ASSERTION FAILED: `+n;throw An(e),new Error(e)}function It(n,e){n||at()}function rt(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends Jt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fh{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(xi.UNAUTHENTICATED))}shutdown(){}}class ab{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BS{constructor(e){this.t=e,this.currentUser=xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=C=>this.i!==s?(s=this.i,t(C)):Promise.resolve();let d=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Or,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const C=d;e.enqueueRetryable((0,be.Z)(function*(){yield C.promise,yield u(r.currentUser)}))},_=C=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(C=>_(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?_(C):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Or)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It("string"==typeof r.accessToken),new Fh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return It(null===e||"string"==typeof e),new xi(e)}}class jS{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class ub{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new jS(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class My{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.T;return this.T=u.token,Ue("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?s(u):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(It("string"==typeof t.token),this.T=t.token,new l0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function cb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class d0{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const s=cb(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(s[u]%62))}return r}}function jt(n,e){return n<e?-1:n>e?1:0}function Lh(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function lb(n){return n+"\0"}class Wn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Pe(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wn.fromMillis(Date.now())}static fromDate(e){return Wn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Wn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?jt(this.nanoseconds,e.nanoseconds):jt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Wn(0,0))}static max(){return new _t(new Wn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ql{constructor(e,t,r){void 0===t?t=0:t>e.length&&at(),void 0===r?r=e.length-t:r>e.length-t&&at(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Ql.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ql?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class un extends Ql{construct(e,t,r){return new un(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new un(t)}static emptyPath(){return new un([])}}const db=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gr extends Ql{construct(e,t,r){return new gr(e,t,r)}static isValidIdentifier(e){return db.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Pe(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new Pe(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[s+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Pe(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,s+=2}else"`"===g?(d=!d,s++):"."!==g||d?(r+=g,s++):(u(),s++)}if(u(),d)throw new Pe(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gr(t)}static emptyPath(){return new gr([])}}class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(un.fromString(e))}static fromName(e){return new Qe(un.fromString(e).popFirst(5))}static empty(){return new Qe(un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===un.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return un.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new un(e.slice()))}}class eg{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function Ry(n){return n.fields.find(e=>2===e.kind)}function vc(n){return n.fields.filter(e=>2!==e.kind)}eg.UNKNOWN_ID=-1;class Ny{constructor(e,t){this.fieldPath=e,this.kind=t}}class tg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new tg(0,zs.min())}}function hb(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=_t.fromTimestamp(1e9===r?new Wn(t+1,0):new Wn(t,r));return new zs(s,Qe.empty(),e)}function fb(n){return new zs(n.readTime,n.key,-1)}class zs{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zs(_t.min(),Qe.empty(),-1)}static max(){return new zs(_t.max(),Qe.empty(),-1)}}function h0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Qe.comparator(n.documentKey,e.documentKey),0!==t?t:jt(n.largestBatchId,e.largestBatchId))}const pb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wc(n){return f0.apply(this,arguments)}function f0(){return f0=(0,be.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==pb)throw n;Ue("LocalStore","Unexpectedly lost primary lease")}),f0.apply(this,arguments)}class oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new oe((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof oe?t:oe.resolve(t)}catch(t){return oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):oe.reject(t)}static resolve(e){return new oe((t,r)=>{t(e)})}static reject(e){return new oe((t,r)=>{r(e)})}static waitFor(e){return new oe((t,r)=>{let s=0,u=0,d=!1;e.forEach(g=>{++s,g.next(()=>{++u,d&&u===s&&t()},_=>r(_))}),d=!0,u===s&&t()})}static or(e){let t=oe.resolve(!1);for(const r of e)t=t.next(s=>s?oe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new oe((r,s)=>{const u=e.length,d=new Array(u);let g=0;for(let _=0;_<u;_++){const C=_;t(e[C]).next(T=>{d[C]=T,++g,g===u&&r(d)},T=>s(T))}})}static doWhile(e,t){return new oe((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}class Py{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Or,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new ng(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const s=Oy(r.target.error);this.v.reject(new ng(e,s))}}static open(e,t,r,s){try{return new Py(t,e.transaction(s,r))}catch(u){throw new ng(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ue("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new mb(t)}}class Qo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===Qo.S((0,Jt.z$)())&&An("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ue("SimpleDb","Removing database:",e),Ic(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Jt.hl)())return!1;if(Qo.C())return!0;const e=(0,Jt.z$)(),t=Qo.S(e),r=0<t&&t<10,s=Qo.N(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,be.Z)(function*(){return t.db||(Ue("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new ng(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const g=d.target.error;s("VersionError"===g.name?new Pe(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Pe(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new ng(e,g))},u.onupgradeneeded=d=>{Ue("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.V.O(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Ue("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,be.Z)(function*(){const d="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.$(e);const _=Py.open(u.db,e,d?"readonly":"readwrite",r),C=s(_).next(T=>(_.P(),T)).catch(T=>(_.abort(T),oe.reject(T))).toPromise();return C.catch(()=>{}),yield _.R,C}catch(_){const C=_,T="FirebaseError"!==C.name&&g<3;if(Ue("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),u.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zS{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return Ic(this.L.delete())}}class ng extends Pe{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ec(n){return"IndexedDbTransactionError"===n.name}class mb{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ue("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ue("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ic(r)}add(e){return Ue("SimpleDb","ADD",this.store.name,e,e),Ic(this.store.add(e))}get(e){return Ic(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ue("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ue("SimpleDb","DELETE",this.store.name,e),Ic(this.store.delete(e))}count(){return Ue("SimpleDb","COUNT",this.store.name),Ic(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.W(s,(d,g)=>{u.push(g)}).next(()=>u)}{const s=this.store.getAll(r.range);return new oe((u,d)=>{s.onerror=g=>{d(g.target.error)},s.onsuccess=g=>{u(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new oe((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}J(e,t){Ue("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const s=this.cursor(r);return this.W(s,(u,d,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.W(s,t)}Z(e){const t=this.cursor({});return new oe((r,s)=>{t.onerror=u=>{const d=Oy(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(g=>{g?d.continue():r()}):r()}})}W(e,t){const r=[];return new oe((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const g=d.target.result;if(!g)return void s();const _=new zS(g),C=t(g.primaryKey,g.value,_);if(C instanceof oe){const T=C.catch(M=>(_.done(),oe.reject(M)));r.push(T)}_.isDone?s():null===_.K?g.continue():g.continue(_.K)}}).next(()=>oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ic(n){return new oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=Oy(r.target.error);t(s)}})}let p0=!1;function Oy(n){const e=Qo.S((0,Jt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return p0||(p0=!0,setTimeout(()=>{throw r},0)),r}}return n}class yb{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ue("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,be.Z)(function*(){t.task=null;try{Ue("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Ec(r)?Ue("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield wc(r)}yield t.et(6e4)}))}}class _b{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,be.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let s=t,u=!0;return oe.doWhile(()=>!0===u&&s>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(d=>{if(null!==d&&!r.has(d))return Ue("IndexBackiller",`Processing collection: ${d}`),this.it(e,d,s).next(g=>{s-=g,r.add(d)});u=!1})).next(()=>t-s)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(s=>this.localStore.localDocuments.getNextDocuments(e,t,s,r).next(u=>{const d=u.changes;return this.localStore.indexManager.updateIndexEntries(e,d).next(()=>this.rt(s,u)).next(g=>(Ue("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>d.size)}))}rt(e,t){let r=e;return t.changes.forEach((s,u)=>{const d=fb(u);h0(d,r)>0&&(r=d)}),new zs(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let Ts=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Uh(n){return null==n}function Vh(n){return 0===n&&1/n==-1/0}function g0(n){return"number"==typeof n&&Number.isInteger(n)&&!Vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Mi(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=vb(e)),e=Jl(n.get(t),e);return vb(e)}function Jl(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function vb(n){return n+"\x01\x01"}function ka(n){const e=n.length;if(It(e>=2),2===e)return It("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),un.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&at(),n.charAt(d+1)){case"\x01":const g=n.substring(u,d);let _;0===s.length?_=g:(s+=g,_=s,s=""),r.push(_);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:at()}u=d+2}return new un(r)}const Xl=["userId","batchId"];function m0(n,e){return[n,Mi(e)]}function ky(n,e,t){return[n,Mi(e),t]}const RM={},wb=["prefixPath","collectionGroup","readTime","documentId"],Eb=["prefixPath","collectionGroup","documentId"],NM=["collectionGroup","readTime","prefixPath","documentId"],Rt=["canonicalId","targetId"],GS=["targetId","path"],qS=["path","targetId"],ZS=["collectionId","parent"],Bh=["indexId","uid"],WS=["uid","sequenceNumber"],Fy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ly=["indexId","uid","orderedDocumentKey"],Dr=["userId","collectionPath","documentId"],PM=["userId","collectionPath","largestBatchId"],Ib=["userId","collectionGroup","largestBatchId"],y0=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],KS=[...y0,"documentOverlays"],_0=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],v0=_0,bb=[...v0,"indexConfiguration","indexState","indexEntries"];class Uy extends gb{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function gi(n,e){const t=rt(n);return Qo.M(t.ht,e)}function Cb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function jh(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Kn{constructor(e,t){this.comparator=e,this.root=t||Ri.EMPTY}insert(e,t){return new Kn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ri.BLACK,null,null))}remove(e){return new Kn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ri.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vy(this.root,e,this.comparator,!0)}}class Vy{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ri{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Ri.RED,this.left=s??Ri.EMPTY,this.right=u??Ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Ri(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ri.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw at();const e=this.left.check();if(e!==this.right.check())throw at();return e+(this.isRed()?0:1)}}Ri.EMPTY=null,Ri.RED=!0,Ri.BLACK=!1,Ri.EMPTY=new class{constructor(){this.size=0}get key(){throw at()}get value(){throw at()}get color(){throw at()}get left(){throw at()}get right(){throw at()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Ri(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new Kn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new w0(this.data.getIterator())}getIteratorFrom(e){return new w0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class w0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ed(n){return n.hasNext()?n.getNext():void 0}class ss{constructor(e){this.fields=e,e.sort(gr.comparator)}static empty(){return new ss([])}unionWith(e){let t=new Fn(gr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ss(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new Db("Invalid base64 string: "+s):s}}(e);return new mr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return jt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mr.EMPTY_BYTE_STRING=new mr("");const YS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cc(n){if(It(!!n),"string"==typeof n){let e=0;const t=YS.exec(n);if(It(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tr(n.seconds),nanos:Tr(n.nanos)}}function Tr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Fa(n){return"string"==typeof n?mr.fromBase64String(n):mr.fromUint8Array(n)}function ig(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function sg(n){const e=n.mapValue.fields.__previous_value__;return ig(e)?sg(e):e}function og(n){const e=Cc(n.mapValue.fields.__local_write_time__.timestampValue);return new Wn(e.seconds,e.nanos)}class Tb{constructor(e,t,r,s,u,d,g,_,C){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=C}}class Dc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Dc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Dc&&e.projectId===this.projectId&&e.database===this.database}}const Tc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},E0={nullValue:"NULL_VALUE"};function td(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ig(n)?4:D0(n)?9007199254740991:10:at()}function gu(n,e){if(n===e)return!0;const t=td(n);if(t!==td(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return og(n).isEqual(og(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=Cc(r.timestampValue),d=Cc(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Fa(n.bytesValue).isEqual(Fa(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return Tr(r.geoPointValue.latitude)===Tr(s.geoPointValue.latitude)&&Tr(r.geoPointValue.longitude)===Tr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Tr(r.integerValue)===Tr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=Tr(r.doubleValue),d=Tr(s.doubleValue);return u===d?Vh(u)===Vh(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Lh(n.arrayValue.values||[],e.arrayValue.values||[],gu);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(Cb(u)!==Cb(d))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!gu(u[g],d[g])))return!1;return!0}(n,e);default:return at()}var s}function By(n,e){return void 0!==(n.values||[]).find(t=>gu(t,e))}function mu(n,e){if(n===e)return 0;const t=td(n),r=td(e);if(t!==r)return jt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=Tr(s.integerValue||s.doubleValue),g=Tr(u.integerValue||u.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1}(n,e);case 3:return ag(n.timestampValue,e.timestampValue);case 4:return ag(og(n),og(e));case 5:return jt(n.stringValue,e.stringValue);case 6:return function(s,u){const d=Fa(s),g=Fa(u);return d.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),g=u.split("/");for(let _=0;_<d.length&&_<g.length;_++){const C=jt(d[_],g[_]);if(0!==C)return C}return jt(d.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=jt(Tr(s.latitude),Tr(u.latitude));return 0!==d?d:jt(Tr(s.longitude),Tr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],g=u.values||[];for(let _=0;_<d.length&&_<g.length;++_){const C=mu(d[_],g[_]);if(C)return C}return jt(d.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===Tc.mapValue&&u===Tc.mapValue)return 0;if(s===Tc.mapValue)return 1;if(u===Tc.mapValue)return-1;const d=s.fields||{},g=Object.keys(d),_=u.fields||{},C=Object.keys(_);g.sort(),C.sort();for(let T=0;T<g.length&&T<C.length;++T){const M=jt(g[T],C[T]);if(0!==M)return M;const j=mu(d[g[T]],_[C[T]]);if(0!==j)return j}return jt(g.length,C.length)}(n.mapValue,e.mapValue);default:throw at()}}function ag(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return jt(n,e);const t=Cc(n),r=Cc(e),s=jt(t.seconds,r.seconds);return 0!==s?s:jt(t.nanos,r.nanos)}function $h(n){return I0(n)}function I0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Cc(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fa(n.bytesValue).toBase64():"referenceValue"in n?Qe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=I0(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const g of s)d?d=!1:u+=",",u+=`${g}:${I0(r.fields[g])}`;return u+"}"}(n.mapValue):at();var e}function Jo(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function b0(n){return!!n&&"integerValue"in n}function cg(n){return!!n&&"arrayValue"in n}function Sb(n){return!!n&&"nullValue"in n}function Ab(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function C0(n){return!!n&&"mapValue"in n}function lg(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=lg(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=lg(n.arrayValue.values[t]);return e}return Object.assign({},n)}function D0(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function QS(n){return"nullValue"in n?E0:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Jo(Dc.empty(),Qe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:at()}function JS(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Jo(Dc.empty(),Qe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Tc:at()}function Hh(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function xb(n,e){const t=mu(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class mi{constructor(e){this.value=e}static empty(){return new mi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!C0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=lg(t)}setAll(e){let t=gr.emptyPath(),r={},s=[];e.forEach((d,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,s),r={},s=[],t=g.popLast()}d?r[g.lastSegment()]=lg(d):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());C0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];C0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){bc(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new mi(lg(this.value))}}function Mb(n){const e=[];return bc(n.fields,(t,r)=>{const s=new gr([t]);if(C0(r)){const u=Mb(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new ss(e)}class Yn{constructor(e,t,r,s,u,d,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Yn(e,0,_t.min(),_t.min(),_t.min(),mi.empty(),0)}static newFoundDocument(e,t,r,s){return new Yn(e,1,t,_t.min(),r,s,0)}static newNoDocument(e,t){return new Yn(e,2,t,_t.min(),_t.min(),mi.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,_t.min(),_t.min(),mi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(_t.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sc{constructor(e,t){this.position=e,this.inclusive=t}}function T0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?Qe.comparator(Qe.fromName(d.referenceValue),t.key):mu(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function Rb(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gu(n.position[t],e.position[t]))return!1;return!0}class Ac{constructor(e,t="asc"){this.field=e,this.dir=t}}function XS(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class S0{}class on extends S0{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new eA(e,t,r):"array-contains"===t?new rA(e,r):"in"===t?new x0(e,r):"not-in"===t?new Lb(e,r):"array-contains-any"===t?new iA(e,r):new on(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new tA(e,r):new nA(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mu(t,this.value)):null!==t&&td(this.value)===td(t)&&this.matchesComparison(mu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return at()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rn extends S0{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new Rn(e,t)}matches(e){return zh(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function zh(n){return"and"===n.op}function A0(n){return"or"===n.op}function dg(n){return Nb(n)&&zh(n)}function Nb(n){for(const e of n.filters)if(e instanceof Rn)return!1;return!0}function jy(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+$h(n.value);if(dg(n))return n.filters.map(e=>jy(e)).join(",");{const e=n.filters.map(t=>jy(t)).join(",");return`${n.op}(${e})`}}function Pb(n,e){return n instanceof on?(t=n,(r=e)instanceof on&&t.op===r.op&&t.field.isEqual(r.field)&&gu(t.value,r.value)):n instanceof Rn?function(t,r){return r instanceof Rn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,d)=>s&&Pb(u,r.filters[d]),!0)}(n,e):void at();var t,r}function Ob(n,e){const t=n.filters.concat(e);return Rn.create(t,n.op)}function kb(n){return n instanceof on?`${(e=n).field.canonicalString()} ${e.op} ${$h(e.value)}`:n instanceof Rn?function(e){return e.op.toString()+" {"+e.getFilters().map(kb).join(" ,")+"}"}(n):"Filter";var e}class eA extends on{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tA extends on{constructor(e,t){super(e,"in",t),this.keys=Fb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nA extends on{constructor(e,t){super(e,"not-in",t),this.keys=Fb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Fb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Qe.fromName(r.referenceValue))}class rA extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cg(t)&&By(t.arrayValue,this.value)}}class x0 extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&By(this.value.arrayValue,t)}}class Lb extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(By(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!By(this.value.arrayValue,t)}}class iA extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>By(this.value.arrayValue,r))}}class sA{constructor(e,t=null,r=[],s=[],u=null,d=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=g,this.dt=null}}function $y(n,e=null,t=[],r=[],s=null,u=null,d=null){return new sA(n,e,t,r,s,u,d)}function nd(n){const e=rt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>jy(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$h(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$h(r)).join(",")),e.dt=t}return e.dt}function hg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!XS(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Pb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Rb(n.startAt,e.startAt)&&Rb(n.endAt,e.endAt)}function Hy(n){return Qe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Gh(n,e){return n.filters.filter(t=>t instanceof on&&t.field.isEqual(e))}function zy(n,e,t){let r=E0,s=!0;for(const u of Gh(n,e)){let d=E0,g=!0;switch(u.op){case"<":case"<=":d=QS(u.value);break;case"==":case"in":case">=":d=u.value;break;case">":d=u.value,g=!1;break;case"!=":case"not-in":d=E0}Hh({value:r,inclusive:s},{value:d,inclusive:g})<0&&(r=d,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];Hh({value:r,inclusive:s},{value:d,inclusive:t.inclusive})<0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}function M0(n,e,t){let r=Tc,s=!0;for(const u of Gh(n,e)){let d=Tc,g=!0;switch(u.op){case">=":case">":d=JS(u.value),g=!1;break;case"==":case"in":case"<=":d=u.value;break;case"<":d=u.value,g=!1;break;case"!=":case"not-in":d=Tc}xb({value:r,inclusive:s},{value:d,inclusive:g})>0&&(r=d,s=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const d=t.position[u];xb({value:r,inclusive:s},{value:d,inclusive:t.inclusive})>0&&(r=d,s=t.inclusive);break}return{value:r,inclusive:s}}class Xo{constructor(e,t=null,r=[],s=[],u=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function Ub(n,e,t,r,s,u,d,g){return new Xo(n,e,t,r,s,u,d,g)}function qh(n){return new Xo(n)}function Gy(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function R0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function xc(n){return null!==n.collectionGroup}function Mc(n){const e=rt(n);if(null===e.wt){e.wt=[];const t=fg(e),r=R0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new Ac(t)),e.wt.push(new Ac(gr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Ac(gr.keyField(),u))}}}return e.wt}function os(n){const e=rt(n);if(!e._t)if("F"===e.limitType)e._t=$y(e.path,e.collectionGroup,Mc(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Mc(e))t.push(new Ac(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Sc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Sc(e.startAt.position,e.startAt.inclusive):null;e._t=$y(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function Vb(n,e){e.getFirstInequalityField(),fg(n);const t=n.filters.concat([e]);return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Zh(n,e,t){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rd(n,e){return hg(os(n),os(e))&&n.limitType===e.limitType}function Bb(n){return`${nd(os(n))}|lt:${n.limitType}`}function qy(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>kb(r)).join(", ")}]`),Uh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>$h(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>$h(r)).join(",")),`Target(${t})`}(os(n))}; limitType=${n.limitType})`}function Wh(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Qe.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of Mc(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const g=T0(s,u,d);return s.inclusive?g<=0:g<0}(t.startAt,Mc(t),r)||t.endAt&&!function(s,u,d){const g=T0(s,u,d);return s.inclusive?g>=0:g>0}(t.endAt,Mc(t),r)));var t,r}function jb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function N0(n){return(e,t)=>{let r=!1;for(const s of Mc(n)){const u=P0(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function P0(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):function(s,u,d){const g=u.data.field(s),_=d.data.field(s);return null!==g&&null!==_?mu(g,_):at()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at()}}class La{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){bc(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return jh(this.inner)}size(){return this.innerSize}}const $b=new Kn(Qe.comparator);function as(){return $b}const O0=new Kn(Qe.comparator);function pg(...n){let e=O0;for(const t of n)e=e.insert(t.key,t);return e}function Hb(n){let e=O0;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ua(){return Kh()}function zb(){return Kh()}function Kh(){return new La(n=>n.toString(),(n,e)=>n.isEqual(e))}const OM=new Kn(Qe.comparator),Gb=new Fn(Qe.comparator);function Kt(...n){let e=Gb;for(const t of n)e=e.add(t);return e}const oA=new Fn(jt);function qb(){return oA}function Zb(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vh(e)?"-0":e}}function Wb(n){return{integerValue:""+n}}function k0(n,e){return g0(e)?Wb(e):Zb(n,e)}class gg{constructor(){this._=void 0}}function aA(n,e,t){return n instanceof Yh?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&ig(s)&&(s=sg(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof id?Yb(n,e):n instanceof sd?Qb(n,e):function(r,s){const u=Kb(r,s),d=F0(u)+F0(r.gt);return b0(u)&&b0(r.gt)?Wb(d):Zb(r.serializer,d)}(n,e)}function uA(n,e,t){return n instanceof id?Yb(n,e):n instanceof sd?Qb(n,e):t}function Kb(n,e){return n instanceof Va?b0(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Yh extends gg{}class id extends gg{constructor(e){super(),this.elements=e}}function Yb(n,e){const t=L0(e);for(const r of n.elements)t.some(s=>gu(s,r))||t.push(r);return{arrayValue:{values:t}}}class sd extends gg{constructor(e){super(),this.elements=e}}function Qb(n,e){let t=L0(e);for(const r of n.elements)t=t.filter(s=>!gu(s,r));return{arrayValue:{values:t}}}class Va extends gg{constructor(e,t){super(),this.serializer=e,this.gt=t}}function F0(n){return Tr(n.integerValue||n.doubleValue)}function L0(n){return cg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Qh{constructor(e,t){this.field=e,this.transform=t}}class Xb{constructor(e,t){this.version=e,this.transformResults=t}}class tr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zy(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class U0{}function V0(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Rc(n.key,tr.none()):new Ba(n.key,n.data,tr.none());{const t=n.data,r=mi.empty();let s=new Fn(gr.comparator);for(let u of e.fields)if(!s.has(u)){let d=t.field(u);null===d&&u.length>1&&(u=u.popLast(),d=t.field(u)),null===d?r.delete(u):r.set(u,d),s=s.add(u)}return new yu(n.key,r,new ss(s.toArray()),tr.none())}}function eC(n,e,t){n instanceof Ba?function(r,s,u){const d=r.value.clone(),g=ea(r.fieldTransforms,s,u.transformResults);d.setAll(g),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof yu?function(r,s,u){if(!Zy(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=ea(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(Wy(r)),g.setAll(d),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mg(n,e,t,r){return n instanceof Ba?function(s,u,d,g){if(!Zy(s.precondition,u))return d;const _=s.value.clone(),C=nC(s.fieldTransforms,g,u);return _.setAll(C),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof yu?function(s,u,d,g){if(!Zy(s.precondition,u))return d;const _=nC(s.fieldTransforms,g,u),C=u.data;return C.setAll(Wy(s)),C.setAll(_),u.convertToFoundDocument(u.version,C).setHasLocalMutations(),null===d?null:d.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(T=>T.field))}(n,e,t,r):(d=t,Zy(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d);var u,d}function cA(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=Kb(r.transform,s||null);null!=u&&(null===t&&(t=mi.empty()),t.set(r.field,u))}return t||null}function tC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Lh(t,r,(s,u)=>function Jb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof id&&r instanceof id||t instanceof sd&&r instanceof sd?Lh(t.elements,r.elements,gu):t instanceof Va&&r instanceof Va?gu(t.gt,r.gt):t instanceof Yh&&r instanceof Yh);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Ba extends U0{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class yu extends U0{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Wy(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function ea(n,e,t){const r=new Map;It(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,g=e.data.field(u.field);r.set(u.field,uA(d,g,t[s]))}return r}function nC(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,aA(u,d,e))}return r}class Rc extends U0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class od extends U0{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class B0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&eC(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mg(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mg(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=zb();return this.mutations.forEach(s=>{const u=e.get(s.key),d=u.overlayedDocument;let g=this.applyToLocalView(d,u.mutatedFields);g=t.has(s.key)?null:g;const _=V0(d,g);null!==_&&r.set(s.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Kt())}isEqual(e){return this.batchId===e.batchId&&Lh(this.mutations,e.mutations,(t,r)=>tC(t,r))&&Lh(this.baseMutations,e.baseMutations,(t,r)=>tC(t,r))}}class j0{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){It(e.mutations.length===r.length);let s=OM;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new j0(e,t,r,s)}}class $0{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class rC{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hr,gn;function Yy(n){switch(n){default:return at();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function iC(n){if(void 0===n)return An("GRPC error has no .code"),le.UNKNOWN;switch(n){case Hr.OK:return le.OK;case Hr.CANCELLED:return le.CANCELLED;case Hr.UNKNOWN:return le.UNKNOWN;case Hr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case Hr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case Hr.INTERNAL:return le.INTERNAL;case Hr.UNAVAILABLE:return le.UNAVAILABLE;case Hr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case Hr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case Hr.NOT_FOUND:return le.NOT_FOUND;case Hr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case Hr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case Hr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case Hr.ABORTED:return le.ABORTED;case Hr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case Hr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case Hr.DATA_LOSS:return le.DATA_LOSS;default:return at()}}(gn=Hr||(Hr={}))[gn.OK=0]="OK",gn[gn.CANCELLED=1]="CANCELLED",gn[gn.UNKNOWN=2]="UNKNOWN",gn[gn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gn[gn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gn[gn.NOT_FOUND=5]="NOT_FOUND",gn[gn.ALREADY_EXISTS=6]="ALREADY_EXISTS",gn[gn.PERMISSION_DENIED=7]="PERMISSION_DENIED",gn[gn.UNAUTHENTICATED=16]="UNAUTHENTICATED",gn[gn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gn[gn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gn[gn.ABORTED=10]="ABORTED",gn[gn.OUT_OF_RANGE=11]="OUT_OF_RANGE",gn[gn.UNIMPLEMENTED=12]="UNIMPLEMENTED",gn[gn.INTERNAL=13]="INTERNAL",gn[gn.UNAVAILABLE=14]="UNAVAILABLE",gn[gn.DATA_LOSS=15]="DATA_LOSS";class H0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yg}static getOrCreateInstance(){return null===yg&&(yg=new H0),yg}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let yg=null;function sC(){return new TextEncoder}const lA=new kh([4294967295,4294967295],0);function z0(n){const e=sC().encode(n),t=new ob;return t.update(e),new Uint8Array(t.digest())}function _g(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new kh([t,r],0),new kh([s,u],0)]}class G0{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new vg(`Invalid padding: ${t}`);if(r<0)throw new vg(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new vg(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new vg(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=kh.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(kh.fromNumber(r)));return 1===s.compare(lA)&&(s=new kh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=z0(e),[r,s]=_g(t);for(let u=0;u<this.hashCount;u++){const d=this.Et(r,s,u);if(!this.At(d))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new G0(u,s,t);return r.forEach(g=>d.insert(g)),d}insert(e){if(0===this.It)return;const t=z0(e),[r,s]=_g(t);for(let u=0;u<this.hashCount;u++){const d=this.Et(r,s,u);this.Rt(d)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class vg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Jh{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Xh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Jh(_t.min(),s,new Kn(jt),as(),Kt())}}class Xh{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Xh(r,t,Kt(),Kt(),Kt())}}class ef{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class q0{constructor(e,t){this.targetId=e,this.Vt=t}}class oC{constructor(e,t,r=mr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class Z0{constructor(){this.St=0,this.Dt=cC(),this.Ct=mr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Kt(),t=Kt(),r=Kt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:at()}}),new Xh(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=cC()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class aC{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=as(),this.zt=uC(),this.Wt=new Kn(jt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:at()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const d=u.target;if(Hy(d))if(0===s){const g=new Qe(d.path);this.Yt(r,g,Yn.newNoDocument(g,_t.min()))}else It(1===s);else{const g=this.ie(r);if(g!==s){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=H0.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(C,T,M){var j,K,ae,_e,ve,tt;const mt={localCacheCount:T,existenceFilterCount:M.count},ze=M.unchangedNames;return ze&&(mt.bloomFilter={applied:0===C,hashCount:null!==(j=ze?.hashCount)&&void 0!==j?j:0,bitmapLength:null!==(_e=null===(ae=null===(K=ze?.bits)||void 0===K?void 0:K.bitmap)||void 0===ae?void 0:ae.length)&&void 0!==_e?_e:0,padding:null!==(tt=null===(ve=ze?.bits)||void 0===ve?void 0:ve.padding)&&void 0!==tt?tt:0}),mt}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:d=0},hashCount:g=0}=r;let _,C;try{_=Fa(u).toUint8Array()}catch(T){if(T instanceof Db)return Cr("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{C=new G0(_,d,g)}catch(T){return Cr(T instanceof vg?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===C.It?1:s!==t-this.oe(e.targetId,C)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const d=this.Gt.ue(),g=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,d)=>{const g=this.se(d);if(g){if(u.current&&Hy(g.target)){const _=new Qe(g.target.path);null!==this.jt.get(_)||this.ae(d,_)||this.Yt(d,_,Yn.newNoDocument(_,e))}u.Mt&&(t.set(d,u.Ot()),u.Ft())}});let r=Kt();this.zt.forEach((u,d)=>{let g=!0;d.forEachWhile(_=>{const C=this.se(_);return!C||"TargetPurposeLimboResolution"===C.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,d)=>d.setReadTime(e));const s=new Jh(e,t,this.Wt,this.jt,r);return this.jt=as(),this.zt=uC(),this.Wt=new Kn(jt),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new Z0,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Fn(jt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ue("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Z0),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function uC(){return new Kn(Qe.comparator)}function cC(){return new Kn(Qe.comparator)}const W0={asc:"ASCENDING",desc:"DESCENDING"},K0={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lC={and:"AND",or:"OR"};class Y0{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wg(n,e){return n.useProto3Json||Uh(e)?e:{value:e}}function tf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dC(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dA(n,e){return tf(n,e.toTimestamp())}function kr(n){return It(!!n),_t.fromTimestamp(function(e){const t=Cc(e);return new Wn(t.seconds,t.nanos)}(n))}function Qy(n,e){return(t=n,new un(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function Jy(n){const e=un.fromString(n);return It(_C(e)),e}function nf(n,e){return Qy(n.databaseId,e.path)}function ja(n,e){const t=Jy(e);if(t.get(1)!==n.databaseId.projectId)throw new Pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Pe(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(J0(t))}function Xy(n,e){return Qy(n.databaseId,e)}function Q0(n){const e=Jy(n);return 4===e.length?un.emptyPath():J0(e)}function Eg(n){return new un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function J0(n){return It(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function X0(n,e,t){return{name:nf(n,e),fields:t.value.mapValue.fields}}function hC(n,e,t){const r=ja(n,e.name),s=kr(e.updateTime),u=e.createTime?kr(e.createTime):_t.min(),d=new mi({mapValue:{fields:e.fields}}),g=Yn.newFoundDocument(r,s,u,d);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function ni(n,e){let t;if(e instanceof Ba)t={update:X0(n,e.key,e.value)};else if(e instanceof Rc)t={delete:nf(n,e.key)};else if(e instanceof yu)t={update:X0(n,e.key,e.data),updateMask:mA(e.fieldMask)};else{if(!(e instanceof od))return at();t={verify:nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof Yh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof id)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof sd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Va)return{fieldPath:u.field.canonicalString(),increment:d.gt};throw at()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:dA(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:at()),t;var s}function Nc(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?tr.updateTime(kr(s.updateTime)):void 0!==s.exists?tr.exists(s.exists):tr.none():tr.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let g=null;"setToServerValue"in d?(It("REQUEST_TIME"===d.setToServerValue),g=new Yh):"appendMissingElements"in d?g=new id(d.appendMissingElements.values||[]):"removeAllFromArray"in d?g=new sd(d.removeAllFromArray.values||[]):"increment"in d?g=new Va(u,d.increment):at();const _=gr.fromServerFormat(d.fieldPath);return new Qh(_,g)}(n,s)):[];var s;if(e.update){const s=ja(n,e.update.name),u=new mi({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new ss((e.updateMask.fieldPaths||[]).map(C=>gr.fromServerFormat(C)));return new yu(s,u,d,t,r)}return new Ba(s,u,t,r)}if(e.delete){const s=ja(n,e.delete);return new Rc(s,t)}if(e.verify){const s=ja(n,e.verify);return new od(s,t)}return at()}function pC(n,e){return{documents:[Xy(n,e.path)]}}function gC(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Xy(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Xy(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(_){if(0!==_.length)return yC(Rn.create(_,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(_){if(0!==_.length)return _.map(C=>{return{field:Pc((T=C).field),direction:Ig(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=wg(n,e.limit);var g,_;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function pA(n){let e=Q0(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){It(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=function(T){const M=e_(T);return M instanceof Rn&&dg(M)?M.getFilters():[M]}(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new Ac(ad((M=T).field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let g=null;t.limit&&(g=function(T){let M;return M="object"==typeof T?T.value:T,Uh(M)?null:M}(t.limit));let _=null;var T;t.startAt&&(_=new Sc((T=t.startAt).values||[],!!T.before));let C=null;return t.endAt&&(C=function(T){return new Sc(T.values||[],!T.before)}(t.endAt)),Ub(e,s,d,u,g,"F",_,C)}function e_(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ad(e.unaryFilter.field);return on.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=ad(e.unaryFilter.field);return on.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=ad(e.unaryFilter.field);return on.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ad(e.unaryFilter.field);return on.create(u,"!=",{nullValue:"NULL_VALUE"});default:return at()}}(n):void 0!==n.fieldFilter?on.create(ad((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return at()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Rn.create(e.compositeFilter.filters.map(t=>e_(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return at()}}(e.compositeFilter.op))}(n):at();var e}function Ig(n){return W0[n]}function gA(n){return K0[n]}function ew(n){return lC[n]}function Pc(n){return{fieldPath:n.canonicalString()}}function ad(n){return gr.fromServerFormat(n.fieldPath)}function yC(n){return n instanceof on?function(e){if("=="===e.op){if(Ab(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NAN"}};if(Sb(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ab(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NAN"}};if(Sb(e.value))return{unaryFilter:{field:Pc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pc(e.field),op:gA(e.op),value:e.value}}}(n):n instanceof Rn?function(e){const t=e.getFilters().map(r=>yC(r));return 1===t.length?t[0]:{compositeFilter:{op:ew(e.op),filters:t}}}(n):at()}function mA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _C(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class ta{constructor(e,t,r,s,u=_t.min(),d=_t.min(),g=mr.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new ta(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ta(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class tw{constructor(e){this.fe=e}}function bg(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:rf(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:nf(s=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:tf(s,u.version.toTimestamp()),createTime:tf(s,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:sf(e.version)};else{if(!e.isUnknownDocument())return at();r.unknownDocument={path:t.path.toArray(),version:sf(e.version)}}var s,u;return r}function rf(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function sf(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Oc(n){const e=new Wn(n.seconds,n.nanoseconds);return _t.fromTimestamp(e)}function ud(n,e){const t=(e.baseMutations||[]).map(u=>Nc(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>Nc(n.fe,u)),s=Wn.fromMillis(e.localWriteTimeMs);return new B0(e.batchId,s,t,r)}function af(n){const e=Oc(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Oc(n.lastLimboFreeSnapshotVersion):_t.min();let r;var s;return void 0!==n.query.documents?(It(1===(s=n.query).documents.length),r=os(qh(Q0(s.documents[0])))):r=os(pA(n.query)),new ta(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,mr.fromBase64String(n.resumeToken))}function cd(n,e){const t=sf(e.snapshotVersion),r=sf(e.lastLimboFreeSnapshotVersion);let s;s=Hy(e.target)?pC(n.fe,e.target):gC(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:nd(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function nw(n){const e=pA({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Zh(e,e.limit,"L"):e}function t_(n,e){return new $0(e.largestBatchId,Nc(n.fe,e.overlayMutation))}function n_(n,e){const t=e.path.lastSegment();return[n,Mi(e.path.popLast()),t]}function _A(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:sf(r.readTime),documentKey:Mi(r.documentKey.path),largestBatchId:r.largestBatchId}}class vA{getBundleMetadata(e,t){return wA(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:Oc(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return wA(e).put({bundleId:(r=t).id,createTime:sf(kr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return vC(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:nw(s.bundledQuery),readTime:Oc(s.readTime)};var s})}saveNamedQuery(e,t){return vC(e).put({name:(r=t).name,readTime:sf(kr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function wA(n){return gi(n,"bundles")}function vC(n){return gi(n,"namedQueries")}class r_{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new r_(e,t.uid||"")}getOverlay(e,t){return Cg(e).get(n_(this.userId,t)).next(r=>r?t_(this.serializer,r):null)}getOverlays(e,t){const r=Ua();return oe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const g=new $0(t,d);s.push(this.we(e,g))}),oe.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Mi(d.getCollectionPath())));const u=[];return s.forEach(d=>{const g=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(Cg(e).J("collectionPathOverlayIndex",g))}),oe.waitFor(u)}getOverlaysForCollection(e,t,r){const s=Ua(),u=Mi(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return Cg(e).j("collectionPathOverlayIndex",d).next(g=>{for(const _ of g){const C=t_(this.serializer,_);s.set(C.getKey(),C)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=Ua();let d;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Cg(e).X({index:"collectionGroupOverlayIndex",range:g},(_,C,T)=>{const M=t_(this.serializer,C);u.size()<s||M.largestBatchId===d?(u.set(M.getKey(),M),d=M.largestBatchId):T.done()}).next(()=>u)}we(e,t){return Cg(e).put(function(r,s,u){const[d,g,_]=n_(s,u.mutation.key);return{userId:s,collectionPath:g,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:ni(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function Cg(n){return gi(n,"documentOverlays")}class kc{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Tr(e.integerValue));else if("doubleValue"in e){const r=Tr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Vh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Fa(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?D0(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):at()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Qe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function wC(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function EC(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=wC(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}kc.Ve=new kc;class IC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const s=t.codePointAt(0);this.De(240|s>>>18),this.De(128|63&s>>>12),this.De(128|63&s>>>6),this.De(128|63&s)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const s=t.codePointAt(0);this.Ne(240|s>>>18),this.Ne(128|63&s>>>12),this.Ne(128|63&s>>>6),this.Ne(128|63&s)}}this.ke()}Oe(e){const t=this.Fe(e),r=EC(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Le(e){const t=this.Fe(e),r=EC(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class bC{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class EA{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Dg{constructor(){this.je=new IC,this.ze=new bC(this.je),this.We=new EA(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class Fc{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Fc(this.indexId,this.documentKey,this.arrayValue,r)}}function Lc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=rw(n.arrayValue,e.arrayValue),0!==t?t:(t=rw(n.directionalValue,e.directionalValue),0!==t?t:Qe.comparator(n.documentKey,e.documentKey)))}function rw(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class CC{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){It(e.collectionGroup===this.collectionId);const t=Ry(e);if(void 0!==t&&!this.en(t))return!1;const r=vc(e);let s=new Set,u=0,d=0;for(;u<r.length&&this.en(r[u]);++u)s=s.add(r[u].fieldPath.canonicalString());if(u===r.length)return!0;if(void 0!==this.Ze){if(!s.has(this.Ze.field.canonicalString())){const g=r[u];if(!this.nn(this.Ze,g)||!this.sn(this.Ye[d++],g))return!1}++u}for(;u<r.length;++u)if(d>=this.Ye.length||!this.sn(this.Ye[d++],r[u]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function iw(n){var e,t;if(It(n instanceof on||n instanceof Rn),n instanceof on){if(n instanceof x0){const s=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>on.create(n.field,"==",u)))||[];return Rn.create(s,"or")}return n}const r=n.filters.map(s=>iw(s));return Rn.create(r,n.op)}function DC(n){if(0===n.getFilters().length)return[];const e=i_(iw(n));return It(IA(e)),sw(e)||ow(e)?[e]:e.getFilters()}function sw(n){return n instanceof on}function ow(n){return n instanceof Rn&&dg(n)}function IA(n){return sw(n)||ow(n)||function(e){if(e instanceof Rn&&A0(e)){for(const t of e.getFilters())if(!sw(t)&&!ow(t))return!1;return!0}return!1}(n)}function i_(n){if(It(n instanceof on||n instanceof Rn),n instanceof on)return n;if(1===n.filters.length)return i_(n.filters[0]);const e=n.filters.map(r=>i_(r));let t=Rn.create(e,n.op);return t=aw(t),IA(t)?t:(It(t instanceof Rn),It(zh(t)),It(t.filters.length>1),t.filters.reduce((r,s)=>TC(r,s)))}function TC(n,e){let t;return It(n instanceof on||n instanceof Rn),It(e instanceof on||e instanceof Rn),t=n instanceof on?e instanceof on?Rn.create([n,e],"and"):bA(n,e):e instanceof on?bA(e,n):function(r,s){if(It(r.filters.length>0&&s.filters.length>0),zh(r)&&zh(s))return Ob(r,s.getFilters());const u=A0(r)?r:s,d=A0(r)?s:r,g=u.filters.map(_=>TC(_,d));return Rn.create(g,"or")}(n,e),aw(t)}function bA(n,e){if(zh(e))return Ob(e,n.getFilters());{const t=e.filters.map(r=>TC(n,r));return Rn.create(t,"or")}}function aw(n){if(It(n instanceof on||n instanceof Rn),n instanceof on)return n;const e=n.getFilters();if(1===e.length)return aw(e[0]);if(Nb(n))return n;const t=e.map(s=>aw(s)),r=[];return t.forEach(s=>{s instanceof on?r.push(s):s instanceof Rn&&(s.op===n.op?r.push(...s.filters):r.push(s))}),1===r.length?r[0]:Rn.create(r,n.op)}class kM{constructor(){this.rn=new SC}addToCollectionParentIndex(e,t){return this.rn.add(t),oe.resolve()}getCollectionParents(e,t){return oe.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return oe.resolve()}deleteFieldIndex(e,t){return oe.resolve()}getDocumentsMatchingTarget(e,t){return oe.resolve(null)}getIndexType(e,t){return oe.resolve(0)}getFieldIndexes(e,t){return oe.resolve([])}getNextCollectionGroupToUpdate(e){return oe.resolve(null)}getMinOffset(e,t){return oe.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,t){return oe.resolve(zs.min())}updateCollectionGroup(e,t,r){return oe.resolve()}updateIndexEntries(e,t){return oe.resolve()}}class SC{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Fn(un.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Fn(un.comparator)).toArray()}}const uw=new Uint8Array(0);class FM{constructor(e,t){this.user=e,this.databaseId=t,this.on=new SC,this.un=new La(r=>nd(r),(r,s)=>hg(r,s)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:Mi(s)};return CA(e).put(u)}return oe.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[lb(t),""],!1,!0);return CA(e).j(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(ka(d.parent))}return r})}addFieldIndex(e,t){const r=Tg(e),s={indexId:(d=t).indexId,collectionGroup:d.collectionGroup,fields:d.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var d;delete s.indexId;const u=r.add(s);if(t.indexState){const d=ld(e);return u.next(g=>{d.put(_A(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=Tg(e),s=ld(e),u=s_(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=s_(e);let s=!0;const u=new Map;return oe.forEach(this.cn(t),d=>this.an(e,d).next(g=>{s&&(s=!!g),u.set(d,g)})).next(()=>{if(s){let d=Kt();const g=[];return oe.forEach(u,(_,C)=>{var T;Ue("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(ze=>`${ze.fieldPath}:${ze.kind}`).join(",")}`} to execute ${nd(t)}`);const M=function(ze,ot){const Nt=Ry(ot);if(void 0===Nt)return null;for(const Zt of Gh(ze,Nt.fieldPath))switch(Zt.op){case"array-contains-any":return Zt.value.arrayValue.values||[];case"array-contains":return[Zt.value]}return null}(C,_),j=function(ze,ot){const Nt=new Map;for(const Zt of vc(ot))for(const vi of Gh(ze,Zt.fieldPath))switch(vi.op){case"==":case"in":Nt.set(Zt.fieldPath.canonicalString(),vi.value);break;case"not-in":case"!=":return Nt.set(Zt.fieldPath.canonicalString(),vi.value),Array.from(Nt.values())}return null}(C,_),K=function(ze,ot){const Nt=[];let Zt=!0;for(const vi of vc(ot)){const ra=0===vi.kind?zy(ze,vi.fieldPath,ze.startAt):M0(ze,vi.fieldPath,ze.startAt);Nt.push(ra.value),Zt&&(Zt=ra.inclusive)}return new Sc(Nt,Zt)}(C,_),ae=function(ze,ot){const Nt=[];let Zt=!0;for(const vi of vc(ot)){const ra=0===vi.kind?M0(ze,vi.fieldPath,ze.endAt):zy(ze,vi.fieldPath,ze.endAt);Nt.push(ra.value),Zt&&(Zt=ra.inclusive)}return new Sc(Nt,Zt)}(C,_),_e=this.hn(_,C,K),ve=this.hn(_,C,ae),tt=this.ln(_,C,j),mt=this.fn(_.indexId,M,_e,K.inclusive,ve,ae.inclusive,tt);return oe.forEach(mt,ze=>r.H(ze,t.limit).next(ot=>{ot.forEach(Nt=>{const Zt=Qe.fromSegments(Nt.documentKey);d.has(Zt)||(d=d.add(Zt),g.push(Zt))})}))}).next(()=>g)}return oe.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:DC(Rn.create(e.filters,"and")).map(r=>$y(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,s,u,d,g){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),C=_/(null!=t?t.length:1),T=[];for(let M=0;M<_;++M){const j=t?this.dn(t[M/C]):uw,K=this.wn(e,j,r[M%C],s),ae=this._n(e,j,u[M%C],d),_e=g.map(ve=>this.wn(e,j,ve,!0));T.push(...this.createRange(K,ae,_e))}return T}wn(e,t,r,s){const u=new Fc(e,Qe.empty(),t,r);return s?u:u.Je()}_n(e,t,r,s){const u=new Fc(e,Qe.empty(),t,r);return s?u.Je():u}an(e,t){const r=new CC(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{let d=null;for(const g of u)r.tn(g)&&(!d||g.fields.length>d.fields.length)&&(d=g);return d})}getIndexType(e,t){let r=2;const s=this.cn(t);return oe.forEach(s,u=>this.an(e,u).next(d=>{d?0!==r&&d.fields.length<function(g){let _=new Fn(gr.comparator),C=!1;for(const T of g.filters)for(const M of T.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?C=!0:_=_.add(M.field));for(const T of g.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(C?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&s.length>1&&2===r?1:r)}mn(e,t){const r=new Dg;for(const s of vc(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.He(s.kind);kc.Ve._e(u,d)}return r.Qe()}dn(e){const t=new Dg;return kc.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Dg;return kc.Ve._e(Jo(this.databaseId,t),r.He(function(s){const u=vc(s);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let s=[];s.push(new Dg);let u=0;for(const d of vc(e)){const g=r[u++];for(const _ of s)if(this.yn(t,d.fieldPath)&&cg(g))s=this.pn(s,d,g);else{const C=_.He(d.kind);kc.Ve._e(g,C)}}return this.In(s)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const g of s){const _=new Dg;_.seed(g.Qe()),kc.Ve._e(d,_.He(t.kind)),u.push(_)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof on&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Tg(e),s=ld(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const d=[];return oe.forEach(u,g=>s.get([g.indexId,this.uid]).next(_=>{d.push(function(C,T){const M=T?new tg(T.sequenceNumber,new zs(Oc(T.readTime),new Qe(ka(T.documentKey)),T.largestBatchId)):tg.empty(),j=C.fields.map(([K,ae])=>new Ny(gr.fromServerFormat(K),ae));return new eg(C.indexId,C.collectionGroup,j,M)}(g,_))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:jt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Tg(e),u=ld(e);return this.Tn(e).next(d=>s.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>oe.forEach(g,_=>u.put(_A(_.indexId,this.user,d,r)))))}updateIndexEntries(e,t){const r=new Map;return oe.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?oe.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(g=>(r.set(s.collectionGroup,g),oe.forEach(g,_=>this.En(e,s,_).next(C=>{const T=this.An(u,_);return C.isEqual(T)?oe.resolve():this.vn(e,u,_,C,T)}))))})}Rn(e,t,r,s){return s_(e).put({indexId:s.indexId,uid:this.uid,arrayValue:s.arrayValue,directionalValue:s.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,s){return s_(e).delete([s.indexId,this.uid,s.arrayValue,s.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const s=s_(e);let u=new Fn(Lc);return s.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(d,g)=>{u=u.add(new Fc(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}An(e,t){let r=new Fn(Lc);const s=this.mn(t,e);if(null==s)return r;const u=Ry(t);if(null!=u){const d=e.data.field(u.fieldPath);if(cg(d))for(const g of d.arrayValue.values||[])r=r.add(new Fc(t.indexId,e.key,this.dn(g),s))}else r=r.add(new Fc(t.indexId,e.key,uw,s));return r}vn(e,t,r,s,u){Ue("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const d=[];return function(g,_,C,T,M){const j=g.getIterator(),K=_.getIterator();let ae=ed(j),_e=ed(K);for(;ae||_e;){let ve=!1,tt=!1;if(ae&&_e){const mt=C(ae,_e);mt<0?tt=!0:mt>0&&(ve=!0)}else null!=ae?tt=!0:ve=!0;ve?(T(_e),_e=ed(K)):tt?(M(ae),ae=ed(j)):(ae=ed(j),_e=ed(K))}}(s,u,Lc,g=>{d.push(this.Rn(e,t,r,g))},g=>{d.push(this.Pn(e,t,r,g))}),oe.waitFor(d)}Tn(e){let t=1;return ld(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,g)=>Lc(d,g)).filter((d,g,_)=>!g||0!==Lc(d,_[g-1]));const s=[];s.push(e);for(const d of r){const g=Lc(d,e),_=Lc(d,t);if(0===g)s[0]=e.Je();else if(g>0&&_<0)s.push(d),s.push(d.Je());else if(_>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2){if(this.bn(s[d],s[d+1]))return[];u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,uw,[]],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,uw,[]]))}return u}bn(e,t){return Lc(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(cw)}getMinOffset(e,t){return oe.mapArray(this.cn(t),r=>this.an(e,r).next(s=>s||at())).next(cw)}}function CA(n){return gi(n,"collectionParents")}function s_(n){return gi(n,"indexEntries")}function Tg(n){return gi(n,"indexConfiguration")}function ld(n){return gi(n,"indexState")}function cw(n){It(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const s=n[r].indexState.offset;h0(s,e)<0&&(e=s),t<s.largestBatchId&&(t=s.largestBatchId)}return new zs(e.readTime,e.documentKey,t)}const AC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ri{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new ri(e,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function xC(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let g=0;const _=r.X({range:d},(T,M,j)=>(g++,j.delete()));u.push(_.next(()=>{It(1===g)}));const C=[];for(const T of t.mutations){const M=ky(e,T.key.path,t.batchId);u.push(s.delete(M)),C.push(T.key)}return oe.waitFor(u).next(()=>C)}function lw(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw at();e=n.noDocument}return JSON.stringify(e).length}ri.DEFAULT_COLLECTION_PERCENTILE=10,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ri.DEFAULT=new ri(41943040,ri.DEFAULT_COLLECTION_PERCENTILE,ri.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ri.DISABLED=new ri(-1,0,0);class dw{constructor(e,t,r,s){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=s,this.Vn={}}static de(e,t,r,s){It(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new dw(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _u(e).X({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=uf(e),d=_u(e);return d.add({}).next(g=>{It("number"==typeof g);const _=new B0(g,t,r,s),C=function(j,K,ae){const _e=ae.baseMutations.map(tt=>ni(j.fe,tt)),ve=ae.mutations.map(tt=>ni(j.fe,tt));return{userId:K,batchId:ae.batchId,localWriteTimeMs:ae.localWriteTime.toMillis(),baseMutations:_e,mutations:ve}}(this.serializer,this.userId,_),T=[];let M=new Fn((j,K)=>jt(j.canonicalString(),K.canonicalString()));for(const j of s){const K=ky(this.userId,j.key.path,g);M=M.add(j.key.path.popLast()),T.push(d.put(C)),T.push(u.put(K,RM))}return M.forEach(j=>{T.push(this.indexManager.addToCollectionParentIndex(e,j))}),e.addOnCommittedListener(()=>{this.Vn[g]=_.keys()}),oe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return _u(e).get(t).next(r=>r?(It(r.userId===this.userId),ud(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?oe.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.Vn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return _u(e).X({index:"userMutationsIndex",range:s},(d,g,_)=>{g.userId===this.userId&&(It(g.batchId>=r),u=ud(this.serializer,g)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return _u(e).X({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _u(e).j("userMutationsIndex",t).next(r=>r.map(s=>ud(this.serializer,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=m0(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return uf(e).X({range:s},(d,g,_)=>{const[C,T,M]=d,j=ka(T);if(C===this.userId&&t.path.isEqual(j))return _u(e).get(M).next(K=>{if(!K)throw at();It(K.userId===this.userId),u.push(ud(this.serializer,K))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(jt);const s=[];return t.forEach(u=>{const d=m0(this.userId,u.path),g=IDBKeyRange.lowerBound(d),_=uf(e).X({range:g},(C,T,M)=>{const[j,K,ae]=C,_e=ka(K);j===this.userId&&u.path.isEqual(_e)?r=r.add(ae):M.done()});s.push(_)}),oe.waitFor(s).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=m0(this.userId,r),d=IDBKeyRange.lowerBound(u);let g=new Fn(jt);return uf(e).X({range:d},(_,C,T)=>{const[M,j,K]=_,ae=ka(j);M===this.userId&&r.isPrefixOf(ae)?ae.length===s&&(g=g.add(K)):T.done()}).next(()=>this.Dn(e,g))}Dn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(_u(e).get(u).next(d=>{if(null===d)throw at();It(d.userId===this.userId),r.push(ud(this.serializer,d))}))}),oe.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return xC(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),oe.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return oe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return uf(e).X({range:r},(u,d,g)=>{if(u[0]===this.userId){const _=ka(u[1]);s.push(_)}else g.done()}).next(()=>{It(0===s.length)})})}containsKey(e,t){return DA(e,this.userId,t)}xn(e){return MC(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function DA(n,e,t){const r=m0(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return uf(n).X({range:u,Y:!0},(g,_,C)=>{const[T,M,j]=g;T===e&&M===s&&(d=!0),C.done()}).next(()=>d)}function _u(n){return gi(n,"mutations")}function uf(n){return gi(n,"documentMutations")}function MC(n){return gi(n,"mutationQueues")}class dd{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new dd(0)}static Mn(){return new dd(-1)}}class LM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new dd(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>_t.fromTimestamp(new Wn(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.On(e,s)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>cf(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(It(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return cf(e).X((d,g)=>{const _=af(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(s++,u.push(this.removeTargetData(e,_)))}).next(()=>oe.waitFor(u)).next(()=>s)}forEachTarget(e,t){return cf(e).X((r,s)=>{const u=af(s);t(u)})}$n(e){return hw(e).get("targetGlobalKey").next(t=>(It(null!==t),t))}On(e,t){return hw(e).put("targetGlobalKey",t)}Fn(e,t){return cf(e).put(cd(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=nd(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return cf(e).X({range:s,index:"queryTargetsIndex"},(d,g,_)=>{const C=af(g);hg(t,C.target)&&(u=C,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=vu(e);return t.forEach(d=>{const g=Mi(d.path);s.push(u.put({targetId:r,path:g})),s.push(this.referenceDelegate.addReference(e,r,d))}),oe.waitFor(s)}removeMatchingKeys(e,t,r){const s=vu(e);return oe.forEach(t,u=>{const d=Mi(u.path);return oe.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=vu(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=vu(e);let u=Kt();return s.X({range:r,Y:!0},(d,g,_)=>{const C=ka(d[1]),T=new Qe(C);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Mi(t.path),s=IDBKeyRange.bound([r],[lb(r)],!1,!0);let u=0;return vu(e).X({index:"documentTargetsIndex",Y:!0,range:s},([d,g],_,C)=>{0!==d&&(u++,C.done())}).next(()=>u>0)}le(e,t){return cf(e).get(t).next(r=>r?af(r):null)}}function cf(n){return gi(n,"targets")}function hw(n){return gi(n,"targetGlobal")}function vu(n){return gi(n,"targetDocuments")}function TA([n,e],[t,r]){const s=jt(n,t);return 0===s?jt(e,r):s}class na{constructor(e){this.Ln=e,this.buffer=new Fn(TA),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();TA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fw{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ue("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,be.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ec(r)?Ue("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield wc(r)}yield t.Qn(3e5)}))}}class SA{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return oe.resolve(Ts.ct);const r=new na(t);return this.jn.forEachTarget(e,s=>r.Kn(s.sequenceNumber)).next(()=>this.jn.Wn(e,s=>r.Kn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector","Garbage collection skipped; disabled"),oe.resolve(AC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AC):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,s,u,d,g,_,C;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),s=this.params.maximumSequenceNumbersToCollect):s=M,d=Date.now(),this.nthSequenceNumber(e,s))).next(M=>(r=M,g=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(C=Date.now(),Co()<=lc.in.DEBUG&&Ue("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${s} in `+(g-d)+`ms\n\tRemoved ${u} targets in `+(_-g)+`ms\n\tRemoved ${M} documents in `+(C-_)+`ms\nTotal Duration: ${C-T}ms`),oe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:M})))}}class us{constructor(e,t){this.db=e,this.garbageCollector=function AA(n,e){return new SA(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,s)=>t(s))}addReference(e,t,r){return o_(e,r)}removeReference(e,t,r){return o_(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return o_(e,t)}Xn(e,t){return function(r,s){let u=!1;return MC(r).Z(d=>DA(r,d,s).next(g=>(g&&(u=!0),oe.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.Yn(e,(d,g)=>{if(g<=t){const _=this.Xn(e,d).next(C=>{if(!C)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,_t.min()),vu(e).delete([0,Mi(d.path)])))});s.push(_)}}).next(()=>oe.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return o_(e,t)}Yn(e,t){const r=vu(e);let s,u=Ts.ct;return r.X({index:"documentTargetsIndex"},([d,g],{path:_,sequenceNumber:C})=>{0===d?(u!==Ts.ct&&t(new Qe(ka(s)),u),u=C,s=_):u=Ts.ct}).next(()=>{u!==Ts.ct&&t(new Qe(ka(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function o_(n,e){return vu(n).put((r=n.currentSequenceNumber,{targetId:0,path:Mi(e.path),sequenceNumber:r}));var r}class a_{constructor(){this.changes=new La(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?oe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class xA{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return Uc(e).put(r)}removeEntry(e,t,r){return Uc(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],rf(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=Yn.newInvalidDocument(t);return Uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(s,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:Yn.newInvalidDocument(t)};return Uc(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sg(t))},(s,u)=>{r={document:this.ts(t,u),size:lw(u)}}).next(()=>r)}getEntries(e,t){let r=as();return this.ns(e,t,(s,u)=>{const d=this.ts(s,u);r=r.insert(s,d)}).next(()=>r)}ss(e,t){let r=as(),s=new Kn(Qe.comparator);return this.ns(e,t,(u,d)=>{const g=this.ts(u,d);r=r.insert(u,g),s=s.insert(u,lw(d))}).next(()=>({documents:r,rs:s}))}ns(e,t,r){if(t.isEmpty())return oe.resolve();let s=new Fn(yw);t.forEach(_=>s=s.add(_));const u=IDBKeyRange.bound(Sg(s.first()),Sg(s.last())),d=s.getIterator();let g=d.getNext();return Uc(e).X({index:"documentKeyIndex",range:u},(_,C,T)=>{const M=Qe.fromSegments([...C.prefixPath,C.collectionGroup,C.documentId]);for(;g&&yw(g,M)<0;)r(g,null),g=d.getNext();g&&g.isEqual(M)&&(r(g,C),g=d.hasNext()?d.getNext():null),g?T.G(Sg(g)):T.done()}).next(()=>{for(;g;)r(g,null),g=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(e,t,r,s){const u=t.path,d=[u.popLast().toArray(),u.lastSegment(),rf(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Uc(e).j(IDBKeyRange.bound(d,g,!0)).next(_=>{let C=as();for(const T of _){const M=this.ts(Qe.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);M.isFoundDocument()&&(Wh(t,M)||s.has(M.key))&&(C=C.insert(M.key,M))}return C})}getAllFromCollectionGroup(e,t,r,s){let u=as();const d=mw(t,r),g=mw(t,zs.max());return Uc(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,g,!0)},(_,C,T)=>{const M=this.ts(Qe.fromSegments(C.prefixPath.concat(C.collectionGroup,C.documentId)),C);u=u.insert(M.key,M),u.size===s&&T.done()}).next(()=>u)}newChangeBuffer(e){return new pw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return gw(e).get("remoteDocumentGlobalKey").next(t=>(It(!!t),t))}Zn(e,t){return gw(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function yA(n,e){let t;if(e.document)t=hC(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Qe.fromSegments(e.noDocument.path),s=Oc(e.noDocument.readTime);t=Yn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return at();{const r=Qe.fromSegments(e.unknownDocument.path),s=Oc(e.unknownDocument.version);t=Yn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new Wn(r[0],r[1]);return _t.fromTimestamp(s)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(_t.min()))return r}return Yn.newInvalidDocument(e)}}function RC(n){return new xA(n)}class pw extends a_{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new La(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new Fn((u,d)=>jt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const g=this.us.get(u);if(t.push(this.os.removeEntry(e,u,g.readTime)),d.isValidDocument()){const _=bg(this.os.serializer,d);s=s.add(u.path.popLast());const C=lw(_);r+=C-g.size,t.push(this.os.addEntry(e,u,_))}else if(r-=g.size,this.trackRemovals){const _=bg(this.os.serializer,d.convertToNoDocument(_t.min()));t.push(this.os.addEntry(e,u,_))}}),s.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),oe.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:s})=>(s.forEach((u,d)=>{this.us.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function gw(n){return gi(n,"remoteDocumentGlobal")}function Uc(n){return gi(n,"remoteDocumentsV14")}function Sg(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function mw(n,e){const t=e.documentKey.path.toArray();return[n,rf(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function yw(n,e){const t=n.path.toArray(),r=e.path.toArray();let s=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(s=jt(t[u],r[u]),s)return s;return s=jt(t.length,r.length),s||(s=jt(t[t.length-2],r[r.length-2]),s||jt(t[t.length-1],r[r.length-1]))}class NC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _w{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&mg(r.mutation,s,ss.empty(),Wn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Kt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Kt()){const s=Ua();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let d=pg();return u.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const r=Ua();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Kt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((d,g)=>{t.set(d,g)})})}computeViews(e,t,r,s){let u=as();const d=Kh(),g=Kh();return t.forEach((_,C)=>{const T=r.get(C.key);s.has(C.key)&&(void 0===T||T.mutation instanceof yu)?u=u.insert(C.key,C):void 0!==T?(d.set(C.key,T.mutation.getFieldMask()),mg(T.mutation,C,T.mutation.getFieldMask(),Wn.now())):d.set(C.key,ss.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((C,T)=>d.set(C,T)),t.forEach((C,T)=>{var M;return g.set(C,new NC(T,null!==(M=d.get(C))&&void 0!==M?M:null))}),g))}recalculateAndSaveOverlays(e,t){const r=Kh();let s=new Kn((d,g)=>d-g),u=Kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const g of d)g.keys().forEach(_=>{const C=t.get(_);if(null===C)return;let T=r.get(_)||ss.empty();T=g.applyToLocalView(C,T),r.set(_,T);const M=(s.get(g.batchId)||Kt()).add(_);s=s.insert(g.batchId,M)})}).next(()=>{const d=[],g=s.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),C=_.key,T=_.value,M=zb();T.forEach(j=>{if(!u.has(j)){const K=V0(t.get(j),r.get(j));null!==K&&M.set(j,K),u=u.add(j)}}),d.push(this.documentOverlayCache.saveOverlays(e,C,M))}return oe.waitFor(d)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Qe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):xc(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const d=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):oe.resolve(Ua());let g=-1,_=u;return d.next(C=>oe.forEach(C,(T,M)=>(g<M.largestBatchId&&(g=M.largestBatchId),u.get(T)?oe.resolve():this.remoteDocumentCache.getEntry(e,T).next(j=>{_=_.insert(T,j)}))).next(()=>this.populateOverlays(e,C,u)).next(()=>this.computeViews(e,_,C,Kt())).next(T=>({batchId:g,changes:Hb(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next(r=>{let s=pg();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=pg();return this.indexManager.getCollectionParents(e,s).next(d=>oe.forEach(d,g=>{const _=(C=t,T=g.child(s),new Xo(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(C=>{C.forEach((T,M)=>{u=u.insert(T,M)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((g,_)=>{const C=_.getKey();null===u.get(C)&&(u=u.insert(C,Yn.newInvalidDocument(C)))});let d=pg();return u.forEach((g,_)=>{const C=s.get(g);void 0!==C&&mg(C.mutation,_,ss.empty(),Wn.now()),Wh(t,_)&&(d=d.insert(g,_))}),d})}}class MA{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return oe.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:kr(r.createTime)}),oe.resolve()}getNamedQuery(e,t){return oe.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:nw(r.bundledQuery),readTime:kr(r.readTime)}),oe.resolve();var r}}class PC{constructor(){this.overlays=new Kn(Qe.comparator),this.ls=new Map}getOverlay(e,t){return oe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ua();return oe.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),oe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),oe.resolve()}getOverlaysForCollection(e,t,r){const s=Ua(),u=t.length+1,d=new Qe(t.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,C=_.getKey();if(!t.isPrefixOf(C.path))break;C.path.length===u&&_.largestBatchId>r&&s.set(_.getKey(),_)}return oe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Kn((C,T)=>C-T);const d=this.overlays.getIterator();for(;d.hasNext();){const C=d.getNext().value;if(C.getKey().getCollectionGroup()===t&&C.largestBatchId>r){let T=u.get(C.largestBatchId);null===T&&(T=Ua(),u=u.insert(C.largestBatchId,T)),T.set(C.getKey(),C)}}const g=Ua(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((C,T)=>g.set(C,T)),!(g.size()>=s)););return oe.resolve(g)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const d=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new $0(t,r));let u=this.ls.get(t);void 0===u&&(u=Kt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class vw{constructor(){this.fs=new Fn(zr.ds),this.ws=new Fn(zr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new zr(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new zr(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Qe(new un([])),r=new zr(t,e),s=new zr(t,e+1),u=[];return this.ws.forEachInRange([r,s],d=>{this.ys(d),u.push(d.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Qe(new un([])),r=new zr(t,e),s=new zr(t,e+1);let u=Kt();return this.ws.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new zr(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class zr{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Qe.comparator(e.key,t.key)||jt(e.As,t.As)}static _s(e,t){return jt(e.As,t.As)||Qe.comparator(e.key,t.key)}}class Vc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Fn(zr.ds)}checkEmpty(e){return oe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const d=new B0(u,t,r,s);this.mutationQueue.push(d);for(const g of s)this.Rs=this.Rs.add(new zr(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return oe.resolve(d)}lookupMutationBatch(e,t){return oe.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return oe.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return oe.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new zr(t,0),s=new zr(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],d=>{const g=this.Ps(d.As);u.push(g)}),oe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(jt);return t.forEach(s=>{const u=new zr(s,0),d=new zr(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,d],g=>{r=r.add(g.As)})}),oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Qe.isDocumentKey(u)||(u=u.child(""));const d=new zr(new Qe(u),0);let g=new Fn(jt);return this.Rs.forEachWhile(_=>{const C=_.key.path;return!!r.isPrefixOf(C)&&(C.length===s&&(g=g.add(_.As)),!0)},d),oe.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){It(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return oe.forEach(t.mutations,s=>{const u=new zr(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new zr(t,0),s=this.Rs.firstAfterOrEqual(r);return oe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return oe.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class OC{constructor(e){this.Ds=e,this.docs=new Kn(Qe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return oe.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let r=as();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():Yn.newInvalidDocument(s))}),oe.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=as();const d=t.path,g=new Qe(d.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:C,value:{document:T}}=_.getNext();if(!d.isPrefixOf(C.path))break;C.path.length>d.length+1||h0(fb(T),r)<=0||(s.has(T.key)||Wh(t,T))&&(u=u.insert(T.key,T.mutableCopy()))}return oe.resolve(u)}getAllFromCollectionGroup(e,t,r,s){at()}Cs(e,t){return oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ww(this)}getSize(e){return oe.resolve(this.size)}}class ww extends a_{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),oe.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class Ew{constructor(e){this.persistence=e,this.xs=new La(t=>nd(t),hg),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Ns=0,this.ks=new vw,this.targetCount=0,this.Ms=dd.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),oe.resolve()}getLastRemoteSnapshotVersion(e){return oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return oe.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),oe.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new dd(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,oe.resolve()}updateTargetData(e,t){return this.Fn(t),oe.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,oe.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((d,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(d),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),oe.waitFor(u).next(()=>s)}getTargetCount(e){return oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return oe.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),oe.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),oe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return oe.resolve(r)}containsKey(e,t){return oe.resolve(this.ks.containsKey(t))}}class Iw{constructor(e,t){this.$s={},this.overlays={},this.Os=new Ts(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new Ew(this),this.indexManager=new kM,this.remoteDocumentCache=new OC(r=>this.referenceDelegate.Ls(r)),this.serializer=new tw(t),this.qs=new MA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new PC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new Vc(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("MemoryPersistence","Starting transaction:",e);const s=new UM(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class UM extends gb{constructor(e){super(),this.currentSequenceNumber=e}}class Ag{constructor(e){this.persistence=e,this.Qs=new vw,this.js=null}static zs(e){return new Ag(e)}get Ws(){if(this.js)return this.js;throw at()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),oe.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),oe.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),oe.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return oe.forEach(this.Ws,r=>{const s=Qe.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,_t.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return oe.or([()=>oe.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class RA{constructor(e){this.serializer=e}O(e,t,r,s){const u=new Py("createOrUpgrade",t);var g;r<1&&s>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xl,{unique:!0}),g.createObjectStore("documentMutations"),kC(e),function(g){g.createObjectStore("remoteDocuments")}(e));let d=oe.resolve();return r<3&&s>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),kC(e)),d=d.next(()=>function(g){const _=g.store("targetGlobal"),C={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",C)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(g,_){return _.store("mutations").j().next(C=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Xl,{unique:!0});const T=_.store("mutations"),M=C.map(j=>T.put(j));return oe.waitFor(M)})}(e,u))),d=d.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Ys(u))),r<6&&s>=6&&(d=d.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&s>=7&&(d=d.next(()=>this.Zs(u))),r<8&&s>=8&&(d=d.next(()=>this.ti(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.ei(u))),r<11&&s>=11&&(d=d.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:Dr});_.createIndex("collectionPathOverlayIndex",PM,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",Ib,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:wb});_.createIndex("documentKeyIndex",Eb),_.createIndex("collectionGroupIndex",NM)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>this.si(e,u))),r<15&&s>=15&&(d=d.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:Bh}).createIndex("sequenceNumberIndex",WS,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:Fy}).createIndex("documentKeyIndex",Ly,{unique:!1})}(e))),d}Xs(e){let t=0;return e.store("remoteDocuments").X((r,s)=>{t+=lw(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(s=>oe.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",d).next(g=>oe.forEach(g,_=>{It(_.userId===u.userId);const C=ud(this.serializer,_);return xC(e,u.userId,C).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.X((d,g)=>{const _=new un(d),C=[0,Mi(_)];u.push(t.get(C).next(T=>T?oe.resolve():t.put({targetId:0,path:Mi(_),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>oe.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:ZS});const r=t.store("collectionParents"),s=new SC,u=d=>{if(s.add(d)){const g=d.lastSegment(),_=d.popLast();return r.put({collectionId:g,parent:Mi(_)})}};return t.store("remoteDocuments").X({Y:!0},(d,g)=>{const _=new un(d);return u(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([d,g,_],C)=>{const T=ka(g);return u(T.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,s)=>{const u=af(s),d=cd(this.serializer,u);return t.put(d)})}ni(e,t){const r=t.store("remoteDocuments"),s=[];return r.X((u,d)=>{const g=t.store("remoteDocumentsV14"),_=(C=d,C.document?new Qe(un.fromString(C.document.name).popFirst(5)):C.noDocument?Qe.fromSegments(C.noDocument.path):C.unknownDocument?Qe.fromSegments(C.unknownDocument.path):at()).path.toArray();var C;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(g.put(T))}).next(()=>oe.waitFor(s))}si(e,t){const r=t.store("mutations"),s=RC(this.serializer),u=new Iw(Ag.zs,this.serializer.fe);return r.j().next(d=>{const g=new Map;return d.forEach(_=>{var C;let T=null!==(C=g.get(_.userId))&&void 0!==C?C:Kt();ud(this.serializer,_).keys().forEach(M=>T=T.add(M)),g.set(_.userId,T)}),oe.forEach(g,(_,C)=>{const T=new xi(C),M=r_.de(this.serializer,T),j=u.getIndexManager(T),K=dw.de(T,this.serializer,j,u.referenceDelegate);return new _w(s,K,M,j).recalculateAndSaveOverlaysForDocumentKeys(new Uy(t,Ts.ct),_).next()})})}}function kC(n){n.createObjectStore("targetDocuments",{keyPath:GS}).createIndex("documentTargetsIndex",qS,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Rt,{unique:!0}),n.createObjectStore("targetGlobal")}const bw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class c_{constructor(e,t,r,s,u,d,g,_,C,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=d,this.document=g,this.ri=C,this.oi=T,this.ui=M,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=j=>Promise.resolve(),!c_.D())throw new Pe(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new us(this,s),this.di=t+"main",this.serializer=new tw(_),this.wi=new Qo(this.di,this.ui,new RA(this.serializer)),this.Bs=new LM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=RC(this.serializer),this.qs=new vA,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&An("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(le.FAILED_PRECONDITION,bw);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new Ts(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,be.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,be.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,be.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>xg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(Ec(e))return Ue("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ue("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return l_(e).get("owner").next(t=>oe.resolve(this.Ri(t)))}Pi(e){return xg(e).delete(this.clientId)}bi(){var e=this;return(0,be.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=gi(r,"clientMetadata");return s.j().next(u=>{const d=e.Si(u,18e5),g=u.filter(_=>-1===d.indexOf(_));return oe.forEach(g,_=>s.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?oe.resolve(!0):l_(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Pe(le.FAILED_PRECONDITION,bw);return!1}}return!(!this.networkEnabled||!this.inForeground)||xg(e).j().next(r=>void 0===this.Si(r,5e3).find(s=>!(this.clientId===s.clientId||!(!this.networkEnabled&&s.networkEnabled||!this.inForeground&&s.inForeground&&this.networkEnabled===s.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ue("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,be.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Uy(t,Ts.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>xg(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return dw.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new FM(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return r_.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ue("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=15===(d=this.ui)?bb:14===d?v0:13===d?_0:12===d?KS:11===d?y0:void at();var d;let g;return this.wi.runTransaction(e,s,u,_=>(g=new Uy(_,this.Os?this.Os.next():Ts.ct),"readwrite-primary"===t?this.Ti(g).next(C=>!!C||this.Ei(g)).next(C=>{if(!C)throw An(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Pe(le.FAILED_PRECONDITION,pb);return r(g)}).next(C=>this.vi(g).next(()=>C)):this.Oi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Oi(e){return l_(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Pe(le.FAILED_PRECONDITION,bw)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return l_(e).put("owner",t)}static D(){return Qo.D()}Ai(e){const t=l_(e);return t.get("owner").next(r=>this.Ri(r)?(Ue("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):oe.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(An(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,Jt.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ue("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return An("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){An("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function l_(n){return gi(n,"owner")}function xg(n){return gi(n,"clientMetadata")}function Cw(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class d_{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Kt(),s=Kt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new d_(e,t.fromCache,r,s)}}class NA{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(Gy(t))return oe.resolve(null);let r=os(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=Zh(t,null,"F"),r=os(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const d=Kt(...u);return this.Ui.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const C=this.ji(t,g);return this.zi(t,C,d,_.readTime)?this.Ki(e,Zh(t,null,"F")):this.Wi(e,C,t,_)}))})))}Gi(e,t,r,s){return Gy(t)||s.isEqual(_t.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const d=this.ji(t,u);return this.zi(t,d,r,s)?this.Qi(e,t):(Co()<=lc.in.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qy(t)),this.Wi(e,d,t,hb(s,-1)))})}ji(e,t){let r=new Fn(N0(e));return t.forEach((s,u)=>{Wh(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return Co()<=lc.in.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",qy(t)),this.Ui.getDocumentsMatchingQuery(e,t,zs.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(d=>{u=u.insert(d.key,d)}),u))}}class Dw{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new Kn(jt),this.Yi=new La(u=>nd(u),hg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _w(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function Tw(n,e,t,r){return new Dw(n,e,t,r)}function Sw(n,e){return Aw.apply(this,arguments)}function Aw(){return Aw=(0,be.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const d=[],g=[];let _=Kt();for(const C of s){d.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}for(const C of u){g.push(C.batchId);for(const T of C.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(C=>({er:C,removedBatchIds:d,addedBatchIds:g}))})})}),Aw.apply(this,arguments)}function xw(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function Mg(n,e,t){let r=Kt(),s=Kt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let d=as();return t.forEach((g,_)=>{const C=u.get(g);_.isFoundDocument()!==C.isFoundDocument()&&(s=s.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!C.isValidDocument()||_.version.compareTo(C.version)>0||0===_.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):Ue("LocalStore","Ignoring outdated watch update for ",g,". Current version:",C.version," Watch version:",_.version)}),{nr:d,sr:s}})}function LC(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function hd(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,oe.resolve(s)):t.Bs.allocateTargetId(r).next(d=>(s=new ta(e,d,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function df(n,e,t){return Mw.apply(this,arguments)}function Mw(){return Mw=(0,be.Z)(function*(n,e,t){const r=rt(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!Ec(d))throw d;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),Mw.apply(this,arguments)}function Rw(n,e,t){const r=rt(n);let s=_t.min(),u=Kt();return r.persistence.runTransaction("Execute query","readonly",d=>function(g,_,C){const T=rt(g),M=T.Yi.get(C);return void 0!==M?oe.resolve(T.Ji.get(M)):T.Bs.getTargetData(_,C)}(r,d,os(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(d,g.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(d,e,t?s:_t.min(),t?u:Kt())).next(g=>(VC(r,jb(e),g),{documents:g,ir:u})))}function Nw(n,e){const t=rt(n),r=rt(t.Bs),s=t.Ji.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(d=>d?d.target:null))}function UC(n,e){const t=rt(n),r=t.Xi.get(e)||_t.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.Zi.getAllFromCollectionGroup(s,e,hb(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(VC(t,e,s),s))}function VC(n,e,t){let r=n.Xi.get(e)||_t.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function BC(){return BC=(0,be.Z)(function*(n,e,t,r){const s=rt(n);let u=Kt(),d=as();for(const C of t){const T=e.rr(C.metadata.name);C.document&&(u=u.add(T));const M=e.ur(C);M.setReadTime(e.cr(C.metadata.readTime)),d=d.insert(T,M)}const g=s.Zi.newChangeBuffer({trackRemovals:!0}),_=yield hd(s,(C=r,os(qh(un.fromString(`__bundle__/docs/${C}`)))));var C;return s.persistence.runTransaction("Apply bundle documents","readwrite",C=>Mg(C,g,d).next(T=>(g.apply(C),T)).next(T=>s.Bs.removeMatchingKeysForTargetId(C,_.targetId).next(()=>s.Bs.addMatchingKeys(C,u,_.targetId)).next(()=>s.localDocuments.getLocalViewOfDocuments(C,T.nr,T.sr)).next(()=>T.nr)))}),BC.apply(this,arguments)}function BM(n,e){return h_.apply(this,arguments)}function h_(){return h_=(0,be.Z)(function*(n,e,t=Kt()){const r=yield hd(n,os(nw(e.bundledQuery))),s=rt(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=kr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.qs.saveNamedQuery(u,e);const g=r.withResumeToken(mr.EMPTY_BYTE_STRING,d);return s.Ji=s.Ji.insert(g.targetId,g),s.Bs.updateTargetData(u,g).next(()=>s.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>s.qs.saveNamedQuery(u,e))})}),h_.apply(this,arguments)}function jC(n,e){return`firestore_clients_${n}_${e}`}function $C(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Pw(n,e){return`firestore_targets_${n}_${e}`}class Ow{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static ar(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new Pe(s.error.code,s.error.message))),d?new Ow(e,t,s.state,u):(An("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class f_{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new Pe(r.error.code,r.error.message))),u?new f_(e,r.state,s):(An("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class kw{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=qb();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=g0(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new kw(e,u):(An("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class HC{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new HC(t.clientId,t.onlineState):(An("SharedClientState",`Failed to parse online state: ${e}`),null)}}class zC{constructor(){this.activeTargetIds=qb()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fw{constructor(e,t,r,s,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new Kn(jt),this.started=!1,this.yr=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=jC(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new zC),this.Tr=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,be.Z)(function*(){const t=yield e.syncEngine.$i();for(const s of t){if(s===e.wr)continue;const u=e.getItem(jC(e.persistenceKey,s));if(u){const d=kw.ar(s,u);d&&(e.gr=e.gr.insert(d.clientId,d))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const s=e.br(r);s&&e.Vr(s)}for(const s of e.yr)e.mr(s);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Pw(this.persistenceKey,e));if(r){const s=f_.ar(e,r);s&&(t=s.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Pw(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.Cr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ue("SharedClientState","READ",e,t),t}setItem(e,t){Ue("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ue("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ue("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void An("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const s=t.Or(r.key);return t.Fr(s,null)}{const s=t.Br(r.key,r.newValue);if(s)return t.Fr(s.clientId,s)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const s=t.Lr(r.key,r.newValue);if(s)return t.qr(s)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const s=t.Ur(r.key,r.newValue);if(s)return t.Kr(s)}}else if(r.key===t.vr){if(null!==r.newValue){const s=t.br(r.newValue);if(s)return t.Vr(s)}}else if(r.key===t.Ir){const s=function(u){let d=Ts.ct;if(null!=u)try{const g=JSON.parse(u);It("number"==typeof g),d=g}catch(g){An("SharedClientState","Failed to read sequence number from WebStorage",g)}return d}(r.newValue);s!==Ts.ct&&t.sequenceNumberHandler(s)}else if(r.key===t.Rr){const s=t.Gr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const s=new Ow(this.currentUser,e,t,r),u=$C(this.persistenceKey,this.currentUser,e);this.setItem(u,s.hr())}Cr(e){const t=$C(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const s=Pw(this.persistenceKey,e),u=new f_(e,t,r);this.setItem(s,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return kw.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),s=Number(r[1]);return Ow.ar(new xi(void 0!==r[2]?r[2]:null),s,t)}Ur(e,t){const r=this.Ar.exec(e),s=Number(r[1]);return f_.ar(s,t)}br(e){return HC.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,be.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ue("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),s=this.Sr(this.gr),u=this.Sr(r),d=[],g=[];return u.forEach(_=>{s.has(_)||d.push(_)}),s.forEach(_=>{u.has(_)||g.push(_)}),this.syncEngine.Wr(d,g).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=qb();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class Rg{constructor(){this.Hr=new zC,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new zC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class PA{Yr(e){}shutdown(){}}class GC{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ng=null;function wu(){return null===Ng?Ng=268435456+Math.round(2147483648*Math.random()):Ng++,"0x"+Ng.toString(16)}const qC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lw{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const yi="WebChannelConnection";class OA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const d=wu(),g=this.To(e,t);Ue("RestConnection",`Sending RPC '${e}' ${d}:`,g,r);const _={};return this.Eo(_,s,u),this.Ao(e,g,_,r).then(C=>(Ue("RestConnection",`Received RPC '${e}' ${d}: `,C),C),C=>{throw Cr("RestConnection",`RPC '${e}' ${d} failed with error: `,C,"url: ",g,"request:",r),C})}vo(e,t,r,s,u,d){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Yl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${qC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=wu();return new Promise((d,g)=>{const _=new FS;_.setWithCredentials(!0),_.listenOnce(kS.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Ay.NO_ERROR:const T=_.getResponseJson();Ue(yi,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),d(T);break;case Ay.TIMEOUT:Ue(yi,`RPC '${e}' ${u} timed out`),g(new Pe(le.DEADLINE_EXCEEDED,"Request time out"));break;case Ay.HTTP_ERROR:const M=_.getStatus();if(Ue(yi,`RPC '${e}' ${u} failed with status:`,M,"response text:",_.getResponseText()),M>0){let j=_.getResponseJson();Array.isArray(j)&&(j=j[0]);const K=j?.error;if(K&&K.status&&K.message){const ae=function(_e){const ve=_e.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(ve)>=0?ve:le.UNKNOWN}(K.status);g(new Pe(ae,K.message))}else g(new Pe(le.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Pe(le.UNAVAILABLE,"Connection failed."));break;default:at()}}finally{Ue(yi,`RPC '${e}' ${u} completed.`)}});const C=JSON.stringify(s);Ue(yi,`RPC '${e}' ${u} sending request:`,s),_.send(t,"POST",C,r,15)})}Ro(e,t,r){const s=wu(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=PS(),g=OS(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},C=this.longPollingOptions.timeoutSeconds;void 0!==C&&(_.longPollingTimeout=Math.round(1e3*C)),this.useFetchStreams&&(_.xmlHttpFactory=new Oh({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const T=u.join("");Ue(yi,`Creating RPC '${e}' stream ${s}: ${T}`,_);const M=d.createWebChannel(T,_);let j=!1,K=!1;const ae=new Lw({ro:ve=>{K?Ue(yi,`Not sending because RPC '${e}' stream ${s} is closed:`,ve):(j||(Ue(yi,`Opening RPC '${e}' stream ${s} transport.`),M.open(),j=!0),Ue(yi,`RPC '${e}' stream ${s} sending:`,ve),M.send(ve))},oo:()=>M.close()}),_e=(ve,tt,mt)=>{ve.listen(tt,ze=>{try{mt(ze)}catch(ot){setTimeout(()=>{throw ot},0)}})};return _e(M,xy.EventType.OPEN,()=>{K||Ue(yi,`RPC '${e}' stream ${s} transport opened.`)}),_e(M,xy.EventType.CLOSE,()=>{K||(K=!0,Ue(yi,`RPC '${e}' stream ${s} transport closed`),ae.wo())}),_e(M,xy.EventType.ERROR,ve=>{K||(K=!0,Cr(yi,`RPC '${e}' stream ${s} transport errored:`,ve),ae.wo(new Pe(le.UNAVAILABLE,"The operation could not be completed")))}),_e(M,xy.EventType.MESSAGE,ve=>{var tt;if(!K){const mt=ve.data[0];It(!!mt);const ot=mt.error||(null===(tt=mt[0])||void 0===tt?void 0:tt.error);if(ot){Ue(yi,`RPC '${e}' stream ${s} received error:`,ot);const Nt=ot.status;let Zt=function(ra){const P_=Hr[ra];if(void 0!==P_)return iC(P_)}(Nt),vi=ot.message;void 0===Zt&&(Zt=le.INTERNAL,vi="Unknown error status: "+Nt+" with message "+ot.message),K=!0,ae.wo(new Pe(Zt,vi)),M.close()}else Ue(yi,`RPC '${e}' stream ${s} received:`,mt),ae._o(mt)}}),_e(g,sb.STAT_EVENT,ve=>{ve.stat===u0.PROXY?Ue(yi,`RPC '${e}' stream ${s} detected buffering proxy`):ve.stat===u0.NOPROXY&&Ue(yi,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{ae.fo()},0),ae}}function p_(){return typeof window<"u"?window:null}function hf(){return typeof document<"u"?document:null}function Bc(n){return new Y0(n,!0)}class ZC{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class kA{constructor(e,t,r,s,u,d,g,_){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ZC(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,be.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,be.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,be.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(An(t.toString()),An("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Pe(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,be.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jM extends kA{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function hA(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:at(),s=e.targetChange.targetIds||[],u=function(_,C){return _.useProto3Json?(It(void 0===C||"string"==typeof C),mr.fromBase64String(C||"")):(It(void 0===C||C instanceof Uint8Array),mr.fromUint8Array(C||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const C=void 0===_.code?le.UNKNOWN:iC(_.code);return new Pe(C,_.message||"")}(d);t=new oC(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=ja(n,r.document.name),u=kr(r.document.updateTime),d=r.document.createTime?kr(r.document.createTime):_t.min(),g=new mi({mapValue:{fields:r.document.fields}}),_=Yn.newFoundDocument(s,u,d,g);t=new ef(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,s=ja(n,r.document),u=r.readTime?kr(r.readTime):_t.min(),d=Yn.newNoDocument(s,u);t=new ef([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=ja(n,r.document);t=new ef([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return at();{const r=e.filter,{count:s=0,unchangedNames:u}=r,d=new rC(s,u);t=new q0(r.targetId,d)}}var _;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return _t.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?_t.min():u.readTime?kr(u.readTime):_t.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Eg(this.serializer),t.addTarget=function(s,u){let d;const g=u.target;if(d=Hy(g)?{documents:pC(s,g)}:{query:gC(s,g)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=dC(s,u.resumeToken);const _=wg(s,u.expectedCount);null!==_&&(d.expectedCount=_)}else if(u.snapshotVersion.compareTo(_t.min())>0){d.readTime=tf(s,u.snapshotVersion.toTimestamp());const _=wg(s,u.expectedCount);null!==_&&(d.expectedCount=_)}return d}(this.serializer,e);const r=function mC(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Eg(this.serializer),t.removeTarget=e,this.Wo(t)}}class WC extends kA{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(It(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function fA(n,e){return n&&n.length>0?(It(void 0!==e),n.map(t=>function(r,s){let u=kr(r.updateTime?r.updateTime:s);return u.isEqual(_t.min())&&(u=kr(s)),new Xb(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=kr(e.commitTime);return this.listener.cu(r,t)}return It(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Eg(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ni(this.serializer,r))};this.Wo(t)}}class FA extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Pe(le.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.vo(e,t,r,u,d,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(le.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class UA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(An(t),this.mu=!1):Ue("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class KC{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,be.Z)(function*(){var _;jc(d)&&(Ue("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,be.Z)(function*(C){const T=rt(C);T.vu.add(4),yield pf(T),T.bu.set("Unknown"),T.vu.delete(4),yield ff(T)}),function(C){return _.apply(this,arguments)})(d))}))}),this.bu=new UA(r,s)}}function ff(n){return g_.apply(this,arguments)}function g_(){return g_=(0,be.Z)(function*(n){if(jc(n))for(const e of n.Ru)yield e(!0)}),g_.apply(this,arguments)}function pf(n){return Vw.apply(this,arguments)}function Vw(){return Vw=(0,be.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),Vw.apply(this,arguments)}function Pg(n,e){const t=rt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),jw(t)?Og(t):Fg(t).Ko()&&YC(t,e))}function fd(n,e){const t=rt(n),r=Fg(t);t.Au.delete(e),r.Ko()&&Bw(t,e),0===t.Au.size&&(r.Ko()?r.jo():jc(t)&&t.bu.set("Unknown"))}function YC(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Fg(n).su(e)}function Bw(n,e){n.Vu.qt(e),Fg(n).iu(e)}function Og(n){n.Vu=new aC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Fg(n).start(),n.bu.gu()}function jw(n){return jc(n)&&!Fg(n).Uo()&&n.Au.size>0}function jc(n){return 0===rt(n).vu.size}function VA(n){n.Vu=void 0}function $M(n){return $w.apply(this,arguments)}function $w(){return $w=(0,be.Z)(function*(n){n.Au.forEach((e,t)=>{YC(n,e)})}),$w.apply(this,arguments)}function BA(n,e){return Hw.apply(this,arguments)}function Hw(){return Hw=(0,be.Z)(function*(n,e){VA(n),jw(n)?(n.bu.Iu(e),Og(n)):n.bu.set("Unknown")}),Hw.apply(this,arguments)}function jA(n,e,t){return m_.apply(this,arguments)}function m_(){return m_=(0,be.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof oC&&2===e.state&&e.cause)try{yield(r=(0,be.Z)(function*(s,u){const d=u.cause;for(const g of u.targetIds)s.Au.has(g)&&(yield s.remoteSyncer.rejectListen(g,d),s.Au.delete(g),s.Vu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield kg(n,r)}else if(e instanceof ef?n.Vu.Ht(e):e instanceof q0?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(_t.min()))try{const r=yield xw(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.Vu.ce(u);return d.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const C=s.Au.get(_);C&&s.Au.set(_,C.withResumeToken(g.resumeToken,u))}}),d.targetMismatches.forEach((g,_)=>{const C=s.Au.get(g);if(!C)return;s.Au.set(g,C.withResumeToken(mr.EMPTY_BYTE_STRING,C.snapshotVersion)),Bw(s,g);const T=new ta(C.target,g,_,C.sequenceNumber);YC(s,T)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),yield kg(n,r)}var r}),m_.apply(this,arguments)}function kg(n,e,t){return QC.apply(this,arguments)}function QC(){return QC=(0,be.Z)(function*(n,e,t){if(!Ec(e))throw e;n.vu.add(1),yield pf(n),n.bu.set("Offline"),t||(t=()=>xw(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ue("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield ff(n)}))}),QC.apply(this,arguments)}function JC(n,e){return e().catch(t=>kg(n,t,e))}function $c(n){return y_.apply(this,arguments)}function y_(){return y_=(0,be.Z)(function*(n){const e=rt(n),t=pd(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;XC(e);)try{const s=yield LC(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,$A(e,s)}catch(s){yield kg(e,s)}__(e)&&eD(e)}),y_.apply(this,arguments)}function XC(n){return jc(n)&&n.Eu.length<10}function $A(n,e){n.Eu.push(e);const t=pd(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function __(n){return jc(n)&&!pd(n).Uo()&&n.Eu.length>0}function eD(n){pd(n).start()}function HA(n){return v_.apply(this,arguments)}function v_(){return v_=(0,be.Z)(function*(n){pd(n).hu()}),v_.apply(this,arguments)}function tD(n){return nD.apply(this,arguments)}function nD(){return nD=(0,be.Z)(function*(n){const e=pd(n);for(const t of n.Eu)e.uu(t.mutations)}),nD.apply(this,arguments)}function zA(n,e,t){return gf.apply(this,arguments)}function gf(){return gf=(0,be.Z)(function*(n,e,t){const r=n.Eu.shift(),s=j0.from(r,e,t);yield JC(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield $c(n)}),gf.apply(this,arguments)}function HM(n,e){return zw.apply(this,arguments)}function zw(){return zw=(0,be.Z)(function*(n,e){var t;e&&pd(n).ou&&(yield(t=(0,be.Z)(function*(r,s){if(Yy(u=s.code)&&u!==le.ABORTED){const d=r.Eu.shift();pd(r).Qo(),yield JC(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield $c(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),__(n)&&eD(n)}),zw.apply(this,arguments)}function GA(n,e){return rD.apply(this,arguments)}function rD(){return rD=(0,be.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=jc(t);t.vu.add(3),yield pf(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield ff(t)}),rD.apply(this,arguments)}function Gw(n,e){return iD.apply(this,arguments)}function iD(){return iD=(0,be.Z)(function*(n,e){const t=rt(n);e?(t.vu.delete(2),yield ff(t)):e||(t.vu.add(2),yield pf(t),t.bu.set("Unknown"))}),iD.apply(this,arguments)}function Fg(n){return n.Su||(n.Su=function(e,t,r){const s=rt(e);return s.fu(),new jM(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:$M.bind(null,n),ao:BA.bind(null,n),nu:jA.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Su.Qo(),jw(n)?Og(n):n.bu.set("Unknown")):(yield n.Su.stop(),VA(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function pd(n){return n.Du||(n.Du=function(e,t,r){const s=rt(e);return s.fu(),new WC(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:HA.bind(null,n),ao:HM.bind(null,n),au:tD.bind(null,n),cu:zA.bind(null,n)}),n.Ru.push(function(){var e=(0,be.Z)(function*(t){t?(n.Du.Qo(),yield $c(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class sD{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,g=new sD(e,t,d,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lg(n,e){if(An("AsyncQueue",`${e}: ${n}`),Ec(n))return new Pe(le.UNAVAILABLE,`${e}: ${n}`);throw n}class mf{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=pg(),this.sortedSet=new Kn(this.comparator)}static emptySet(e){return new mf(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof mf)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new mf;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class qA{constructor(){this.Cu=new Kn(Qe.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):at():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ug{constructor(e,t,r,s,u,d,g,_,C){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=C}static fromInitialDocuments(e,t,r,s,u){const d=[];return t.forEach(g=>{d.push({type:0,doc:g})}),new Ug(e,t,mf.emptySet(t),d,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class zM{constructor(){this.Nu=void 0,this.listeners=[]}}class GM{constructor(){this.queries=new La(e=>Bb(e),rd),this.onlineState="Unknown",this.ku=new Set}}function oD(n,e){return qw.apply(this,arguments)}function qw(){return qw=(0,be.Z)(function*(n,e){const t=rt(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new zM),s)try{u.Nu=yield t.onListen(r)}catch(d){const g=Lg(d,`Initialization of query '${qy(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&l(t)}),qw.apply(this,arguments)}function aD(n,e){return i.apply(this,arguments)}function i(){return i=(0,be.Z)(function*(n,e){const t=rt(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),i.apply(this,arguments)}function o(n,e){const t=rt(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const g of d.listeners)g.$u(s)&&(r=!0);d.Nu=s}}r&&l(t)}function a(n,e,t){const r=rt(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function l(n){n.ku.forEach(e=>{e.next()})}class h{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new Ug(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=Ug.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class f{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class y{constructor(e){this.serializer=e}rr(e){return ja(this.serializer,e)}ur(e){return e.metadata.exists?hC(this.serializer,e.document,!1):Yn.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return kr(e)}}class w{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=b(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=un.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new y(this.serializer);for(const s of e)if(s.metadata.queries){const u=r.rr(s.metadata.name);for(const d of s.metadata.queries){const g=(t.get(d)||Kt()).add(u);t.set(d,g)}}return t}complete(){var e=this;return(0,be.Z)(function*(){const t=yield function VM(n,e,t,r){return BC.apply(this,arguments)}(e.localStore,new y(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const s of e.queries)yield BM(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function b(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class S{constructor(e){this.key=e}}class R{constructor(e){this.key=e}}class V{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Kt(),this.mutatedKeys=Kt(),this.tc=N0(e),this.ec=new mf(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new qA,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,g=!1;const _="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,C="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,M)=>{const j=s.get(T),K=Wh(this.query,M)?M:null,ae=!!j&&this.mutatedKeys.has(j.key),_e=!!K&&(K.hasLocalMutations||this.mutatedKeys.has(K.key)&&K.hasCommittedMutations);let ve=!1;j&&K?j.data.isEqual(K.data)?ae!==_e&&(r.track({type:3,doc:K}),ve=!0):this.rc(j,K)||(r.track({type:2,doc:K}),ve=!0,(_&&this.tc(K,_)>0||C&&this.tc(K,C)<0)&&(g=!0)):!j&&K?(r.track({type:0,doc:K}),ve=!0):j&&!K&&(r.track({type:1,doc:j}),ve=!0,(_||C)&&(g=!0)),ve&&(K?(d=d.add(K),u=_e?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),null!==this.query.limit)for(;d.size>this.query.limit;){const T="F"===this.query.limitType?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{ec:d,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((C,T)=>function(M,j){const K=ae=>{switch(ae){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at()}};return K(M)-K(j)}(C.type,T.type)||this.tc(C.doc,T.doc)),this.oc(r);const d=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==u.length||_?{snapshot:new Ug(this.query,e.ec,s,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:d}:{cc:d}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qA,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Kt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new R(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new S(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Kt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Ug.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Z{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class ee{constructor(e){this.key=e,this.fc=!1}}class Te{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.dc={},this.wc=new La(g=>Bb(g),rd),this._c=new Map,this.mc=new Set,this.gc=new Kn(Qe.comparator),this.yc=new Map,this.Ic=new vw,this.Tc={},this.Ec=new Map,this.Ac=dd.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function Ve(n,e){return et.apply(this,arguments)}function et(){return et=(0,be.Z)(function*(n,e){const t=lx(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const d=yield hd(t.localStore,os(e)),g=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield gt(t,e,r,"current"===g,d.resumeToken),t.isPrimaryClient&&Pg(t.remoteStore,d)}return s}),et.apply(this,arguments)}function gt(n,e,t,r,s){return Ae.apply(this,arguments)}function Ae(){return Ae=(0,be.Z)(function*(n,e,t,r,s){n.Rc=(M,j,K)=>{return(ae=(0,be.Z)(function*(_e,ve,tt,mt){let ze=ve.view.sc(tt);ze.zi&&(ze=yield Rw(_e.localStore,ve.query,!1).then(({documents:Zt})=>ve.view.sc(Zt,ze)));const ot=mt&&mt.targetChanges.get(ve.targetId),Nt=ve.view.applyChanges(ze,_e.isPrimaryClient,ot);return XA(_e,ve.targetId,Nt.cc),Nt.snapshot}),function(_e,ve,tt,mt){return ae.apply(this,arguments)})(n,M,j,K);var ae};const u=yield Rw(n.localStore,e,!0),d=new V(e,u.ir),g=d.sc(u.documents),_=Xh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),C=d.applyChanges(g,n.isPrimaryClient,_);XA(n,t,C.cc);const T=new Z(e,t,d);return n.wc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),C.snapshot}),Ae.apply(this,arguments)}function Gt(n,e){return nn.apply(this,arguments)}function nn(){return nn=(0,be.Z)(function*(n,e){const t=rt(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!rd(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield df(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),fd(t.remoteStore,r.targetId),w_(t,r.targetId)}).catch(wc))):(w_(t,r.targetId),yield df(t.localStore,r.targetId,!0))}),nn.apply(this,arguments)}function _i(){return _i=(0,be.Z)(function*(n,e,t){const r=dx(n);try{const s=yield function(u,d){const g=rt(u),_=Wn.now(),C=d.reduce((j,K)=>j.add(K.key),Kt());let T,M;return g.persistence.runTransaction("Locally write mutations","readwrite",j=>{let K=as(),ae=Kt();return g.Zi.getEntries(j,C).next(_e=>{K=_e,K.forEach((ve,tt)=>{tt.isValidDocument()||(ae=ae.add(ve))})}).next(()=>g.localDocuments.getOverlayedDocuments(j,K)).next(_e=>{T=_e;const ve=[];for(const tt of d){const mt=cA(tt,T.get(tt.key).overlayedDocument);null!=mt&&ve.push(new yu(tt.key,mt,Mb(mt.value.mapValue),tr.exists(!0)))}return g.mutationQueue.addMutationBatch(j,_,ve,d)}).next(_e=>{M=_e;const ve=_e.applyToLocalDocumentSet(T,ae);return g.documentOverlayCache.saveOverlays(j,_e.batchId,ve)})}).then(()=>({batchId:M.batchId,changes:Hb(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,g){let _=u.Tc[u.currentUser.toKey()];_||(_=new Kn(jt)),_=_.insert(d,g),u.Tc[u.currentUser.toKey()]=_}(r,s.batchId,t),yield gd(r,s.changes),yield $c(r.remoteStore)}catch(s){const u=Lg(s,"Failed to persist write");t.reject(u)}}),_i.apply(this,arguments)}function Vg(n,e){return Zw.apply(this,arguments)}function Zw(){return Zw=(0,be.Z)(function*(n,e){const t=rt(n);try{const r=yield function lf(n,e){const t=rt(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const g=[];e.targetChanges.forEach((T,M)=>{const j=s.get(M);if(!j)return;g.push(t.Bs.removeMatchingKeys(u,T.removedDocuments,M).next(()=>t.Bs.addMatchingKeys(u,T.addedDocuments,M)));let K=j.withSequenceNumber(u.currentSequenceNumber);var ae,_e,ve;null!==e.targetMismatches.get(M)?K=K.withResumeToken(mr.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):T.resumeToken.approximateByteSize()>0&&(K=K.withResumeToken(T.resumeToken,r)),s=s.insert(M,K),_e=K,ve=T,(0===(ae=j).resumeToken.approximateByteSize()||_e.snapshotVersion.toMicroseconds()-ae.snapshotVersion.toMicroseconds()>=3e8||ve.addedDocuments.size+ve.modifiedDocuments.size+ve.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,K))});let _=as(),C=Kt();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,T))}),g.push(Mg(u,d,e.documentUpdates).next(T=>{_=T.nr,C=T.sr})),!r.isEqual(_t.min())){const T=t.Bs.getLastRemoteSnapshotVersion(u).next(M=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(T)}return oe.waitFor(g).next(()=>d.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,C)).next(()=>_)}).then(u=>(t.Ji=s,u))}(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.yc.get(u);d&&(It(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.fc=!0:s.modifiedDocuments.size>0?It(d.fc):s.removedDocuments.size>0&&(It(d.fc),d.fc=!1))}),yield gd(t,r,e)}catch(r){yield wc(r)}}),Zw.apply(this,arguments)}function uD(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,d)=>{const g=d.view.Mu(e);g.snapshot&&s.push(g.snapshot)}),function(u,d){const g=rt(u);g.onlineState=d;let _=!1;g.queries.forEach((C,T)=>{for(const M of T.listeners)M.Mu(d)&&(_=!0)}),_&&l(g)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function EO(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,be.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let d=new Kn(Qe.comparator);d=d.insert(u,Yn.newNoDocument(u,_t.min()));const g=Kt().add(u),_=new Jh(_t.min(),new Map,new Kn(jt),d,g);yield Vg(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),ex(r)}else yield df(r.localStore,e,!1).then(()=>w_(r,e,t)).catch(wc)}),ZA.apply(this,arguments)}function IO(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,be.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const s=yield function FC(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(d,g,_,C){const T=_.batch,M=T.keys();let j=oe.resolve();return M.forEach(K=>{j=j.next(()=>C.getEntry(g,K)).next(ae=>{const _e=_.docVersions.get(K);It(null!==_e),ae.version.compareTo(_e)<0&&(T.applyToRemoteDocument(ae,_),ae.isValidDocument()&&(ae.setReadTime(_.commitVersion),C.addEntry(ae)))})}),j.next(()=>d.mutationQueue.removeMutationBatch(g,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let g=Kt();for(let _=0;_<d.mutationResults.length;++_)d.mutationResults[_].transformResults.length>0&&(g=g.add(d.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}(t.localStore,e);JA(t,r,null),QA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield gd(t,s)}catch(s){yield wc(s)}}),WA.apply(this,arguments)}function bO(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,be.Z)(function*(n,e,t){const r=rt(n);try{const s=yield function(u,d){const g=rt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let C;return g.mutationQueue.lookupMutationBatch(_,d).next(T=>(It(null!==T),C=T.keys(),g.mutationQueue.removeMutationBatch(_,T))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,C,d)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,C)).next(()=>g.localDocuments.getDocuments(_,C))})}(r.localStore,e);JA(r,e,t),QA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield gd(r,s)}catch(s){yield wc(s)}}),KA.apply(this,arguments)}function YA(){return YA=(0,be.Z)(function*(n,e){const t=rt(n);jc(t.remoteStore)||Ue("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=rt(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>d.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const s=t.Ec.get(r)||[];s.push(e),t.Ec.set(r,s)}catch(r){const s=Lg(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),YA.apply(this,arguments)}function QA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function JA(n,e,t){const r=rt(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function w_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||qM(n,r)})}function qM(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(fd(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ex(n))}function XA(n,e,t){for(const r of t)r instanceof S?(n.Ic.addReference(r.key,e),DO(n,r)):r instanceof R?(Ue("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||qM(n,r.key)):at()}function DO(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ue("SyncEngine","New document in limbo: "+t),n.mc.add(r),ex(n))}function ex(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Qe(un.fromString(e)),r=n.Ac.next();n.yc.set(r,new ee(t)),n.gc=n.gc.insert(t,r),Pg(n.remoteStore,new ta(os(qh(t.path)),r,"TargetPurposeLimboResolution",Ts.ct))}}function gd(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,be.Z)(function*(n,e,t){const r=rt(n),s=[],u=[],d=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{d.push(r.Rc(_,e,t).then(C=>{if((C||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,C?.fromCache?"not-current":"current"),C){s.push(C);const T=d_.Li(_.targetId,C);u.push(T)}}))}),yield Promise.all(d),r.dc.nu(s),yield(g=(0,be.Z)(function*(_,C){const T=rt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>oe.forEach(C,j=>oe.forEach(j.Fi,K=>T.persistence.referenceDelegate.addReference(M,j.targetId,K)).next(()=>oe.forEach(j.Bi,K=>T.persistence.referenceDelegate.removeReference(M,j.targetId,K)))))}catch(M){if(!Ec(M))throw M;Ue("LocalStore","Failed to update sequence numbers: "+M)}for(const M of C){const j=M.targetId;if(!M.fromCache){const K=T.Ji.get(j),_e=K.withLastLimboFreeSnapshotVersion(K.snapshotVersion);T.Ji=T.Ji.insert(j,_e)}}}),function(_,C){return g.apply(this,arguments)})(r.localStore,u))}),tx.apply(this,arguments)}function TO(n,e){return nx.apply(this,arguments)}function nx(){return nx=(0,be.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=yield Sw(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(d=>{d.forEach(g=>{g.reject(new Pe(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield gd(t,r.er)}var s}),nx.apply(this,arguments)}function SO(n,e){const t=rt(n),r=t.yc.get(e);if(r&&r.fc)return Kt().add(r.key);{let s=Kt();const u=t._c.get(e);if(!u)return s;for(const d of u){const g=t.wc.get(d);s=s.unionWith(g.view.nc)}return s}}function AO(n,e){return rx.apply(this,arguments)}function rx(){return rx=(0,be.Z)(function*(n,e){const t=rt(n),r=yield Rw(t.localStore,e.query,!0),s=e.view.hc(r);return t.isPrimaryClient&&XA(t,e.targetId,s.cc),s}),rx.apply(this,arguments)}function xO(n,e){return ix.apply(this,arguments)}function ix(){return ix=(0,be.Z)(function*(n,e){const t=rt(n);return UC(t.localStore,e).then(r=>gd(t,r))}),ix.apply(this,arguments)}function MO(n,e,t,r){return sx.apply(this,arguments)}function sx(){return sx=(0,be.Z)(function*(n,e,t,r){const s=rt(n),u=yield function(d,g){const _=rt(d),C=rt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>C.Sn(T,g).next(M=>M?_.localDocuments.getDocuments(T,M):oe.resolve(null)))}(s.localStore,e);var g;null!==u?("pending"===t?yield $c(s.remoteStore):"acknowledged"===t||"rejected"===t?(JA(s,e,r||null),QA(s,e),g=e,rt(rt(s.localStore).mutationQueue).Cn(g)):at(),yield gd(s,u)):Ue("SyncEngine","Cannot apply mutation batch with id: "+e)}),sx.apply(this,arguments)}function ox(){return ox=(0,be.Z)(function*(n,e){const t=rt(n);if(lx(t),dx(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield ZM(t,r.toArray());t.vc=!0,yield Gw(t.remoteStore,!0);for(const u of s)Pg(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let s=Promise.resolve();t._c.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(w_(t,d),df(t.localStore,d,!0))),fd(t.remoteStore,d)}),yield s,yield ZM(t,r),function(u){const d=rt(u);d.yc.forEach((g,_)=>{fd(d.remoteStore,_)}),d.Ic.Ts(),d.yc=new Map,d.gc=new Kn(Qe.comparator)}(t),t.vc=!1,yield Gw(t.remoteStore,!1)}}),ox.apply(this,arguments)}function ZM(n,e,t){return ax.apply(this,arguments)}function ax(){return ax=(0,be.Z)(function*(n,e,t){const r=rt(n),s=[],u=[];for(const d of e){let g;const _=r._c.get(d);if(_&&0!==_.length){g=yield hd(r.localStore,os(_[0]));for(const C of _){const T=r.wc.get(C),M=yield AO(r,T);M.snapshot&&u.push(M.snapshot)}}else{const C=yield Nw(r.localStore,d);g=yield hd(r.localStore,C),yield gt(r,WM(C),d,!1,g.resumeToken)}s.push(g)}return r.dc.nu(u),s}),ax.apply(this,arguments)}function WM(n){return Ub(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function NO(n){const e=rt(n);return rt(rt(e.localStore).persistence).$i()}function PO(n,e,t,r){return ux.apply(this,arguments)}function ux(){return ux=(0,be.Z)(function*(n,e,t,r){const s=rt(n);if(s.vc)return void Ue("SyncEngine","Ignoring unexpected query state notification.");const u=s._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield UC(s.localStore,jb(u[0])),g=Jh.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,mr.EMPTY_BYTE_STRING);yield gd(s,d,g);break}case"rejected":yield df(s.localStore,e,!0),w_(s,e,r);break;default:at()}}),ux.apply(this,arguments)}function OO(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,be.Z)(function*(n,e,t){const r=lx(n);if(r.vc){for(const s of e){if(r._c.has(s)){Ue("SyncEngine","Adding an already active target "+s);continue}const u=yield Nw(r.localStore,s),d=yield hd(r.localStore,u);yield gt(r,WM(u),d.targetId,!1,d.resumeToken),Pg(r.remoteStore,d)}for(const s of t)r._c.has(s)&&(yield df(r.localStore,s,!1).then(()=>{fd(r.remoteStore,s),w_(r,s)}).catch(wc))}}),cx.apply(this,arguments)}function lx(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Vg.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EO.bind(null,e),e.dc.nu=o.bind(null,e.eventManager),e.dc.Pc=a.bind(null,e.eventManager),e}function dx(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bO.bind(null,e),e}class Ww{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,be.Z)(function*(){t.serializer=Bc(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Tw(this.persistence,new NA,e.initialUser,this.serializer)}createPersistence(e){return new Iw(Ag.zs,this.serializer)}createSharedClientState(e){return new Rg}terminate(){var e=this;return(0,be.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class hx extends Ww{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield dx(r.Vc.syncEngine),yield $c(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Tw(this.persistence,new NA,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new fw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new _b(t,this.persistence);return new yb(e.asyncQueue,r)}createPersistence(e){const t=Cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?ri.withCacheSize(this.cacheSizeBytes):ri.DEFAULT;return new c_(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,p_(),hf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Rg}}class KM extends hx{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,be.Z)(function*(){yield t().call(r,e);const s=r.Vc.syncEngine;r.sharedClientState instanceof Fw&&(r.sharedClientState.syncEngine={jr:MO.bind(null,s),zr:PO.bind(null,s),Wr:OO.bind(null,s),$i:NO.bind(null,s),Qr:xO.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,be.Z)(function*(d){yield function RO(n,e){return ox.apply(this,arguments)}(r.Vc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start():d||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(d&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():d||r.indexBackfillerScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=p_();if(!Fw.D(t))throw new Pe(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Cw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fw(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class E_{initialize(e,t){var r=this;return(0,be.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>uD(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=TO.bind(null,r.syncEngine),yield Gw(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new GM}createDatastore(e){const t=Bc(e.databaseInfo.databaseId),r=new OA(e.databaseInfo);return new FA(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>uD(this.syncEngine,g,0),d=GC.D()?new GC:new PA,new KC(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,g,_,C){const T=new Te(r,s,u,d,g,_);return C&&(T.vc=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,be.Z)(function*(t){const r=rt(t);Ue("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield pf(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function YM(n,e=10240){let t=0;return{read:()=>(0,be.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):An("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class LO{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Or,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,be.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,be.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,be.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),s=Number(r);isNaN(s)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(s);return new f(JSON.parse(u),t.length+s)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,be.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,be.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,be.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class UO{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Pe(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,be.Z)(function*(u,d){const g=rt(u),_=Eg(g.serializer)+"/documents",C={documents:d.map(K=>nf(g.serializer,K))},T=yield g.vo("BatchGetDocuments",_,C,d.length),M=new Map;T.forEach(K=>{const ae=function fC(n,e){return"found"in e?function(t,r){It(!!r.found);const s=ja(t,r.found.name),u=kr(r.found.updateTime),d=r.found.createTime?kr(r.found.createTime):_t.min(),g=new mi({mapValue:{fields:r.found.fields}});return Yn.newFoundDocument(s,u,d,g)}(n,e):"missing"in e?function(t,r){It(!!r.missing),It(!!r.readTime);const s=ja(t,r.missing),u=kr(r.readTime);return Yn.newNoDocument(s,u)}(n,e):at()}(g.serializer,K);M.set(ae.key.toString(),ae)});const j=[];return d.forEach(K=>{const ae=M.get(K.toString());It(!!ae),j.push(ae)}),j}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=Qe.fromPath(s);e.mutations.push(new od(u,e.precondition(u)))}),yield(r=(0,be.Z)(function*(s,u){const d=rt(s),g=Eg(d.serializer)+"/documents",_={writes:u.map(C=>ni(d.serializer,C))};yield d.Io("Commit",g,_)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw at();t=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Pe(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(_t.min())?tr.exists(!1):tr.updateTime(t):tr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_t.min()))throw new Pe(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tr.updateTime(t)}return tr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class VO{constructor(e,t,r,s,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=s,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new ZC(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,be.Z)(function*(){const t=new UO(e.datastore),r=e.qc(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Uc(u)}))}).catch(s=>{e.Uc(s)})}))}qc(e){try{const t=this.updateFunction(e);return!Uh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Yy(t)}return!1}}class BO{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=xi.UNAUTHENTICATED,this.clientId=d0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,be.Z)(function*(g){Ue("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Ue("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,be.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Lg(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function lD(n,e){return fx.apply(this,arguments)}function fx(){return fx=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,be.Z)(function*(u){r.isEqual(u)||(yield Sw(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),fx.apply(this,arguments)}function px(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,be.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield mx(n);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>GA(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>GA(e.remoteStore,u)),n._onlineComponents=e}),gx.apply(this,arguments)}function QM(n){return"FirebaseError"===n.name?n.code===le.FAILED_PRECONDITION||n.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function mx(n){return yx.apply(this,arguments)}function yx(){return yx=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ue("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!QM(t))throw t;Cr("Error using user provided cache. Falling back to memory cache: "+t),yield lD(n,new Ww)}}else Ue("FirestoreClient","Using default OfflineComponentProvider"),yield lD(n,new Ww);return n._offlineComponents}),yx.apply(this,arguments)}function dD(n){return _x.apply(this,arguments)}function _x(){return _x=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ue("FirestoreClient","Using user provided OnlineComponentProvider"),yield px(n,n._uninitializedComponentsProvider._online)):(Ue("FirestoreClient","Using default OnlineComponentProvider"),yield px(n,new E_))),n._onlineComponents}),_x.apply(this,arguments)}function JM(n){return mx(n).then(e=>e.persistence)}function hD(n){return mx(n).then(e=>e.localStore)}function XM(n){return dD(n).then(e=>e.remoteStore)}function vx(n){return dD(n).then(e=>e.syncEngine)}function I_(n){return wx.apply(this,arguments)}function wx(){return wx=(0,be.Z)(function*(n){const e=yield dD(n),t=e.eventManager;return t.onListen=Ve.bind(null,e.syncEngine),t.onUnlisten=Gt.bind(null,e.syncEngine),t}),wx.apply(this,arguments)}function tR(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,u,d,g,_){const C=new cD({next:M=>{u.enqueueAndForget(()=>aD(s,T));const j=M.docs.has(d);!j&&M.fromCache?_.reject(new Pe(le.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&M.fromCache&&g&&"server"===g.source?_.reject(new Pe(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new h(qh(d.path),C,{includeMetadataChanges:!0,Ku:!0});return oD(s,T)}(yield I_(n),n.asyncQueue,e,t,r)})),r.promise}function nR(n,e,t={}){const r=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(s,u,d,g,_){const C=new cD({next:M=>{u.enqueueAndForget(()=>aD(s,T)),M.fromCache&&"server"===g.source?_.reject(new Pe(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new h(d,C,{includeMetadataChanges:!0,Ku:!0});return oD(s,T)}(yield I_(n),n.asyncQueue,e,t,r)})),r.promise}function rR(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const iR=new Map;function Ex(n,e,t){if(!t)throw new Pe(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function sR(n,e,t,r){if(!0===e&&!0===r)throw new Pe(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function oR(n){if(!Qe.isDocumentKey(n))throw new Pe(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function aR(n){if(Qe.isDocumentKey(n))throw new Pe(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":at()}function mn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Pe(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fD(n);throw new Pe(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function uR(n,e){if(e<=0)throw new Pe(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cR{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Pe(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Pe(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=rR(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Pe(le.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kw{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Pe(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VS;switch(t.type){case"firstParty":return new ub(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Pe(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=iR.get(e);t&&(Ue("ComponentProvider","Removing Datastore"),iR.delete(e),t.terminate())}(this),Promise.resolve()}}class yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}}class cs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new cs(this.firestore,e,this._query)}}class Hc extends cs{constructor(e,t,r){super(e,t,qh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new Qe(e))}withConverter(e){return new Hc(this.firestore,e,this._path)}}function dR(n,e,...t){if(n=(0,Jt.m9)(n),Ex("collection","path",e),n instanceof Kw){const r=un.fromString(e,...t);return aR(r),new Hc(n,null,r)}{if(!(n instanceof yr||n instanceof Hc))throw new Pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return aR(r),new Hc(n.firestore,null,r)}}function pD(n,e,...t){if(n=(0,Jt.m9)(n),1===arguments.length&&(e=d0.A()),Ex("doc","path",e),n instanceof Kw){const r=un.fromString(e,...t);return oR(r),new yr(n,null,new Qe(r))}{if(!(n instanceof yr||n instanceof Hc))throw new Pe(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(un.fromString(e,...t));return oR(r),new yr(n.firestore,n instanceof Hc?n.converter:null,new Qe(r))}}function hR(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),(n instanceof yr||n instanceof Hc)&&(e instanceof yr||e instanceof Hc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Ix(n,e){return n=(0,Jt.m9)(n),e=(0,Jt.m9)(e),n instanceof cs&&e instanceof cs&&n.firestore===e.firestore&&rd(n._query,e._query)&&n.converter===e.converter}class YO{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ZC(this,"async_queue_retry"),this.Xc=()=>{const t=hf();t&&Ue("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=hf();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=hf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,be.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!Ec(t))throw t;Ue("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,An("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=sD.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&at()}verifyOperationInProgress(){}sa(){var e=this;return(0,be.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function bx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class QO{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _r extends Kw{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new YO,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||fR(this),this._firestoreClient.terminate()}}function ii(n){return n._firestoreClient||fR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function fR(n){var e,t,r;const s=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Tb(n._databaseId,g,n._persistenceKey,(C=s).host,C.ssl,C.experimentalForceLongPolling,C.experimentalAutoDetectLongPolling,rR(C.experimentalLongPollingOptions),C.useFetchStreams));var g,C;n._firestoreClient=new BO(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=s.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=s.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}function pR(n,e,t){const r=new Or;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield lD(n,t),yield px(n,e),r.resolve()}catch(s){const u=s;if(!QM(u))throw u;Cr("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function gR(n){if(n._initialized||n._terminated)throw new Pe(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class zc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zc(mr.fromBase64String(e))}catch(t){throw new Pe(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zc(mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class md{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Pe(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bg{constructor(e){this._methodName=e}}class gD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Pe(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Pe(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return jt(this._lat,e._lat)||jt(this._long,e._long)}}const uk=/^__.*__$/;class ck{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ba(e,this.data,t,this.fieldTransforms)}}class mR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new yu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function yR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at()}}class mD{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new mD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return vD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(yR(this.ca)&&uk.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class lk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bc(e)}ya(e,t,r,s=!1){return new mD({ca:e,methodName:t,ga:r,path:gr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jg(n){const e=n._freezeSettings(),t=Bc(n._databaseId);return new lk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yD(n,e,t,r,s,u={}){const d=n.ya(u.merge||u.mergeFields?2:0,e,t,s);Sx("Data must be an object, but it was:",d,r);const g=wR(r,d);let _,C;if(u.merge)_=new ss(d.fieldMask),C=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const M of u.mergeFields){const j=Jw(e,M,t);if(!d.contains(j))throw new Pe(le.INVALID_ARGUMENT,`Field '${j}' is specified in your field mask but missing from your input data.`);IR(T,j)||T.push(j)}_=new ss(T),C=d.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,C=d.fieldTransforms;return new ck(new mi(g),_,C)}class Qw extends Bg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qw}}function _R(n,e,t){return new mD({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Cx extends Bg{_toFieldTransform(e){return new Qh(e.path,new Yh)}isEqual(e){return e instanceof Cx}}class dk extends Bg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_R(this,e,!0),r=this.pa.map(u=>$g(u,t)),s=new id(r);return new Qh(e.path,s)}isEqual(e){return this===e}}class hk extends Bg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=_R(this,e,!0),r=this.pa.map(u=>$g(u,t)),s=new sd(r);return new Qh(e.path,s)}isEqual(e){return this===e}}class fk extends Bg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Va(e.serializer,k0(e.serializer,this.Ia));return new Qh(e.path,t)}isEqual(e){return this===e}}function Dx(n,e,t,r){const s=n.ya(1,e,t);Sx("Data must be an object, but it was:",s,r);const u=[],d=mi.empty();bc(r,(_,C)=>{const T=_D(e,_,t);C=(0,Jt.m9)(C);const M=s.da(T);if(C instanceof Qw)u.push(T);else{const j=$g(C,M);null!=j&&(u.push(T),d.set(T,j))}});const g=new ss(u);return new mR(d,g,s.fieldTransforms)}function Tx(n,e,t,r,s,u){const d=n.ya(1,e,t),g=[Jw(e,r,t)],_=[s];if(u.length%2!=0)throw new Pe(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let j=0;j<u.length;j+=2)g.push(Jw(e,u[j])),_.push(u[j+1]);const C=[],T=mi.empty();for(let j=g.length-1;j>=0;--j)if(!IR(C,g[j])){const K=g[j];let ae=_[j];ae=(0,Jt.m9)(ae);const _e=d.da(K);if(ae instanceof Qw)C.push(K);else{const ve=$g(ae,_e);null!=ve&&(C.push(K),T.set(K,ve))}}const M=new ss(C);return new mR(T,M,d.fieldTransforms)}function vR(n,e,t,r=!1){return $g(t,n.ya(r?4:3,e))}function $g(n,e){if(ER(n=(0,Jt.m9)(n)))return Sx("Unsupported field value:",e,n),wR(n,e);if(n instanceof Bg)return function(t,r){if(!yR(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let g=$g(d,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Jt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return k0(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Wn.fromDate(t);return{timestampValue:tf(r.serializer,s)}}if(t instanceof Wn){const s=new Wn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:tf(r.serializer,s)}}if(t instanceof gD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof zc)return{bytesValue:dC(r.serializer,t._byteString)};if(t instanceof yr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qy(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${fD(t)}`)}(n,e)}function wR(n,e){const t={};return jh(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bc(n,(r,s)=>{const u=$g(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function ER(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Wn||n instanceof gD||n instanceof zc||n instanceof yr||n instanceof Bg)}function Sx(n,e,t){if(!ER(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function Jw(n,e,t){if((e=(0,Jt.m9)(e))instanceof md)return e._internalPath;if("string"==typeof e)return _D(n,e);throw vD("Field path arguments must be of type string or ",n,!1,void 0,t)}const pk=new RegExp("[~\\*/\\[\\]]");function _D(n,e,t){if(e.search(pk)>=0)throw vD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new md(...e.split("."))._internalPath}catch{throw vD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vD(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||d)&&(_+=" (found",u&&(_+=` in field ${r}`),d&&(_+=` in document ${s}`),_+=")"),new Pe(le.INVALID_ARGUMENT,g+n+_)}function IR(n,e){return n.some(t=>t.isEqual(e))}class Xw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gk extends Xw{data(){return super.data()}}function wD(n,e){return"string"==typeof e?_D(n,e):e instanceof md?e._internalPath:e._delegate._internalPath}function bR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Pe(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ax{}class eE extends Ax{}function yf(n,e,...t){let r=[];e instanceof Ax&&r.push(e),r=r.concat(t),function(s){const u=s.filter(g=>g instanceof b_).length,d=s.filter(g=>g instanceof tE).length;if(u>1||u>0&&d>0)throw new Pe(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class tE extends eE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new tE(e,t,r)}_apply(e){const t=this._parse(e);return SR(e._query,t),new cs(e.firestore,e.converter,Vb(e._query,t))}_parse(e){const t=jg(e.firestore);return function(s,u,d,g,_,C,T){let M;if(_.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Pe(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on documentId().`);if("in"===C||"not-in"===C){TR(T,C);const j=[];for(const K of T)j.push(DR(g,s,K));M={arrayValue:{values:j}}}else M=DR(g,s,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||TR(T,C),M=vR(d,"where",T,"in"===C||"not-in"===C);return on.create(_,C,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class b_ extends Ax{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new b_(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:Rn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const d=s.getFlattenedFilters();for(const g of d)SR(u,g),u=Vb(u,g)}(e._query,t),new cs(e.firestore,e.converter,Vb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class xx extends eE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new xx(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Pe(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Pe(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new Ac(s,u);return function(g,_){if(null===R0(g)){const C=fg(g);null!==C&&AR(0,C,_.field)}}(r,d),d}(e._query,this._field,this._direction);return new cs(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Xo(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class ED extends eE{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new ED(e,t,r)}_apply(e){return new cs(e.firestore,e.converter,Zh(e._query,this._limit,this._limitType))}}class ID extends eE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ID(e,t,r)}_apply(e){const t=CR(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(s=t,new Xo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class bD extends eE{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bD(e,t,r)}_apply(e){const t=CR(e,this.type,this._docOrFields,this._inclusive);return new cs(e.firestore,e.converter,(s=t,new Xo((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function CR(n,e,t,r){if(t[0]=(0,Jt.m9)(t[0]),t[0]instanceof Xw)return function(s,u,d,g,_){if(!g)throw new Pe(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const T of Mc(s))if(T.field.isKeyField())C.push(Jo(u,g.key));else{const M=g.data.field(T.field);if(ig(M))throw new Pe(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const j=T.field.canonicalString();throw new Pe(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${j}' (used as the orderBy) does not exist.`)}C.push(M)}return new Sc(C,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=jg(n.firestore);return function(u,d,g,_,C,T){const M=u.explicitOrderBy;if(C.length>M.length)throw new Pe(le.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const j=[];for(let K=0;K<C.length;K++){const ae=C[K];if(M[K].field.isKeyField()){if("string"!=typeof ae)throw new Pe(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof ae}`);if(!xc(u)&&-1!==ae.indexOf("/"))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${ae}' contains a slash.`);const _e=u.path.child(un.fromString(ae));if(!Qe.isDocumentKey(_e))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${_e}' is not because it contains an odd number of segments.`);const ve=new Qe(_e);j.push(Jo(d,ve))}else{const _e=vR(g,_,ae);j.push(_e)}}return new Sc(j,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function DR(n,e,t){if("string"==typeof(t=(0,Jt.m9)(t))){if(""===t)throw new Pe(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xc(e)&&-1!==t.indexOf("/"))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(un.fromString(t));if(!Qe.isDocumentKey(r))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Jo(n,new Qe(r))}if(t instanceof yr)return Jo(n,t._key);throw new Pe(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fD(t)}.`)}function TR(n,e){if(!Array.isArray(n)||0===n.length)throw new Pe(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function SR(n,e){if(e.isInequality()){const r=fg(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=R0(n);null!==u&&AR(0,s,u)}const t=function(r,s){for(const u of r)for(const d of u.getFlattenedFilters())if(s.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Pe(le.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function AR(n,e,t){if(!t.isEqual(e))throw new Pe(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Mx{convertValue(e,t="none"){switch(td(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw at()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bc(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new gD(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(og(e));default:return null}}convertTimestamp(e){const t=Cc(e);return new Wn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=un.fromString(e);It(_C(r));const s=new Dc(r.get(1),r.get(3)),u=new Qe(r.popFirst(5));return s.isEqual(t)||An(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function CD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ck extends Mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}class Hg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yd extends Xw{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nE extends yd{data(e={}){return super.data(e)}}class _f{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Hg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nE(this._firestore,this._userDataWriter,r.key,r,new Hg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Pe(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new nE(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const g=new nE(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Hg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,C=-1;return 0!==d.type&&(_=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),C=u.indexOf(d.doc.key)),{type:Tk(d.type),doc:g,oldIndex:_,newIndex:C}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Tk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at()}}function MR(n,e){return n instanceof yd&&e instanceof yd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof _f&&e instanceof _f&&n._firestore===e._firestore&&Ix(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class vf extends Mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new zc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,t)}}function RR(n,e,t){n=mn(n,yr);const r=mn(n.firestore,_r),s=CD(n.converter,e,t);return C_(r,[yD(jg(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,tr.none())])}function NR(n,e,t,...r){n=mn(n,yr);const s=mn(n.firestore,_r),u=jg(s);let d;return d="string"==typeof(e=(0,Jt.m9)(e))||e instanceof md?Tx(u,"updateDoc",n._key,e,t,r):Dx(u,"updateDoc",n._key,e),C_(s,[d.toMutation(n._key,tr.exists(!0))])}function PR(n,...e){var t,r,s;n=(0,Jt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||bx(e[d])||(u=e[d],d++);const g={includeMetadataChanges:u.includeMetadataChanges};if(bx(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(s=M.complete)||void 0===s?void 0:s.bind(M)}let _,C,T;if(n instanceof yr)C=mn(n.firestore,_r),T=qh(n._key.path),_={next:M=>{e[d]&&e[d](Rx(C,n,M))},error:e[d+1],complete:e[d+2]};else{const M=mn(n,cs);C=mn(M.firestore,_r),T=M._query;const j=new vf(C);_={next:K=>{e[d]&&e[d](new _f(C,j,M,K))},error:e[d+1],complete:e[d+2]},bR(n._query)}return function(M,j,K,ae){const _e=new cD(ae),ve=new h(j,_e,K);return M.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return oD(yield I_(M),ve)})),()=>{_e.Dc(),M.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return aD(yield I_(M),ve)}))}}(ii(C),T,g,_)}function C_(n,e){return function(t,r){const s=new Or;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function cn(n,e,t){return _i.apply(this,arguments)}(yield vx(t),r,s)})),s.promise}(ii(n),e)}function Rx(n,e,t){const r=t.docs.get(e._key),s=new vf(n);return new yd(n,s,e._key,r,new Hg(t.hasPendingWrites,t.fromCache),e.converter)}const zk={maxAttempts:5};class OR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=jg(e)}set(e,t,r){this._verifyNotCommitted();const s=wf(e,this._firestore),u=CD(s.converter,t,r),d=yD(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,tr.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=wf(e,this._firestore);let d;return d="string"==typeof(t=(0,Jt.m9)(t))||t instanceof md?Tx(this._dataReader,"WriteBatch.update",u._key,t,r,s):Dx(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,tr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=wf(e,this._firestore);return this._mutations=this._mutations.concat(new Rc(t._key,tr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function wf(n,e){if((n=(0,Jt.m9)(n)).firestore!==e)throw new Pe(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Gk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=jg(e)}get(e){const t=wf(e,this._firestore),r=new Ck(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return at();const u=s[0];if(u.isFoundDocument())return new Xw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new Xw(this._firestore,r,t._key,null,t.converter);throw at()})}set(e,t,r){const s=wf(e,this._firestore),u=CD(s.converter,t,r),d=yD(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=wf(e,this._firestore);let d;return d="string"==typeof(t=(0,Jt.m9)(t))||t instanceof md?Tx(this._dataReader,"Transaction.update",u._key,t,r,s):Dx(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=wf(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=wf(e,this._firestore),r=new vf(this._firestore);return super.get(e).then(s=>new yd(this._firestore,r,t._key,s._document,new Hg(!1,!1),t.converter))}}function Nx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function FR(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function LR(){if(!function rg(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Yl=yo.SDK_VERSION,(0,yo._registerComponent)(new mh.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),d=new _r(new BS(t.getProvider("auth-internal")),new My(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Pe(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dc(g.options.projectId,_)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),d._setSettings(s),d},"PUBLIC").setMultipleInstances(!0)),(0,yo.registerVersion)(c0,"3.13.0",n),(0,yo.registerVersion)(c0,"3.13.0","esm2017")}();class rE{constructor(e){this._delegate=e}static fromBase64String(e){return LR(),new rE(zc.fromBase64String(e))}static fromUint8Array(e){return FR(),new rE(zc.fromUint8Array(e))}toBase64(){return LR(),this._delegate.toBase64()}toUint8Array(){return FR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Px(n){return function eF(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class tF{enableIndexedDbPersistence(e,t){return function XO(n,e){gR(n=mn(n,_r));const t=ii(n);if(t._uninitializedComponentsProvider)throw new Pe(le.FAILED_PRECONDITION,"SDK cache is already specified.");Cr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),s=new E_;return pR(t,s,new hx(s,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ek(n){gR(n=mn(n,_r));const e=ii(n);if(e._uninitializedComponentsProvider)throw new Pe(le.FAILED_PRECONDITION,"SDK cache is already specified.");Cr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new E_;return pR(e,r,new KM(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function tk(n){if(n._initialized&&!n._terminated)throw new Pe(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(t=(0,be.Z)(function*(r){if(!Qo.D())return Promise.resolve();const s=r+"main";yield Qo.delete(s)}),function(r){return t.apply(this,arguments)})(Cw(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class UR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Dc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Cr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function lR(n,e,t,r={}){var s;const u=(n=mn(n,Kw))._getSettings(),d=`${e}:${t}`;if("firestore.googleapis.com"!==u.host&&u.host!==d&&Cr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:d,ssl:!1})),r.mockUserToken){let g,_;if("string"==typeof r.mockUserToken)g=r.mockUserToken,_=xi.MOCK_USER;else{g=(0,Jt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const C=r.mockUserToken.sub||r.mockUserToken.user_id;if(!C)throw new Pe(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new xi(C)}n._authCredentials=new ab(new Fh(g,_))}}(this._delegate,e,t,r)}enableNetwork(){return function rk(n){return function jO(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield JM(n),t=yield XM(n);return e.setNetworkEnabled(!0),function(r){const s=rt(r);return s.vu.delete(0),ff(s)}(t)}))}(ii(n=mn(n,_r)))}(this._delegate)}disableNetwork(){return function ik(n){return function $O(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const e=yield JM(n),t=yield XM(n);return e.setNetworkEnabled(!1),(r=(0,be.Z)(function*(s){const u=rt(s);u.vu.add(0),yield pf(u),u.bu.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(ii(n=mn(n,_r)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,sR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function nk(n){return function(e){const t=new Or;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function CO(n,e){return YA.apply(this,arguments)}(yield vx(e),t)})),t.promise}(ii(n=mn(n,_r)))}(this._delegate)}onSnapshotsInSync(e){return function kk(n,e){return function GO(n,e){const t=new cD(e);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield I_(n),s=t,rt(r).ku.add(s),void s.next();var r,s})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return r=yield I_(n),s=t,void rt(r).ku.delete(s);var r,s}))}}(ii(n=mn(n,_r)),bx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new D_(this,dR(this._delegate,e))}catch(t){throw Gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new $a(this,pD(this._delegate,e))}catch(t){throw Gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qs(this,function KO(n,e){if(n=mn(n,Kw),Ex("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Pe(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new cs(n,null,(t=e,new Xo(un.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function qk(n,e,t){n=mn(n,_r);const r=Object.assign(Object.assign({},zk),t);return function(s){if(s.maxAttempts<1)throw new Pe(le.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,u,d){const g=new Or;return s.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const _=yield function eR(n){return dD(n).then(e=>e.datastore)}(s);new VO(s.asyncQueue,_,d,u,g).run()})),g.promise}(ii(n),s=>e(new Gk(n,s)),r)}(this._delegate,t=>e(new VR(this,t)))}batch(){return ii(this._delegate),new BR(new OR(this._delegate,e=>C_(this._delegate,e)))}loadBundle(e){return function sk(n,e){const t=ii(n=mn(n,_r)),r=new QO;return function qO(n,e,t,r){const s=function(u,d){let g;return g="string"==typeof u?sC().encode(u):u,_=function(_,C){if(_ instanceof Uint8Array)return YM(_,C);if(_ instanceof ArrayBuffer)return YM(new Uint8Array(_),C);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new LO(_,d);var _}(t,Bc(e));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function kO(n,e,t){const r=rt(n);var s;(s=(0,be.Z)(function*(u,d,g){try{const _=yield d.getMetadata();if(yield function(j,K){const ae=rt(j),_e=kr(K.createTime);return ae.persistence.runTransaction("hasNewerBundle","readonly",ve=>ae.qs.getBundleMetadata(ve,K.id)).then(ve=>!!ve&&ve.createTime.compareTo(_e)>=0)}(u.localStore,_))return yield d.close(),g._completeWith({taskState:"Success",documentsLoaded:(j=_).totalDocuments,bytesLoaded:j.totalBytes,totalDocuments:j.totalDocuments,totalBytes:j.totalBytes}),Promise.resolve(new Set);g._updateProgress(b(_));const C=new w(_,u.localStore,d.serializer);let T=yield d.bc();for(;T;){const j=yield C.zu(T);j&&g._updateProgress(j),T=yield d.bc()}const M=yield C.complete();return yield gd(u,M.Ju,void 0),yield function(j,K){const ae=rt(j);return ae.persistence.runTransaction("Save bundle","readwrite",_e=>ae.qs.saveBundleMetadata(_e,K))}(u.localStore,_),g._completeWith(M.progress),Promise.resolve(M.Hu)}catch(_){return Cr("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var j}),function(u,d,g){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield vx(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function ok(n,e){return function ZO(n,e){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(t,r){const s=rt(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.qs.getNamedQuery(u,r))}(yield hD(n),e)}))}(ii(n=mn(n,_r)),e).then(t=>t?new cs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qs(this,t):null)}}class DD extends Mx{constructor(e){super(),this.firestore=e}convertBytes(e){return new rE(new zc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return $a.forKey(t,this.firestore,null)}}class VR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}get(e){const t=Gg(e);return this._delegate.get(t).then(r=>new iE(this._firestore,new yd(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Gg(e);return r?(Nx("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Gg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Gg(e);return this._delegate.delete(t),this}}class BR{constructor(e){this._delegate=e}set(e,t,r){const s=Gg(e);return r?(Nx("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Gg(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Gg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class zg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new nE(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sE(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=zg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new zg(e,new DD(e),t),s.set(t,u)),u}}zg.INSTANCES=new WeakMap;class $a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new $a(t,new yr(t._delegate,r,new Qe(e)))}static forKey(e,t,r){return new $a(t,new yr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new D_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new D_(this.firestore,dR(this._delegate,e))}catch(t){throw Gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Jt.m9)(e))instanceof yr&&hR(this._delegate,e)}set(e,t){t=Nx("DocumentReference.set",t);try{return t?RR(this._delegate,e,t):RR(this._delegate,e)}catch(r){throw Gs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?NR(this._delegate,e):NR(this._delegate,e,t,...r)}catch(s){throw Gs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function Pk(n){return C_(mn(n.firestore,_r),[new Rc(n._key,tr.none())])}(this._delegate)}onSnapshot(...e){const t=jR(e),r=$R(e,s=>new iE(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return PR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function Ak(n){n=mn(n,yr);const e=mn(n.firestore,_r),t=ii(e),r=new vf(e);return function HO(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,u,d){try{const g=yield function(_,C){const T=rt(_);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,C))}(s,u);g.isFoundDocument()?d.resolve(g):g.isNoDocument()?d.resolve(null):d.reject(new Pe(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=Lg(g,`Failed to get document '${u} from cache`);d.reject(_)}}),function(s,u,d){return r.apply(this,arguments)})(yield hD(n),e,t);var r})),t.promise}(t,n._key).then(s=>new yd(e,r,n._key,s,new Hg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function xk(n){n=mn(n,yr);const e=mn(n.firestore,_r);return tR(ii(e),n._key,{source:"server"}).then(t=>Rx(e,n,t))}(this._delegate):function Sk(n){n=mn(n,yr);const e=mn(n.firestore,_r);return tR(ii(e),n._key).then(t=>Rx(e,n,t))}(this._delegate),t.then(r=>new iE(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new $a(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Gs(n,e,t){return n.message=n.message.replace(e,t),n}function jR(n){for(const e of n)if("object"==typeof e&&!Px(e))return e;return{}}function $R(n,e){var t,r;let s;return s=Px(n[0])?n[0]:Px(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class iE{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new $a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return MR(this._delegate,e._delegate)}}class sE extends iE{data(e){const t=this._delegate.data(e);return function US(n,e){n||at()}(void 0!==t),t}}class qs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new DD(e)}where(e,t,r){try{return new qs(this.firestore,yf(this._delegate,function mk(n,e,t){const r=e,s=wD("where",n);return tE._create(s,r,t)}(e,t,r)))}catch(s){throw Gs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qs(this.firestore,yf(this._delegate,function yk(n,e="asc"){const t=e,r=wD("orderBy",n);return xx._create(r,t)}(e,t)))}catch(r){throw Gs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qs(this.firestore,yf(this._delegate,function _k(n){return uR("limit",n),ED._create("limit",n,"F")}(e)))}catch(t){throw Gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qs(this.firestore,yf(this._delegate,function vk(n){return uR("limitToLast",n),ED._create("limitToLast",n,"L")}(e)))}catch(t){throw Gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qs(this.firestore,yf(this._delegate,function wk(...n){return ID._create("startAt",n,!0)}(...e)))}catch(t){throw Gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qs(this.firestore,yf(this._delegate,function Ek(...n){return ID._create("startAfter",n,!1)}(...e)))}catch(t){throw Gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qs(this.firestore,yf(this._delegate,function Ik(...n){return bD._create("endBefore",n,!1)}(...e)))}catch(t){throw Gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qs(this.firestore,yf(this._delegate,function bk(...n){return bD._create("endAt",n,!0)}(...e)))}catch(t){throw Gs(t,"endAt()","Query.endAt()")}}isEqual(e){return Ix(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function Rk(n){n=mn(n,cs);const e=mn(n.firestore,_r),t=ii(e),r=new vf(e);return function zO(n,e){const t=new Or;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(r=(0,be.Z)(function*(s,u,d){try{const g=yield Rw(s,u,!0),_=new V(u,g.ir),C=_.sc(g.documents),T=_.applyChanges(C,!1);d.resolve(T.snapshot)}catch(g){const _=Lg(g,`Failed to execute query '${u} against cache`);d.reject(_)}}),function(s,u,d){return r.apply(this,arguments)})(yield hD(n),e,t);var r})),t.promise}(t,n._query).then(s=>new _f(e,r,n,s))}(this._delegate):"server"===e?.source?function Nk(n){n=mn(n,cs);const e=mn(n.firestore,_r),t=ii(e),r=new vf(e);return nR(t,n._query,{source:"server"}).then(s=>new _f(e,r,n,s))}(this._delegate):function Mk(n){n=mn(n,cs);const e=mn(n.firestore,_r),t=ii(e),r=new vf(e);return bR(n._query),nR(t,n._query).then(s=>new _f(e,r,n,s))}(this._delegate),t.then(r=>new Ox(this.firestore,new _f(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=jR(e),r=$R(e,s=>new Ox(this.firestore,new _f(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return PR(this._delegate,t,r)}withConverter(e){return new qs(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}class rF{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ox{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sE(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new rF(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sE(this._firestore,r))})}isEqual(e){return MR(this._delegate,e._delegate)}}class D_ extends qs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new $a(this.firestore,e):null}doc(e){try{return new $a(this.firestore,void 0===e?pD(this._delegate):pD(this._delegate,e))}catch(t){throw Gs(t,"doc()","CollectionReference.doc()")}}add(e){return function Ok(n,e){const t=mn(n.firestore,_r),r=pD(n),s=CD(n.converter,e);return C_(t,[yD(jg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,tr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new $a(this.firestore,t))}isEqual(e){return hR(this._delegate,e._delegate)}withConverter(e){return new D_(this.firestore,this._delegate.withConverter(e?zg.getInstance(this.firestore,e):null))}}function Gg(n){return mn(n,yr)}class kx{constructor(...e){this._delegate=new md(...e)}static documentId(){return new kx(gr.keyField().canonicalString())}isEqual(e){return(e=(0,Jt.m9)(e))instanceof md&&this._delegate._internalPath.isEqual(e._internalPath)}}class qg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Wk(){return new Cx("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new qg(e)}static delete(){const e=function Zk(){return new Qw("deleteField")}();return e._methodName="FieldValue.delete",new qg(e)}static arrayUnion(...e){const t=function Kk(...n){return new dk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new qg(t)}static arrayRemove(...e){const t=function Yk(...n){return new hk("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new qg(t)}static increment(e){const t=function Qk(n){return new fk("increment",n)}(e);return t._methodName="FieldValue.increment",new qg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const iF={Firestore:UR,GeoPoint:gD,Timestamp:Wn,Blob:rE,Transaction:VR,WriteBatch:BR,DocumentReference:$a,DocumentSnapshot:iE,Query:qs,QueryDocumentSnapshot:sE,QuerySnapshot:Ox,CollectionReference:D_,FieldPath:kx,FieldValue:qg,setLogLevel:function nF(n){!function LS(n){Oa.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function oF(n){(function sF(n,e){n.INTERNAL.registerComponent(new mh.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},iF)))})(n,(e,t)=>new UR(e,t,new tF)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(oS.Z);var aF=L(3019),TD=L(3093),uF=L(4552);class cF extends fo.x{constructor(e=1/0,t=1/0,r=uF.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=d;_+=2)g=_;g&&r.splice(0,g+1)}}}var lF=L(3020);function HR(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,lF.B)({connector:()=>new cF(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function zR(n,e){return(0,uo.m)(e)?(0,sr.w)(()=>n,e):(0,sr.w)(()=>n)}var Fx=L(5137),Ef=L(3182);class Zg{constructor(e){return e}}class GR{constructor(){return(0,Ef.C6)()}}const Lx=new c.OlP("angularfire2._apps"),hF={provide:Zg,useFactory:function dF(n){return n&&1===n.length?n[0]:new Zg((0,Ef.Mq)())},deps:[[new c.FiY,Lx]]},fF={provide:GR,deps:[[new c.FiY,Lx]]};function pF(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Zg(r)}}let gF=(()=>{class n{constructor(t){(0,Ef.KN)("angularfire",pn.q4.full,"core"),(0,Ef.KN)("angularfire",pn.q4.full,"app"),(0,Ef.KN)("angular",c.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hF,fF]}),n})();function mF(n,...e){return{ngModule:gF,providers:[{provide:Lx,useFactory:pF(n),multi:!0,deps:[c.R0b,c.zs3,pn.HU,...e]}]}}const yF=(0,pn.u3)(Ef.ZF,!0),Ux=new Map,qR={activated:!1,tokenObservers:[]},_F={initialized:!1,enabled:!1};function Gr(n){return Ux.get(n)||Object.assign({},qR)}function SD(){return _F}const Vx="https://content-firebaseappcheck.googleapis.com/v1",IF="exchangeDebugToken",ZR={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class CF{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,be.Z)(function*(){t.stop();try{t.pending=new Jt.BH,yield function DF(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Jt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ls=new Jt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Bx(n){if(!Gr(n).activated)throw ls.create("use-before-activation",{appName:n.name})}function MD(n,e){return $x.apply(this,arguments)}function $x(){return $x=(0,be.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const M=yield s.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,g;try{d=yield fetch(n,u)}catch(M){throw ls.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==d.status)throw ls.create("fetch-status-error",{httpStatus:d.status});try{g=yield d.json()}catch(M){throw ls.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const C=1e3*Number(_[1]),T=Date.now();return{token:g.token,expireTimeMillis:T+C,issuedAtTimeMillis:T}}),$x.apply(this,arguments)}function WR(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`${Vx}/projects/${t}/apps/${r}:${IF}?key=${s}`,body:{debug_token:e}}}const xF="firebase-app-check-database",MF=1,oE="firebase-app-check-store";let RD=null;function Hx(){return Hx=(0,be.Z)(function*(n,e){const r=(yield function YR(){return RD||(RD=new Promise((n,e)=>{try{const t=indexedDB.open(xF,MF);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(ls.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(oE,{keyPath:"compositeKey"})}}catch(t){e(ls.create("storage-open",{originalErrorMessage:t?.message}))}}),RD)}()).transaction(oE,"readwrite"),u=r.objectStore(oE).put({compositeKey:n,value:e});return new Promise((d,g)=>{u.onsuccess=_=>{d()},r.onerror=_=>{var C;g(ls.create("storage-set",{originalErrorMessage:null===(C=_.target.error)||void 0===C?void 0:C.message}))}})}),Hx.apply(this,arguments)}const aE=new lc.Yd("@firebase/app-check");function qx(n,e){return(0,Jt.hl)()?function NF(n,e){return function QR(n,e){return Hx.apply(this,arguments)}(function XR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{aE.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Wx(){return SD().enabled}function Kx(){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,be.Z)(function*(){const n=SD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Yx.apply(this,arguments)}const UF={error:"UNKNOWN_ERROR"};function VF(n){return Jt.US.encodeString(JSON.stringify(n),!1)}function ND(n){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,be.Z)(function*(n,e=!1){const t=n.app;Bx(t);const r=Gr(t);let u,s=r.token;if(s&&!T_(s)&&(r.token=void 0,s=void 0),!s){const _=yield r.cachedTokenPromise;_&&(T_(_)?s=_:yield qx(t,void 0))}if(!e&&s&&T_(s))return{token:s.token};let g,d=!1;if(Wx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=MD(WR(t,yield Kx()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),d=!0);const _=yield r.exchangeTokenPromise;return yield qx(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),d=!0),s=yield Gr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?aE.warn(_.message):aE.error(_),u=_}return s?u?g=T_(s)?{token:s.token,internalError:u}:rN(u):(g={token:s.token},r.token=s,yield qx(t,s)):g=rN(u),d&&function nN(n,e){const t=Gr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g}),Qx.apply(this,arguments)}function Jx(){return Jx=(0,be.Z)(function*(n){const e=n.app;Bx(e);const{provider:t}=Gr(e);if(Wx()){const r=yield Kx(),{token:s}=yield MD(WR(e,r),n.heartbeatServiceProvider);return{token:s}}{const{token:r}=yield t.getToken();return{token:r}}}),Jx.apply(this,arguments)}function e1(n,e){const t=Gr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function tN(n){const{app:e}=n,t=Gr(e);let r=t.tokenRefresher;r||(r=function BF(n){const{app:e}=n;return new CF((0,be.Z)(function*(){let r;if(r=Gr(e).token?yield ND(n,!0):yield ND(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Gr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},ZR.RETRIAL_MIN_WAIT,ZR.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function T_(n){return n.expireTimeMillis-Date.now()>0}function rN(n){return{token:VF(UF),error:n}}class jF{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Gr(this.app);for(const t of e)e1(this.app,t.next);return Promise.resolve()}}const dN="app-check-internal";!function tL(){(0,yo._registerComponent)(new mh.wA("app-check",n=>function $F(n,e){return new jF(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(dN).initialize()})),(0,yo._registerComponent)(new mh.wA(dN,n=>function HF(n){return{getToken:e=>ND(n,e),getLimitedUseToken:()=>function eN(n){return Jx.apply(this,arguments)}(n),addTokenListener:e=>function Xx(n,e,t,r){const{app:s}=n,u=Gr(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&T_(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),tN(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>tN(n))}(n,"INTERNAL",e),removeTokenListener:e=>e1(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,yo.registerVersion)("@firebase/app-check","0.8.0")}();class OD{constructor(){return(0,pn.vb)("app-check")}}typeof window<"u"&&window;var oL=L(7142);const fN=new c.OlP("angularfire2.auth.use-emulator"),pN=new c.OlP("angularfire2.auth.settings"),gN=new c.OlP("angularfire2.auth.tenant-id"),mN=new c.OlP("angularfire2.auth.langugage-code"),yN=new c.OlP("angularfire2.auth.use-device-language"),_N=new c.OlP("angularfire.auth.persistence"),vN=(n,e,t,r,s,u,d,g)=>(0,_o.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=s,u&&_.useDeviceLanguage(),d)for(const[C,T]of Object.entries(d))_.settings[C]=T;return g&&_.setPersistence(g),_},[t,r,s,u,d,g]);let kD=(()=>{class n{constructor(t,r,s,u,d,g,_,C,T,M,j,K){const ae=new fo.x,_e=(0,pt.of)(void 0).pipe((0,TD.Q)(d.outsideAngular),(0,sr.w)(()=>u.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,6365)))),(0,Ot.U)(()=>(0,_o.on)(t,u,r)),(0,Ot.U)(ve=>vN(ve,u,g,C,T,M,_,j)),HR({bufferSize:1,refCount:!1}));if(Wi(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pt.of)(null);else{_e.pipe(ws()).subscribe();const tt=_e.pipe((0,sr.w)(ot=>ot.getRedirectResult().then(Nt=>Nt,()=>null)),pn.iC,HR({bufferSize:1,refCount:!1})),mt=_e.pipe((0,sr.w)(ot=>new bi.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ot.onAuthStateChanged(Zt=>Nt.next(Zt),Zt=>Nt.error(Zt),()=>Nt.complete()))})))),ze=_e.pipe((0,sr.w)(ot=>new bi.y(Nt=>({unsubscribe:u.runOutsideAngular(()=>ot.onIdTokenChanged(Zt=>Nt.next(Zt),Zt=>Nt.error(Zt),()=>Nt.complete()))}))));this.authState=tt.pipe(zR(mt),(0,Fx.R)(d.outsideAngular),(0,TD.Q)(d.insideAngular)),this.user=tt.pipe(zR(ze),(0,Fx.R)(d.outsideAngular),(0,TD.Q)(d.insideAngular)),this.idToken=this.user.pipe((0,sr.w)(ot=>ot?(0,hn.D)(ot.getIdToken()):(0,pt.of)(null))),this.idTokenResult=this.user.pipe((0,sr.w)(ot=>ot?(0,hn.D)(ot.getIdTokenResult()):(0,pt.of)(null))),this.credential=(0,aF.T)(tt,ae,this.authState.pipe(Bi(ot=>!ot))).pipe((0,Ot.U)(ot=>ot?.user?ot:null),(0,Fx.R)(d.outsideAngular),(0,TD.Q)(d.insideAngular))}return(0,_o.pX)(this,_e,u,{spy:{apply:(ve,tt,mt)=>{(ve.startsWith("signIn")||ve.startsWith("createUser"))&&mt.then(ze=>ae.next(ze))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_o.Dh),c.LFG(_o.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(pn.HU),c.LFG(fN,8),c.LFG(pN,8),c.LFG(gN,8),c.LFG(mN,8),c.LFG(yN,8),c.LFG(_N,8),c.LFG(OD,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),uL=(()=>{class n{constructor(){oL.Z.registerVersion("angularfire",pn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[kD]}),n})();function wN(n,e){return function cL(n,e=iS.z){return new bi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function s1(n,e){return wN(n,e).pipe((0,Ot.U)(t=>({payload:t,type:"query"})))}function FD(n,e){return s1(n,e).pipe(Os(void 0),Ym(),(0,Ot.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,g)=>{const _=s.find(T=>T.doc.ref.isEqual(d.ref)),C=t?.payload.docs.find(T=>T.ref.isEqual(d.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(d.metadata)||!_&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function EN(n,e,t){return FD(n,t).pipe(po((r,s)=>function dL(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function hL(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return o1(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return o1(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return o1(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),(0,sS.x)(),(0,Ot.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function o1(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function IN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class bN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=FD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ot.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Os(void 0),Ym(),Bi(([r,s])=>s.length>0||!r),(0,Ot.U)(([r,s])=>s),pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(po((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=IN(e);return EN(this.query,t,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return s1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),pn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(pn.iC)}add(e){return this.ref.add(e)}doc(e){return new CN(this.ref.doc(e),this.afs)}}class CN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=DN(r,t);return new bN(s,u,this.afs)}snapshotChanges(){return function lL(n,e){return wN(n,e).pipe(Os(void 0),Ym(),(0,Ot.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ot.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,hn.D)(this.ref.get(e)).pipe(pn.iC)}}class fL{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?FD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Bi(t=>t.length>0),pn.iC):FD(this.query,this.afs.schedulers.outsideAngular).pipe(pn.iC)}auditTrail(e){return this.stateChanges(e).pipe(po((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=IN(e);return EN(this.query,t,this.afs.schedulers.outsideAngular).pipe(pn.iC)}valueChanges(e={}){return s1(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ot.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),pn.iC)}get(e){return(0,hn.D)(this.query.get(e)).pipe(pn.iC)}}const pL=new c.OlP("angularfire2.enableFirestorePersistence"),gL=new c.OlP("angularfire2.firestore.persistenceSettings"),mL=new c.OlP("angularfire2.firestore.settings"),yL=new c.OlP("angularfire2.firestore.use-emulator");function DN(n,e=(t=>t)){return{query:e(n),ref:n}}let _L=(()=>{class n{constructor(t,r,s,u,d,g,_,C,T,M,j,K,ae,_e,ve,tt,mt){this.schedulers=_;const ze=(0,_o.on)(t,g,r),ot=T;M&&vN(ze,g,j,ae,_e,ve,K,tt),[this.firestore,this.persistenceEnabled$]=(0,_o.cc)(`${ze.name}.firestore`,"AngularFirestore",ze.name,()=>{const Nt=g.runOutsideAngular(()=>ze.firestore());if(u&&Nt.settings(u),ot&&Nt.useEmulator(...ot),s&&!Wi(d)){const Zt=()=>{try{return(0,hn.D)(Nt.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(vi){return typeof console<"u"&&console.warn(vi),(0,pt.of)(!1)}};return[Nt,g.runOutsideAngular(Zt)]}return[Nt,(0,pt.of)(!1)]},[u,ot,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=DN(s,r),g=this.schedulers.ngZone.run(()=>u);return new bN(g,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new fL(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new CN(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_o.Dh),c.LFG(_o.xv,8),c.LFG(pL,8),c.LFG(mL,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(pn.HU),c.LFG(gL,8),c.LFG(yL,8),c.LFG(kD,8),c.LFG(fN,8),c.LFG(pN,8),c.LFG(gN,8),c.LFG(mN,8),c.LFG(yN,8),c.LFG(_N,8),c.LFG(OD,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),TN=(()=>{class n{constructor(t,r){this.document=t,this.platformId=r,this.documentIsAccessible=function xu(n){return n===oa}(this.platformId)}static getCookieRegExp(t){const r=t.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+r+"|;\\s*"+r+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(t){try{return decodeURIComponent(t)}catch{return t}}check(t){return!!this.documentIsAccessible&&(t=encodeURIComponent(t),n.getCookieRegExp(t).test(this.document.cookie))}get(t){if(this.documentIsAccessible&&this.check(t)){t=encodeURIComponent(t);const s=n.getCookieRegExp(t).exec(this.document.cookie);return s[1]?n.safeDecodeURIComponent(s[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const t={},r=this.document;return r.cookie&&""!==r.cookie&&r.cookie.split(";").forEach(s=>{const[u,d]=s.split("=");t[n.safeDecodeURIComponent(u.replace(/^ /,""))]=n.safeDecodeURIComponent(d)}),t}set(t,r,s,u,d,g,_){if(!this.documentIsAccessible)return;if("number"==typeof s||s instanceof Date||u||d||g||_)return void this.set(t,r,{expires:s,path:u,domain:d,secure:g,sameSite:_||"Lax"});let C=encodeURIComponent(t)+"="+encodeURIComponent(r)+";";const T=s||{};T.expires&&(C+="number"==typeof T.expires?"expires="+new Date((new Date).getTime()+1e3*T.expires*60*60*24).toUTCString()+";":"expires="+T.expires.toUTCString()+";"),T.path&&(C+="path="+T.path+";"),T.domain&&(C+="domain="+T.domain+";"),!1===T.secure&&"None"===T.sameSite&&(T.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${t} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),T.secure&&(C+="secure;"),T.sameSite||(T.sameSite="Lax"),C+="sameSite="+T.sameSite+";",this.document.cookie=C}delete(t,r,s,u,d="Lax"){this.documentIsAccessible&&this.set(t,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:r,domain:s,secure:u,sameSite:d})}deleteAll(t,r,s,u="Lax"){if(!this.documentIsAccessible)return;const d=this.getAll();for(const g in d)d.hasOwnProperty(g)&&this.delete(g,t,r,s,u)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ge),c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a1=(()=>{class n{constructor(t,r,s,u){this.afs=t,this.afAuth=r,this.router=s,this.cs=u,this.auth=(0,_v.o)(),this.afAuth.authState.subscribe(d=>{d?(this.userData=d,localStorage.setItem("user",JSON.stringify(this.userData)),JSON.parse(localStorage.getItem("user"))):(localStorage.setItem("user","null"),JSON.parse(localStorage.getItem("user")))})}resetPassword(t){(0,_v.a3)(this.auth,t).then(()=>{alert("Por favor revisa tu correo, enviamos un link para restablecer contrase\xf1a")}).catch(r=>{alert("Ups! Lo sentimos no te encontramos, Registrate por favor")})}setUserData(t){return this.afs.doc(`user/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL,emailVerified:t.emailVerified},{merge:!0})}login(t,r){return this.afAuth.signInWithEmailAndPassword(t,r).then(s=>(this.setUserData(s.user),this.afAuth.authState.subscribe(u=>u),!0)).catch(s=>!1)}register(t,r){return this.afAuth.createUserWithEmailAndPassword(t,r).then(s=>{console.log("se registro algo"),s.user?.sendEmailVerification(),this.setUserData(s.user),alert("MENSAJE SUCCESS")}).catch(s=>{alert("MENSAJE ERROR")})}logout(){return this.afAuth.signOut().then(()=>{this.cs.deleteAll()}).catch(()=>{alert("MENSAJE ERROR")})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(_L),c.LFG(kD),c.LFG(ar),c.LFG(TN))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SN=function(n){return[n]};function vL(n,e){if(1&n&&c._UZ(0,"input",22),2&n){const t=c.oxw();c.Q6J("routerLink",c.VKq(1,SN,"/profile/"+t.usuarioLocal[0].iduser))}}function wL(n,e){1&n&&(c.TgZ(0,"div",23)(1,"div",24),c._UZ(2,"span",25),c.qZA()())}const EL=function(){return["/login"]};function IL(n,e){1&n&&(c.TgZ(0,"button",26),c._uU(1,"Iniciar sesi\xf3n"),c.qZA()),2&n&&c.Q6J("routerLink",c.DdM(1,EL))}function bL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"button",27),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.cerrarSesion())}),c._uU(1,"Cerrar sesi\xf3n"),c.qZA()}}const CL=function(){return["/item/new"]};function DL(n,e){1&n&&(c.TgZ(0,"button",26),c._uU(1,"Vender"),c.qZA()),2&n&&c.Q6J("routerLink",c.DdM(1,CL))}const AN=function(){return["/home"]};function TL(n,e){1&n&&(c.TgZ(0,"li",28),c._uU(1,"Quitar filtro"),c.qZA()),2&n&&c.Q6J("routerLink",c.DdM(1,AN))}function SL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",29),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.sendValue(u.nombre))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit;c.Q6J("routerLink",c.VKq(2,SN,"/category/"+t.nombre)),c.xp6(1),c.Oqu(t.nombre)}}let If=(()=>{class n{constructor(t,r,s){this.cs=t,this.authService=r,this.router=s,this.cargandoCerrarSesion=!1,this.userLogged=!1,this.usuarioLocal=JSON.parse(localStorage.getItem("dataUser")||"[]"),this.valueChanged=new c.vpe,this.mostrarQuitarFiltro=!1}ngOnInit(){this.obtenerCategorias(),1==this.usuarioLocal.length&&(this.userLogged=!0)}sendValue(t){this.mostrarQuitarFiltro="null"!=t,this.valueChanged.emit(t)}obtenerCategorias(){this.cs.obtenerCategoria().subscribe(t=>{this.categorias=t})}seleccionarCategoria(t){}logout(){}cerrarSesion(){this.cargandoCerrarSesion=!0,this.authService.logout().then(()=>{localStorage.removeItem("user"),localStorage.removeItem("dataUser"),localStorage.clear(),setTimeout(()=>{this.cargandoCerrarSesion=!1,this.router.navigate(["login"])},1500)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ht),c.Y36(a1),c.Y36(ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-header"]],outputs:{valueChanged:"valueChanged"},decls:27,vars:9,consts:[[1,"navbar","navbar-expand-lg","bg-danger"],[1,"container-fluid"],[1,"navbar-brand","text-white",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","bg-white"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["type","button","data-bs-toggle","offcanvas","data-bs-target","#offcanvasWithBothOptions","aria-controls","offcanvasWithBothOptions",1,"btn","btn-light","mx-2"],["type","button","class","btn btn-outline-light ms-1","value","Perfil",3,"routerLink",4,"ngIf"],[1,"d-flex","alig-items-center","justify-content-center"],["class","d-flex  justify-content-center mt-1",4,"ngIf"],["type","button","class","btn btn-dark ms-3",3,"routerLink",4,"ngIf"],["type","button","class","btn btn-outline-light ms-3",3,"click",4,"ngIf"],["data-bs-scroll","true","tabindex","-1","id","offcanvasWithBothOptions","aria-labelledby","offcanvasWithBothOptionsLabel",1,"offcanvas","offcanvas-start"],[1,"offcanvas-header"],["id","offcanvasWithBothOptionsLabel",1,"offcanvas-title"],["type","button","data-bs-dismiss","offcanvas","aria-label","Close",1,"btn-close"],[1,"offcanvas-body"],[1,"list-unstyled","px-4"],["class","cursor-pointer py-3 px-4  h4 bg-danger text-light",3,"routerLink",4,"ngIf"],["class","cursor-pointer py-3 px-4 li_category h4","data-bs-dismiss","offcanvas",3,"routerLink","click",4,"ngFor","ngForOf"],["type","button","value","Perfil",1,"btn","btn-outline-light","ms-1",3,"routerLink"],[1,"d-flex","justify-content-center","mt-1"],["role","status",1,"spinner-border"],[1,"sr-only"],["type","button",1,"btn","btn-dark","ms-3",3,"routerLink"],["type","button",1,"btn","btn-outline-light","ms-3",3,"click"],[1,"cursor-pointer","py-3","px-4","h4","bg-danger","text-light",3,"routerLink"],["data-bs-dismiss","offcanvas",1,"cursor-pointer","py-3","px-4","li_category","h4",3,"routerLink","click"]],template:function(t,r){1&t&&(c.TgZ(0,"nav",0)(1,"div",1)(2,"a",2),c._uU(3,"MercaTwo"),c.qZA(),c.TgZ(4,"button",3),c._UZ(5,"span",4),c.qZA(),c.TgZ(6,"div",5)(7,"ul",6)(8,"li",7)(9,"button",8),c._uU(10,"Categorias"),c.qZA()(),c.TgZ(11,"li",7),c.YNc(12,vL,1,3,"input",9),c.qZA()(),c.TgZ(13,"div",10),c.YNc(14,wL,3,0,"div",11),c.YNc(15,IL,2,2,"button",12),c.YNc(16,bL,2,0,"button",13),c.YNc(17,DL,2,2,"button",12),c.qZA()()()(),c.TgZ(18,"div",14)(19,"div",15)(20,"h4",16),c._uU(21,"Categorias"),c.qZA(),c._UZ(22,"button",17),c.qZA(),c.TgZ(23,"div",18)(24,"ul",19),c.YNc(25,TL,2,2,"li",20),c.YNc(26,SL,2,4,"li",21),c.qZA()()()),2&t&&(c.xp6(2),c.Q6J("routerLink",c.DdM(8,AN)),c.xp6(10),c.Q6J("ngIf",r.userLogged),c.xp6(2),c.Q6J("ngIf",r.cargandoCerrarSesion),c.xp6(1),c.Q6J("ngIf",!r.userLogged),c.xp6(1),c.Q6J("ngIf",r.userLogged),c.xp6(1),c.Q6J("ngIf",r.userLogged),c.xp6(8),c.Q6J("ngIf",r.mostrarQuitarFiltro),c.xp6(1),c.Q6J("ngForOf",r.categorias))},dependencies:[Js,Pi,Zo],styles:[".cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.li_category[_ngcontent-%COMP%]:hover{animation:_ngcontent-%COMP%_listar .1s linear;margin-left:10px;background-color:#dcdcdc}@keyframes _ngcontent-%COMP%_listar{0%{margin-left:0}50%{margin-left:2px}}.imgProfileHeader[_ngcontent-%COMP%]{width:30px;border-radius:100px}"]}),n})(),LD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-footer"]],decls:6,vars:0,consts:[[1,"container-fluid","bg-dark","p-5","mt-5","d-flex","justify-content-center"],[1,"text-light"],["href","https://www.linkedin.com/in/marlong-mendoza/","target","_blank",1,"h6"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"p",1),c._uU(2,"\u{1f4a5} Creado con fines educativos por "),c.TgZ(3,"a",2),c._uU(4,"Marlong Mendoza"),c.qZA(),c._uU(5," \u{1f4a5} "),c.qZA()())}}),n})(),UD=(()=>{class n{constructor(t){this.http=t,this.urlRaiz="https://olx-node-sx91.onrender.com/"}obtenerArticulosDB(){return this.http.get(this.urlRaiz+"articulo")}obtenerArticuloDB(t){return this.http.get(this.urlRaiz+"articulo/"+t)}editarArticuloDB(t){return this.http.put(this.urlRaiz+"articulo/update/"+t.idarticulo,t)}crearArticulo(t){return this.http.post(this.urlRaiz+"articulo/new",t)}eliminarArticulo(t){return this.http.delete(this.urlRaiz+"articulo/delete/"+t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function AL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",12),c.NdJ("keyup.enter",function(){c.CHM(t),c.oxw(3);const s=c.MAs(1);return c.KtG(s.previous())})("click",function(){c.CHM(t),c.oxw(3);const s=c.MAs(1);return c.KtG(s.previous())}),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()}if(2&n){const t=c.oxw(3);c.xp6(1),c.hij(" ",t.previousLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function xL(n,e){if(1&n&&(c.TgZ(0,"span",14),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()),2&n){const t=c.oxw(3);c.xp6(1),c.hij(" ",t.previousLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function ML(n,e){if(1&n&&(c.TgZ(0,"li",9),c.YNc(1,AL,4,2,"a",10),c.YNc(2,xL,4,2,"span",11),c.qZA()),2&n){c.oxw(2);const t=c.MAs(1);c.ekj("disabled",t.isFirstPage()),c.xp6(1),c.Q6J("ngIf",1<t.getCurrent()),c.xp6(1),c.Q6J("ngIf",t.isFirstPage())}}function RL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",12),c.NdJ("keyup.enter",function(){c.CHM(t);const s=c.oxw().$implicit;c.oxw(2);const u=c.MAs(1);return c.KtG(u.setCurrent(s.value))})("click",function(){c.CHM(t);const s=c.oxw().$implicit;c.oxw(2);const u=c.MAs(1);return c.KtG(u.setCurrent(s.value))}),c.TgZ(1,"span",13),c._uU(2),c.qZA(),c.TgZ(3,"span"),c._uU(4),c.ALo(5,"number"),c.qZA()()}if(2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.xp6(2),c.hij("",r.screenReaderPageLabel," "),c.xp6(2),c.Oqu("..."===t.label?t.label:c.xi3(5,2,t.label,""))}}function NL(n,e){if(1&n&&(c.ynx(0),c.TgZ(1,"span",16)(2,"span",13),c._uU(3),c.qZA(),c.TgZ(4,"span"),c._uU(5),c.ALo(6,"number"),c.qZA()(),c.BQk()),2&n){const t=c.oxw().$implicit,r=c.oxw(2);c.xp6(3),c.hij("",r.screenReaderCurrentLabel," "),c.xp6(2),c.Oqu("..."===t.label?t.label:c.xi3(6,2,t.label,""))}}function PL(n,e){if(1&n&&(c.TgZ(0,"li"),c.YNc(1,RL,6,5,"a",10),c.YNc(2,NL,7,5,"ng-container",15),c.qZA()),2&n){const t=e.$implicit;c.oxw(2);const r=c.MAs(1);c.ekj("current",r.getCurrent()===t.value)("ellipsis","..."===t.label),c.xp6(1),c.Q6J("ngIf",r.getCurrent()!==t.value),c.xp6(1),c.Q6J("ngIf",r.getCurrent()===t.value)}}function OL(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"a",12),c.NdJ("keyup.enter",function(){c.CHM(t),c.oxw(3);const s=c.MAs(1);return c.KtG(s.next())})("click",function(){c.CHM(t),c.oxw(3);const s=c.MAs(1);return c.KtG(s.next())}),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()}if(2&n){const t=c.oxw(3);c.xp6(1),c.hij(" ",t.nextLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function kL(n,e){if(1&n&&(c.TgZ(0,"span",14),c._uU(1),c.TgZ(2,"span",13),c._uU(3),c.qZA()()),2&n){const t=c.oxw(3);c.xp6(1),c.hij(" ",t.nextLabel," "),c.xp6(2),c.Oqu(t.screenReaderPageLabel)}}function FL(n,e){if(1&n&&(c.TgZ(0,"li",17),c.YNc(1,OL,4,2,"a",10),c.YNc(2,kL,4,2,"span",11),c.qZA()),2&n){c.oxw(2);const t=c.MAs(1);c.ekj("disabled",t.isLastPage()),c.xp6(1),c.Q6J("ngIf",!t.isLastPage()),c.xp6(1),c.Q6J("ngIf",t.isLastPage())}}function LL(n,e){if(1&n&&(c.TgZ(0,"ul",4),c.YNc(1,ML,3,4,"li",5),c.TgZ(2,"li",6),c._uU(3),c.qZA(),c.YNc(4,PL,3,6,"li",7),c.YNc(5,FL,3,4,"li",8),c.qZA()),2&n){const t=c.oxw(),r=c.MAs(1);c.ekj("responsive",t.responsive),c.xp6(1),c.Q6J("ngIf",t.directionLinks),c.xp6(2),c.AsE(" ",r.getCurrent()," / ",r.getLastPage()," "),c.xp6(1),c.Q6J("ngForOf",r.pages)("ngForTrackBy",t.trackByIndex),c.xp6(1),c.Q6J("ngIf",t.directionLinks)}}class u1{constructor(){this.change=new c.vpe,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}defaultId(){return this.DEFAULT_ID}register(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)}updateInstance(e){let t=!1;for(let r in this.instances[e.id])e[r]!==this.instances[e.id][r]&&(this.instances[e.id][r]=e[r],t=!0);return t}getCurrentPage(e){return this.instances[e]?this.instances[e].currentPage:1}setCurrentPage(e,t){if(this.instances[e]){let r=this.instances[e];t<=Math.ceil(r.totalItems/r.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}}setTotalItems(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))}setItemsPerPage(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))}getInstance(e=this.DEFAULT_ID){return this.instances[e]?this.clone(this.instances[e]):{}}clone(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}}const UL=Number.MAX_SAFE_INTEGER;let VL=(()=>{class n{constructor(t){this.service=t,this.state={}}transform(t,r){if(!(t instanceof Array)){let M=r.id||this.service.defaultId();return this.state[M]?this.state[M].slice:t}let g,_,s=r.totalItems&&r.totalItems!==t.length,u=this.createInstance(t,r),d=u.id,C=u.itemsPerPage,T=this.service.register(u);if(!s&&t instanceof Array){if(C=+C||UL,g=(u.currentPage-1)*C,_=g+C,this.stateIsIdentical(d,t,g,_))return this.state[d].slice;{let j=t.slice(g,_);return this.saveState(d,t,j,g,_),this.service.change.emit(d),j}}return T&&this.service.change.emit(d),this.saveState(d,t,t,g,_),t}createInstance(t,r){return this.checkConfig(r),{id:null!=r.id?r.id:this.service.defaultId(),itemsPerPage:+r.itemsPerPage||0,currentPage:+r.currentPage||1,totalItems:+r.totalItems||t.length}}checkConfig(t){const s=["itemsPerPage","currentPage"].filter(u=>!(u in t));if(0<s.length)throw new Error(`PaginatePipe: Argument is missing the following required properties: ${s.join(", ")}`)}saveState(t,r,s,u,d){this.state[t]={collection:r,size:r.length,slice:s,start:u,end:d}}stateIsIdentical(t,r,s,u){let d=this.state[t];return!(!d||d.size!==r.length||d.start!==s||d.end!==u)&&d.slice.every((_,C)=>_===r[s+C])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(u1,16))},n.\u0275pipe=c.Yjl({name:"paginate",type:n,pure:!1}),n})(),BL=(()=>{class n{constructor(t,r){this.service=t,this.changeDetectorRef=r,this.maxSize=7,this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this.pages=[],this.changeSub=this.service.change.subscribe(s=>{this.id===s&&(this.updatePageLinks(),this.changeDetectorRef.markForCheck(),this.changeDetectorRef.detectChanges())})}ngOnInit(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()}ngOnChanges(t){this.updatePageLinks()}ngOnDestroy(){this.changeSub.unsubscribe()}previous(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)}next(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)}isFirstPage(){return 1===this.getCurrent()}isLastPage(){return this.getLastPage()===this.getCurrent()}setCurrent(t){this.pageChange.emit(t)}getCurrent(){return this.service.getCurrentPage(this.id)}getLastPage(){let t=this.service.getInstance(this.id);return t.totalItems<1?1:Math.ceil(t.totalItems/t.itemsPerPage)}getTotalItems(){return this.service.getInstance(this.id).totalItems}checkValidId(){null==this.service.getInstance(this.id).id&&console.warn(`PaginationControlsDirective: the specified id "${this.id}" does not match any registered PaginationInstance`)}updatePageLinks(){let t=this.service.getInstance(this.id);const r=this.outOfBoundCorrection(t);r!==t.currentPage?setTimeout(()=>{this.pageBoundsCorrection.emit(r),this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)}outOfBoundCorrection(t){const r=Math.ceil(t.totalItems/t.itemsPerPage);return r<t.currentPage&&0<r?r:t.currentPage<1?1:t.currentPage}createPageArray(t,r,s,u){u=+u;let d=[];const g=Math.max(Math.ceil(s/r),1),_=Math.ceil(u/2),C=t<=_,T=g-_<t,M=!C&&!T;let j=u<g,K=1;for(;K<=g&&K<=u;){let ae,_e=this.calculatePageNumber(K,t,u,g);ae=j&&(2===K&&(M||T)||K===u-1&&(M||C))?"...":_e,d.push({label:ae,value:_e}),K++}return d}calculatePageNumber(t,r,s,u){let d=Math.ceil(s/2);return t===s?u:1===t?t:s<u?u-d<r?u-s+t:d<r?r-d+t:t:t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(u1),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["pagination-template"],["","pagination-template",""]],inputs:{id:"id",maxSize:"maxSize"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},exportAs:["paginationApi"],features:[c.TTD]}),n})();function c1(n){return!!n&&"false"!==n}let jL=(()=>{class n{constructor(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new c.vpe,this.pageBoundsCorrection=new c.vpe,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}get directionLinks(){return this._directionLinks}set directionLinks(t){this._directionLinks=c1(t)}get autoHide(){return this._autoHide}set autoHide(t){this._autoHide=c1(t)}get responsive(){return this._responsive}set responsive(t){this._responsive=c1(t)}trackByIndex(t){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["pagination-controls"]],inputs:{id:"id",maxSize:"maxSize",directionLinks:"directionLinks",autoHide:"autoHide",responsive:"responsive",previousLabel:"previousLabel",nextLabel:"nextLabel",screenReaderPaginationLabel:"screenReaderPaginationLabel",screenReaderPageLabel:"screenReaderPageLabel",screenReaderCurrentLabel:"screenReaderCurrentLabel"},outputs:{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"},decls:4,vars:4,consts:[[3,"id","maxSize","pageChange","pageBoundsCorrection"],["p","paginationApi"],["role","navigation"],["class","ngx-pagination",3,"responsive",4,"ngIf"],[1,"ngx-pagination"],["class","pagination-previous",3,"disabled",4,"ngIf"],[1,"small-screen"],[3,"current","ellipsis",4,"ngFor","ngForOf","ngForTrackBy"],["class","pagination-next",3,"disabled",4,"ngIf"],[1,"pagination-previous"],["tabindex","0",3,"keyup.enter","click",4,"ngIf"],["aria-disabled","true",4,"ngIf"],["tabindex","0",3,"keyup.enter","click"],[1,"show-for-sr"],["aria-disabled","true"],[4,"ngIf"],["aria-live","polite"],[1,"pagination-next"]],template:function(t,r){if(1&t&&(c.TgZ(0,"pagination-template",0,1),c.NdJ("pageChange",function(u){return r.pageChange.emit(u)})("pageBoundsCorrection",function(u){return r.pageBoundsCorrection.emit(u)}),c.TgZ(2,"nav",2),c.YNc(3,LL,6,8,"ul",3),c.qZA()()),2&t){const s=c.MAs(1);c.Q6J("id",r.id)("maxSize",r.maxSize),c.xp6(2),c.uIk("aria-label",r.screenReaderPaginationLabel),c.xp6(1),c.Q6J("ngIf",!(r.autoHide&&s.pages.length<=1))}},dependencies:[BL,Pi,Js,Ct],styles:['.ngx-pagination{margin-left:0;margin-bottom:1rem}.ngx-pagination:before,.ngx-pagination:after{content:" ";display:table}.ngx-pagination:after{clear:both}.ngx-pagination li{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;margin-right:.0625rem;border-radius:0}.ngx-pagination li{display:inline-block}.ngx-pagination a,.ngx-pagination button{color:#0a0a0a;display:block;padding:.1875rem .625rem;border-radius:0}.ngx-pagination a:hover,.ngx-pagination button:hover{background:#e6e6e6}.ngx-pagination .current{padding:.1875rem .625rem;background:#2199e8;color:#fefefe;cursor:default}.ngx-pagination .disabled{padding:.1875rem .625rem;color:#cacaca;cursor:default}.ngx-pagination .disabled:hover{background:transparent}.ngx-pagination a,.ngx-pagination button{cursor:pointer}.ngx-pagination .pagination-previous a:before,.ngx-pagination .pagination-previous.disabled:before{content:"\\ab";display:inline-block;margin-right:.5rem}.ngx-pagination .pagination-next a:after,.ngx-pagination .pagination-next.disabled:after{content:"\\bb";display:inline-block;margin-left:.5rem}.ngx-pagination .show-for-sr{position:absolute!important;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0)}.ngx-pagination .small-screen{display:none}@media screen and (max-width: 601px){.ngx-pagination.responsive .small-screen{display:inline-block}.ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next){display:none}}\n'],encapsulation:2,changeDetection:0}),n})(),$L=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[u1],imports:[[Zi]]}),n})();function HL(n,e){1&n&&(c.TgZ(0,"div",5)(1,"h5"),c._uU(2,"No hemos encontrado articulos"),c.qZA()())}const zL=function(n){return[n]};function GL(n,e){if(1&n&&(c.TgZ(0,"div",8),c._UZ(1,"img",9),c.TgZ(2,"div",10)(3,"h5",11),c._uU(4),c.qZA(),c.TgZ(5,"button",12),c._uU(6,"Comprar"),c.qZA()()()),2&n){const t=e.$implicit;c.xp6(1),c.s9C("src",t.imagen,c.LSH),c.xp6(3),c.Oqu(t.titulo),c.xp6(1),c.Q6J("routerLink",c.VKq(3,zL,"/item/"+t.idarticulo))}}const qL=function(n){return{itemsPerPage:6,currentPage:n}};function ZL(n,e){if(1&n&&(c.TgZ(0,"div",6),c.YNc(1,GL,7,5,"div",7),c.ALo(2,"paginate"),c.qZA()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngForOf",c.xi3(2,1,t.listaArticulosPintar,c.VKq(4,qL,t.page)))}}let l1=(()=>{class n{constructor(t,r,s){this.as=t,this.router=r,this.cs=s,this.inputIdUserProfile="",this.inputHome="",this.valorDelPadre="",this.page=1,this.tituloLista="",this.listaArticulosPintar=[]}ngOnInit(){this.ListaAPintar()}ngOnChanges(t){t.valorDelPadre&&this.ListaAPintar()}ListaAPintar(){"null"==this.inputHome?this.traerListaArticulos("null"):""!=this.inputIdUserProfile?this.traerListaArticulos("profile"):""!=this.valorDelPadre&&this.traerListaArticulos("category")}traerListaArticulos(t){this.as.obtenerArticulosDB().subscribe(r=>{this.listaArticulosPintar=r,"null"==t?(this.tituloLista="Ultimos anuncios",this.listaArticulosPintar=r,this.listaArticulosPintar=this.listaArticulosPintar.sort((s,u)=>u.idarticulo-s.idarticulo)):"profile"==t?(this.tituloLista="Anuncios",this.listaArticulosPintar=this.listaArticulosPintar.filter(s=>s.user_iduser.id==this.inputIdUserProfile).sort((s,u)=>u.idarticulo-s.idarticulo)):"category"==t&&this.cs.validarExistenciaCategoria(this.valorDelPadre).subscribe(u=>{0==u?this.router.navigate([""]):(this.tituloLista="Categoria "+this.valorDelPadre,this.listaArticulosPintar=this.listaArticulosPintar.filter(d=>d.categoria_idcategoria.nombre==this.valorDelPadre).sort((d,g)=>g.idarticulo-d.idarticulo))})})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(UD),c.Y36(ar),c.Y36(Ht))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-list-items"]],inputs:{inputIdUserProfile:"inputIdUserProfile",inputHome:"inputHome",valorDelPadre:"valorDelPadre"},features:[c.TTD],decls:7,vars:3,consts:[[1,"m-4"],["class","mx-5",4,"ngIf"],["class","container-fluid d-flex  alig-items-center  flex-wrap my-3 mx-3",4,"ngIf"],[1,"d-flex","justify-content-center","mt-5"],["previousLabel","Anterior","nextLabel","Siguiente",3,"pageChange"],[1,"mx-5"],[1,"container-fluid","d-flex","alig-items-center","flex-wrap","my-3","mx-3"],["class","card m-2 pt-3 border border-secondary","style","width: 15rem;",4,"ngFor","ngForOf"],[1,"card","m-2","pt-3","border","border-secondary",2,"width","15rem"],["alt","...",1,"card-img-top","img__article",3,"src"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-outline-danger","w-100","mt-2","py-3",3,"routerLink"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"h3"),c._uU(2),c.qZA()(),c.YNc(3,HL,3,0,"div",1),c.YNc(4,ZL,3,6,"div",2),c.TgZ(5,"div",3)(6,"pagination-controls",4),c.NdJ("pageChange",function(u){return r.page=u}),c.qZA()()),2&t&&(c.xp6(2),c.Oqu(r.tituloLista),c.xp6(1),c.Q6J("ngIf",0==r.listaArticulosPintar.length),c.xp6(1),c.Q6J("ngIf",r.listaArticulosPintar))},dependencies:[Js,Pi,Zo,jL,VL],styles:[".img__article[_ngcontent-%COMP%]{height:150px;object-fit:contain}"]}),n})(),WL=(()=>{class n{constructor(t){this.route=t,this.inputHome="null"}ngOnInit(){this.route.params.subscribe(t=>{let{nombre:r}=t;this.nombreCategoria=r})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:7,vars:1,consts:[[1,"container-fluid","bg-dark"],[1,"text-center","py-5","text-light"],[1,"container-fluid"],[3,"inputHome"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0)(2,"h1",1),c._uU(3,"MercaTwo"),c.qZA()(),c.TgZ(4,"div",2),c._UZ(5,"app-list-items",3),c.qZA(),c._UZ(6,"app-footer")),2&t&&(c.xp6(5),c.Q6J("inputHome",r.inputHome))},dependencies:[If,LD,l1]}),n})(),VD=(()=>{class n{constructor(t){this.http=t,this.urlRaiz="https://olx-node-sx91.onrender.com/"}obtenerUsuario(t){return this.http.get(this.urlRaiz+"usuario/"+t)}obtenerUsuarioPorEmail(t){return this.http.get(this.urlRaiz+"usuario/email/"+t)}editarUsuario(t){return this.http.put(this.urlRaiz+"usuario/update/"+t.iduser,t)}cambiarPassword(t,r){return this.http.put(this.urlRaiz+"usuario/update/password/"+t,r)}crearUsuario(t){return this.http.post(this.urlRaiz+"usuario/new",t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xN=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Wg=(()=>{class n extends xN{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Gc=new c.OlP("NgValueAccessor"),QL={provide:Gc,useExisting:(0,c.Gpc)(()=>bf),multi:!0},XL=new c.OlP("CompositionEventMode");let bf=(()=>{class n extends xN{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function JL(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(XL,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([QL]),c.qOj]}),n})();const Ss=new c.OlP("NgValidators"),Df=new c.OlP("NgAsyncValidators");function BN(n){return null!=n}function jN(n){return(0,c.QGY)(n)?(0,hn.D)(n):n}function $N(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function HN(n,e){return e.map(t=>t(n))}function zN(n){return n.map(e=>function t2(n){return!n.validate}(e)?e:t=>e.validate(t))}function d1(n){return null!=n?function GN(n){if(!n)return null;const e=n.filter(BN);return 0==e.length?null:function(t){return $N(HN(t,e))}}(zN(n)):null}function h1(n){return null!=n?function qN(n){if(!n)return null;const e=n.filter(BN);return 0==e.length?null:function(t){return function KL(...n){const e=(0,Li.jO)(n),{args:t,keys:r}=ga(n),s=new bi.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let _=d,C=d;for(let T=0;T<d;T++){let M=!1;(0,Qu.Xf)(t[T]).subscribe((0,Ui.x)(u,j=>{M||(M=!0,C--),g[T]=j},()=>_--,void 0,()=>{(!_||!M)&&(C||u.next(r?Vo(r,g):g),u.complete())}))}});return e?s.pipe(ma(e)):s}(HN(t,e).map(jN)).pipe((0,Ot.U)($N))}}(zN(n)):null}function ZN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function f1(n){return n?Array.isArray(n)?n:[n]:[]}function jD(n,e){return Array.isArray(n)?n.includes(e):n===e}function YN(n,e){const t=f1(e);return f1(n).forEach(s=>{jD(t,s)||t.push(s)}),t}function QN(n,e){return f1(e).filter(t=>!jD(n,t))}class JN{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=d1(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=h1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zs extends JN{get formDirective(){return null}get path(){return null}}class Tf extends JN{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XN{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let S_=(()=>{class n extends XN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Tf,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[c.qOj]}),n})(),$D=(()=>{class n extends XN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zs,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[c.qOj]}),n})();const uE="VALID",zD="INVALID",A_="PENDING",cE="DISABLED";function m1(n){return(GD(n)?n.validators:n)||null}function y1(n,e){return(GD(e)?e.asyncValidators:n)||null}function GD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class rP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===uE}get invalid(){return this.status===zD}get pending(){return this.status==A_}get disabled(){return this.status===cE}get enabled(){return this.status!==cE}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(QN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(QN(e,this._rawAsyncValidators))}hasValidator(e){return jD(this._rawValidators,e)}hasAsyncValidator(e){return jD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=A_,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=cE,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=uE,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uE||this.status===A_)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?cE:uE}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=A_,this._hasOwnPendingAsyncValidator=!0;const t=jN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?cE:this.errors?zD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(A_)?A_:this._anyControlsHaveStatus(zD)?zD:uE}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){GD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function s2(n){return Array.isArray(n)?d1(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function o2(n){return Array.isArray(n)?h1(n):n||null}(this._rawAsyncValidators)}}class _1 extends rP{constructor(e,t,r){super(m1(t),y1(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function nP(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new c.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function tP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[t])throw new c.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const x_=new c.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>qD}),qD="always";function lE(n,e,t=qD){v1(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function c2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&iP(n,e)})}(n,e),function d2(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function l2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&iP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function u2(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function KD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function v1(n,e){const t=function WN(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(ZN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function KN(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(ZN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();KD(e._rawValidators,s),KD(e._rawAsyncValidators,s)}function iP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const m2={provide:Zs,useExisting:(0,c.Gpc)(()=>M_)},dE=(()=>Promise.resolve())();let M_=(()=>{class n extends Zs{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new _1({},d1(t),h1(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){dE.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lE(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){dE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){dE.then(()=>{const r=this._findContainer(t.path),s=new _1({});(function sP(n,e){v1(n,e)})(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){dE.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){dE.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function oP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ss,10),c.Y36(Df,10),c.Y36(x_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([m2]),c.qOj]}),n})();function aP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function uP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const cP=class extends rP{constructor(e=null,t,r){super(m1(t),y1(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),GD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=uP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){aP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){aP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){uP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},v2={provide:Tf,useExisting:(0,c.Gpc)(()=>Kg)},hP=(()=>Promise.resolve())();let Kg=(()=>{class n extends Tf{constructor(t,r,s,u,d,g){super(),this._changeDetectorRef=d,this.callSetDisabledState=g,this.control=new cP,this._registered=!1,this.name="",this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function I1(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===bf?t=u:function p2(n){return Object.getPrototypeOf(n.constructor)===Wg}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function E1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){lE(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){hP.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=0!==r&&(0,c.VuI)(r);hP.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function ZD(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Zs,9),c.Y36(Ss,10),c.Y36(Df,10),c.Y36(Gc,10),c.Y36(c.sBO,8),c.Y36(x_,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([v2]),c.qOj,c.TTD]}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const w2={provide:Gc,useExisting:(0,c.Gpc)(()=>JD),multi:!0};let JD=(()=>{class n extends Wg{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[c._Bn([w2]),c.qOj]}),n})(),fP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const x2={provide:Gc,useExisting:(0,c.Gpc)(()=>XD),multi:!0};function wP(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let XD=(()=>{class n extends Wg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=wP(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function M2(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([x2]),c.qOj]}),n})(),T1=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(wP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(XD,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const R2={provide:Gc,useExisting:(0,c.Gpc)(()=>S1),multi:!0};function EP(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let S1=(()=>{class n extends Wg{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(s.indexOf(d.toString())>-1)}}else r=(s,u)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let g=0;g<d.length;g++){const C=this._getOptionValue(d[g].value);s.push(C)}}else{const d=r.options;for(let g=0;g<d.length;g++){const _=d[g];if(_.selected){const C=this._getOptionValue(_.value);s.push(C)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function N2(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([R2]),c.qOj]}),n})(),A1=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(EP(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(EP(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(S1,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),j2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[fP]}),n})(),H2=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:x_,useValue:t.callSetDisabledState??qD}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[j2]}),n})();function z2(n,e){if(1&n&&(c.TgZ(0,"option"),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}const G2=function(){return["/login"]},q2=function(){return["/home"]};let Z2=(()=>{class n{constructor(t,r){this.authService=t,this.us=r,this.registerUser={email:"",password:""},this.paises=["bogot\xe1","bucaramanga","rio negro","medellin","la vega"],this.datesUserDB={iduser:0,nombre:"",apellido:"",ubicacion:"",email:"",password:"",imagen:"assets/imgs/default-avatar.jpg",telefono:""}}register(){this.us.obtenerUsuarioPorEmail(this.datesUserDB.email).subscribe(t=>0==t.length?(this.us.crearUsuario(this.datesUserDB).subscribe(r=>{this.authService.register(this.datesUserDB.email,this.datesUserDB.password).then(s=>{console.log(s),alert("se creo tu usuario correctamente")}).catch(s=>{alert("no se pudo crear el usuario para autenticar")}),console.log(r)}),!0):(alert("lo sentimos no fue posible crear el usuario"),!1))}registerDB(){console.log(this.datesUserDB),this.register()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(a1),c.Y36(VD))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:11,consts:[[1,"container-fluid","d-flex","justify-content-center","align-items-center","flex-column","h-100Por","w-75"],[1,"row","g-3","border","border-secondary","rounded","px-4"],[1,"mt-3","mb-0","d-flex","justify-content-center"],[1,"col-md-6"],["type","text","placeholder","Nombre(s)","name","nombre",1,"form-control","border","border-secondary","mx-1",3,"ngModel","ngModelChange"],["type","text","placeholder","Apellido(s)","name","nombre",1,"form-control","border","border-secondary","mx-1",3,"ngModel","ngModelChange"],["type","text","id","inputAddress2","placeholder","Telefono","name","telefono",1,"form-control","border","border-secondary","mx-1",3,"ngModel","ngModelChange"],["type","email","id","inputEmail4","placeholder","Email","name","email",1,"form-control","border","border-secondary","mx-1",3,"ngModel","ngModelChange"],["type","password","id","inputPassword4","placeholder","Contrase\xf1a","name","password",1,"form-control","border","border-secondary","mx-1",3,"ngModel","ngModelChange"],["id","inputState","name","ubicacion",1,"form-select","border","border-secondary","mx-2",3,"ngModel","ngModelChange"],["selected",""],[4,"ngFor","ngForOf"],[1,"col-12"],[1,"form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input","border","border-secondary","mx-1"],["for","gridCheck",1,"form-check-label"],["type","submit",1,"btn","btn-danger","p-3","w-100","mb-4",3,"click"],[1,"mt-3","d-flex","align-items-center","flex-wrap","justify-content-center"],[1,"form-check","d-flex","justify-content-center","p-0"],["for","exampleCheck1",1,"form-check-label","link-secondary","mb-1","cursor-pointer",3,"routerLink"],["type","submit",1,"btn","btn-outline-danger","w-100","px-1","mx-sm-3",3,"routerLink"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"h1"),c._uU(4,"MercaTwo"),c.qZA()(),c.TgZ(5,"div",3)(6,"input",4),c.NdJ("ngModelChange",function(u){return r.datesUserDB.nombre=u}),c.qZA()(),c.TgZ(7,"div",3)(8,"input",5),c.NdJ("ngModelChange",function(u){return r.datesUserDB.apellido=u}),c.qZA()(),c.TgZ(9,"div",3)(10,"input",6),c.NdJ("ngModelChange",function(u){return r.datesUserDB.telefono=u}),c.qZA()(),c.TgZ(11,"div",3)(12,"input",7),c.NdJ("ngModelChange",function(u){return r.datesUserDB.email=u}),c.qZA()(),c.TgZ(13,"div",3)(14,"input",8),c.NdJ("ngModelChange",function(u){return r.datesUserDB.password=u}),c.qZA()(),c.TgZ(15,"div",3)(16,"select",9),c.NdJ("ngModelChange",function(u){return r.datesUserDB.ubicacion=u}),c.TgZ(17,"option",10),c._uU(18,"Ubicacion"),c.qZA(),c.YNc(19,z2,2,1,"option",11),c.qZA()(),c.TgZ(20,"div",12)(21,"div",13),c._UZ(22,"input",14),c.TgZ(23,"label",15),c._uU(24," Acepto politicas "),c.qZA()()(),c.TgZ(25,"div",12)(26,"button",16),c.NdJ("click",function(){return r.registerDB()}),c._uU(27,"Registrarme"),c.qZA()()(),c.TgZ(28,"div",17)(29,"div",18)(30,"a",19),c._uU(31,"Ya tengo una cuenta"),c.qZA()(),c.TgZ(32,"div")(33,"button",20),c._uU(34,"Ingresar sin iniciar sesi\xf3n"),c.qZA()()()()),2&t&&(c.xp6(6),c.Q6J("ngModel",r.datesUserDB.nombre),c.xp6(2),c.Q6J("ngModel",r.datesUserDB.apellido),c.xp6(2),c.Q6J("ngModel",r.datesUserDB.telefono),c.xp6(2),c.Q6J("ngModel",r.datesUserDB.email),c.xp6(2),c.Q6J("ngModel",r.datesUserDB.password),c.xp6(2),c.Q6J("ngModel",r.datesUserDB.ubicacion),c.xp6(3),c.Q6J("ngForOf",r.paises),c.xp6(11),c.Q6J("routerLink",c.DdM(9,G2)),c.xp6(3),c.Q6J("routerLink",c.DdM(10,q2)))},dependencies:[Js,Zo,QD,T1,A1,bf,XD,S_,$D,Kg,M_],styles:[".h-100Por[_ngcontent-%COMP%]{height:100vh}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();function W2(n,e){1&n&&(c.TgZ(0,"div",14)(1,"div",15),c._UZ(2,"span",16),c.qZA()())}const K2=function(){return["/register"]},Y2=function(){return["/home"]};let Q2=(()=>{class n{constructor(t,r,s){this.authService=t,this.us=r,this.route=s,this.loginUser={email:"",password:""},this.cargandoInicioSesion=!1}login(t){""!=this.loginUser.email&&""!=this.loginUser.password?(this.cargandoInicioSesion=!0,this.authService.login(t.email,t.password).then(r=>{console.log(r),1==r?this.us.obtenerUsuarioPorEmail(t.email).subscribe(s=>{s&&(localStorage.setItem("dataUser",JSON.stringify(s)),setTimeout(()=>{this.cargandoInicioSesion=!1,this.route.navigate(["home"])},1e3))}):0==r&&(this.cargandoInicioSesion=!1,alert("Revisa por favor los datos ingresados"))}).catch(()=>{alert("fuerraa")})):(this.cargandoInicioSesion=!1,alert("valida los datos nuevamente por favor"))}resetPassword(){let t=prompt("\xbfOlvidaste tu contrase\xf1a? Introduce un email registrado por favor")||"";""!=t&&t.includes("@")&&t.includes(".")?this.authService.resetPassword(t):alert("Por favor introduce un correo valido")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(a1),c.Y36(VD),c.Y36(ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:20,vars:7,consts:[[1,"container-fluid","d-flex","justify-content-center","align-items-center","flex-column","h-100Por"],[1,"w-300","p-4","border","border-secondary"],[1,"d-flex","justify-content-center","align-items-center","flex-column"],[1,"my-2"],[1,"form-group"],["type","email","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Email","name","email",1,"form-control","border-secondary","my-2",3,"ngModel","ngModelChange"],["type","password","id","exampleInputPassword1","placeholder","Contrase\xf1a","name","pasword",1,"form-control","border-secondary","my-2",3,"ngModel","ngModelChange"],["type","button","value","Restablecer contrase\xf1a",1,"btn","btn-light","m-2","p-1","px-3","btn-reset-password",3,"click"],["type","submit",1,"btn","btn-danger","w-75","py-3","my-2",3,"click"],["class","d-flex  justify-content-center mt-1",4,"ngIf"],[1,"mt-3"],[1,"form-check","d-flex","justify-content-center","p-0"],["for","exampleCheck1",1,"form-check-label","link-secondary","mb-1","cursor-pointer",3,"routerLink"],["type","submit",1,"btn","btn-outline-danger","w-100","px-5",3,"routerLink"],[1,"d-flex","justify-content-center","mt-1"],["role","status",1,"spinner-border"],[1,"sr-only"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"form",2)(3,"div",3)(4,"h1"),c._uU(5,"MercaTwo"),c.qZA()(),c.TgZ(6,"div",4)(7,"input",5),c.NdJ("ngModelChange",function(u){return r.loginUser.email=u}),c.qZA()(),c.TgZ(8,"div",4)(9,"input",6),c.NdJ("ngModelChange",function(u){return r.loginUser.password=u}),c.qZA()(),c.TgZ(10,"input",7),c.NdJ("click",function(){return r.resetPassword()}),c.qZA(),c.TgZ(11,"button",8),c.NdJ("click",function(){return r.login(r.loginUser)}),c._uU(12,"Iniciar sesi\xf3n"),c.qZA(),c.YNc(13,W2,3,0,"div",9),c.qZA()(),c.TgZ(14,"div",10)(15,"div",11)(16,"a",12),c._uU(17,"\xbfNo tienes una cuenta?"),c.qZA()(),c.TgZ(18,"button",13),c._uU(19,"Ingresar sin iniciar sesi\xf3n"),c.qZA()()()),2&t&&(c.xp6(7),c.Q6J("ngModel",r.loginUser.email),c.xp6(2),c.Q6J("ngModel",r.loginUser.password),c.xp6(4),c.Q6J("ngIf",r.cargandoInicioSesion),c.xp6(3),c.Q6J("routerLink",c.DdM(5,K2)),c.xp6(2),c.Q6J("routerLink",c.DdM(6,Y2)))},dependencies:[Pi,Zo,QD,bf,S_,$D,Kg,M_],styles:[".w-300[_ngcontent-%COMP%]{width:300px}.h-100Por[_ngcontent-%COMP%]{height:100vh}.cursor-pointer[_ngcontent-%COMP%]{cursor:pointer}.btn-reset-password[_ngcontent-%COMP%]{font-size:13px;border-bottom:1px solid #b8b8b8}"]}),n})();const RP=function(n){return[n]};function J2(n,e){if(1&n&&c._UZ(0,"input",32),2&n){const t=c.oxw(2);c.Q6J("routerLink",c.VKq(1,RP,"/item/edit/"+t.articulo.idarticulo))}}const X2=function(){return["/home"]};function eU(n,e){if(1&n&&(c.TgZ(0,"div",6)(1,"div",7),c._UZ(2,"input",8),c.qZA(),c.TgZ(3,"div",9)(4,"div",10)(5,"div",11)(6,"div",12)(7,"div",13),c._UZ(8,"img",14),c.qZA()(),c.TgZ(9,"button",15),c._UZ(10,"span",16),c.TgZ(11,"span",17),c._uU(12,"Previous"),c.qZA()(),c.TgZ(13,"button",18),c._UZ(14,"span",19),c.TgZ(15,"span",17),c._uU(16,"Next"),c.qZA()()()(),c.TgZ(17,"div",20)(18,"div",21)(19,"div",22)(20,"h2"),c._uU(21),c.ALo(22,"currency"),c.qZA(),c.TgZ(23,"figure",23),c._UZ(24,"img",24),c.qZA()(),c.TgZ(25,"p"),c._uU(26),c.qZA(),c.TgZ(27,"div",22)(28,"em"),c._uU(29),c.qZA(),c.TgZ(30,"small",25),c._uU(31),c.ALo(32,"date"),c.qZA()()(),c.TgZ(33,"div",26)(34,"div",27),c._UZ(35,"img",28),c.qZA(),c.TgZ(36,"div")(37,"h5",29),c._uU(38),c.qZA(),c._UZ(39,"input",30),c.qZA()(),c.TgZ(40,"div"),c.YNc(41,J2,1,3,"input",31),c.qZA()()()()),2&n){const t=c.oxw();c.xp6(2),c.Q6J("routerLink",c.DdM(14,X2)),c.xp6(6),c.s9C("src",t.articulo.imagen,c.LSH),c.xp6(13),c.Oqu(c.lcZ(22,10,t.articulo.precio)),c.xp6(5),c.Oqu(t.articulo.titulo),c.xp6(3),c.hij("",t.articulo.user_iduser.ubicacion,", Colombia"),c.xp6(2),c.Oqu(c.lcZ(32,12,t.articulo.fecha)),c.xp6(4),c.s9C("src",t.articulo.user_iduser.imagen,c.LSH),c.xp6(3),c.Oqu(t.articulo.user_iduser.nombre),c.xp6(1),c.Q6J("routerLink",c.VKq(15,RP,"/profile/"+t.articulo.user_iduser.id)),c.xp6(2),c.Q6J("ngIf",t.permiseEdit)}}let tU=(()=>{class n{constructor(t,r,s){this.as=t,this.route=r,this.router=s,this.permiseEdit=!1,this.userLogged=!1,this.usuarioLocal=JSON.parse(localStorage.getItem("dataUser")||"[]")}ngOnInit(){this.route.params.subscribe(t=>{let{id:r}=t;console.log(r),this.obtenerItem(r)})}obtenerItem(t){this.as.obtenerArticuloDB(t).subscribe(r=>{console.log();let s=r;0==s.length?this.router.navigate([""]):(this.articulo=s[0],1==this.usuarioLocal.length&&(this.userLogged=!0,this.permiseEdit=parseInt(this.usuarioLocal[0].iduser)==this.articulo.user_iduser.id))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(UD),c.Y36(Cs),c.Y36(ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-item"]],decls:28,vars:5,consts:[["class","container-fluid  pt-3 pb-0",4,"ngIf"],[1,"col-6","border","border-secondary-subtle","mx-4","px-3","pt-3","mb-2"],[1,"table"],["scope","row"],[1,"col-6","border","border-secondary-subtle","mx-4","px-3","pt-3"],[1,"ms-3"],[1,"container-fluid","pt-3","pb-0"],[1,"container-fluid","p-0"],["type","button","value","\u21d0 Volver",1,"btn","btn-dark","px-3","ms-3",3,"routerLink"],[1,"container-fluid","m-auto","p-3","d-flex","justify-content-center"],[1,"col-8","me-2"],["id","carouselExample",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100","img__article",3,"src"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"col-4","d-flex","flex-column"],[1,"p-3","border","border-secondary","rounded"],[1,"d-flex","justify-content-between"],[1,"icon__favorite"],["src","assets/imgs/heart.svg","alt",""],[1,"text-secondary"],[1,"p-3","border","border-secondary","rounded","my-3","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center"],["alt","",1,"img__profile","me-3","border","border-secondary",3,"src"],[1,"text-center"],["type","button","value","Ver perfil",1,"btn","btn-outline-dark","p-2","w-100","mt-3",3,"routerLink"],["type","button","class","btn btn-danger p-3 w-100","value","Editar publicaci\xf3n",3,"routerLink",4,"ngIf"],["type","button","value","Editar publicaci\xf3n",1,"btn","btn-danger","p-3","w-100",3,"routerLink"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.YNc(1,eU,42,17,"div",0),c.TgZ(2,"div",1)(3,"h4"),c._uU(4,"Detalles"),c.qZA(),c.TgZ(5,"table",2)(6,"tbody")(7,"tr")(8,"th",3),c._uU(9,"Categoria"),c.qZA(),c.TgZ(10,"td"),c._uU(11),c.qZA()(),c.TgZ(12,"tr")(13,"th",3),c._uU(14,"Estado"),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA()(),c.TgZ(17,"tr")(18,"th",3),c._uU(19,"Telefono"),c.qZA(),c.TgZ(20,"td"),c._uU(21),c.qZA()()()()(),c.TgZ(22,"div",4)(23,"h4"),c._uU(24,"Descripci\xf3n"),c.qZA(),c.TgZ(25,"p",5),c._uU(26),c.qZA()(),c._UZ(27,"app-footer")),2&t&&(c.xp6(1),c.Q6J("ngIf",r.articulo),c.xp6(10),c.Oqu(r.articulo.categoria_idcategoria.nombre),c.xp6(5),c.Oqu(r.articulo.estado),c.xp6(5),c.Oqu(r.articulo.user_iduser.telefono),c.xp6(5),c.Oqu(r.articulo.descripcion))},dependencies:[Pi,Zo,If,LD,Mo,Dn],styles:[".img__profile[_ngcontent-%COMP%]{width:85px;height:85px;box-sizing:border-box;object-fit:cover;border-radius:100%}.icon__favorite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border:2px solid black;padding:7px;width:40px;border-radius:100%}.icon__favorite[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{background-color:#dc3545;cursor:pointer}.img__article[_ngcontent-%COMP%]{object-fit:contain}"]}),n})(),nU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-setting"]],decls:4,vars:0,template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"p"),c._uU(2,"setting works!"),c.qZA(),c._UZ(3,"app-footer"))},dependencies:[If,LD]}),n})();const rU=function(n){return[n]};function iU(n,e){if(1&n&&c._UZ(0,"input",14),2&n){const t=c.oxw(2);c.Q6J("routerLink",c.VKq(1,rU,"/profile/edit/"+t.idEditPerfil))}}const sU=function(){return["/home"]};function oU(n,e){if(1&n&&(c.TgZ(0,"div",1)(1,"aside",2)(2,"div",3),c._UZ(3,"input",4),c.qZA(),c.TgZ(4,"div",5)(5,"div",6),c._UZ(6,"img",7),c.TgZ(7,"h4",8),c._uU(8),c.qZA()(),c.TgZ(9,"div")(10,"table",9)(11,"tbody")(12,"tr",10)(13,"th",11),c._uU(14,"Correo"),c.qZA(),c.TgZ(15,"td"),c._uU(16),c.qZA()(),c.TgZ(17,"tr",10)(18,"th",11),c._uU(19,"Telefono"),c.qZA(),c.TgZ(20,"td"),c._uU(21),c.qZA()(),c.TgZ(22,"tr",10)(23,"th",11),c._uU(24,"Ubicaci\xf3n"),c.qZA(),c.TgZ(25,"td"),c._uU(26),c.qZA()(),c.TgZ(27,"tr",10)(28,"td"),c.YNc(29,iU,1,3,"input",12),c.qZA()()()()()()(),c.TgZ(30,"div"),c._UZ(31,"app-list-items",13),c.qZA()()),2&n){const t=c.oxw();c.xp6(3),c.Q6J("routerLink",c.DdM(8,sU)),c.xp6(3),c.s9C("src",t.usuario.imagen,c.LSH),c.xp6(2),c.Oqu(t.usuario.nombre.split(" ")[0]+" "+t.usuario.apellido.split(" ")[0]),c.xp6(8),c.Oqu(t.usuario.email),c.xp6(5),c.Oqu(t.usuario.telefono),c.xp6(5),c.Oqu(t.usuario.ubicacion),c.xp6(3),c.Q6J("ngIf",t.permiseEdit),c.xp6(2),c.Q6J("inputIdUserProfile",t.usuario.iduser)}}let aU=(()=>{class n{constructor(t,r,s){this.route=t,this.us=r,this.router=s,this.permiseEdit=!1,this.userLogged=!1,this.usuarioLocal=JSON.parse(localStorage.getItem("dataUser")||"[]"),this.idEditPerfil=this.usuarioLocal[0].iduser}ngOnInit(){this.route.params.subscribe(t=>{let{id:r}=t;console.log(r),this.obtenerUsuario(r),1==this.usuarioLocal.length&&(this.userLogged=!0,this.permiseEdit=parseInt(this.usuarioLocal[0].iduser)==parseInt(r)),r!=this.idEditPerfil&&this.router.navigate(["home"])})}obtenerUsuario(t){this.us.obtenerUsuario(t).subscribe(r=>{let s=r;0==s.length?this.router.navigate(["home"]):this.usuario=s[0]})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cs),c.Y36(VD),c.Y36(ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-profile"]],decls:3,vars:1,consts:[["class","container-fluid d-flex",4,"ngIf"],[1,"container-fluid","d-flex"],[1,"col-3","px-3","py-1","px-3","me-3","mt-3","d-flex","flex-column","border-end","border-secondary-subtle"],[1,"container-fluid","pt-2","pb-4","px-0"],["type","button","value","\u21d0 Volver",1,"btn","btn-dark",3,"routerLink"],[1,"d-flex","justify-content-center","flex-column","border-"],[1,"d-flex","align-items-center","flex-column"],["alt","",1,"img__profile","me-3","border","border-secondary",3,"src"],[1,"mx-2","my-3"],[1,"table"],[1,"d-flex","flex-wrap"],["scope","row"],["type","button","value","Editar Perfil","class","py-3 px-5 btn btn-danger text-light ",3,"routerLink",4,"ngIf"],[3,"inputIdUserProfile"],["type","button","value","Editar Perfil",1,"py-3","px-5","btn","btn-danger","text-light",3,"routerLink"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.YNc(1,oU,32,9,"div",0),c._UZ(2,"app-footer")),2&t&&(c.xp6(1),c.Q6J("ngIf",r.usuario))},dependencies:[Pi,Zo,If,LD,l1],styles:[".img__profile[_ngcontent-%COMP%]{width:85px;height:85px;box-sizing:border-box;object-fit:cover;border-radius:100%}"]}),n})();class PP{constructor(){return(0,pn.vb)("auth")}}const OP="firebasestorage.googleapis.com",kP="storageBucket";class Fr extends Jt.ZR{constructor(e,t,r=0){super(N1(e),`Firebase Storage: ${t} (${N1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return N1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var Ft=(()=>((Ft=Ft||{}).UNKNOWN="unknown",Ft.OBJECT_NOT_FOUND="object-not-found",Ft.BUCKET_NOT_FOUND="bucket-not-found",Ft.PROJECT_NOT_FOUND="project-not-found",Ft.QUOTA_EXCEEDED="quota-exceeded",Ft.UNAUTHENTICATED="unauthenticated",Ft.UNAUTHORIZED="unauthorized",Ft.UNAUTHORIZED_APP="unauthorized-app",Ft.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Ft.INVALID_CHECKSUM="invalid-checksum",Ft.CANCELED="canceled",Ft.INVALID_EVENT_NAME="invalid-event-name",Ft.INVALID_URL="invalid-url",Ft.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Ft.NO_DEFAULT_BUCKET="no-default-bucket",Ft.CANNOT_SLICE_BLOB="cannot-slice-blob",Ft.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Ft.NO_DOWNLOAD_URL="no-download-url",Ft.INVALID_ARGUMENT="invalid-argument",Ft.INVALID_ARGUMENT_COUNT="invalid-argument-count",Ft.APP_DELETED="app-deleted",Ft.INVALID_ROOT_OPERATION="invalid-root-operation",Ft.INVALID_FORMAT="invalid-format",Ft.INTERNAL_ERROR="internal-error",Ft.UNSUPPORTED_ENVIRONMENT="unsupported-environment",Ft))();function N1(n){return"storage/"+n}function P1(){return new Fr(Ft.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function O1(n){return new Fr(Ft.INVALID_ARGUMENT,n)}function VP(){return new Fr(Ft.APP_DELETED,"The Firebase app was deleted.")}function hE(n,e){return new Fr(Ft.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function fE(n){throw new Fr(Ft.INTERNAL_ERROR,"Internal error: "+n)}class Ws{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ws.makeFromUrl(e,t)}catch{return new Ws(e,"")}if(""===r.path)return r;throw function wU(n){return new Fr(Ft.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",g=new RegExp("^gs://"+s+"(/(.*))?$","i");function C(ot){ot.path_=decodeURIComponent(ot.path)}const M=t.replace(/[.]/g,"\\."),ze=[{regex:g,indices:{bucket:1,path:3},postModify:function u(ot){"/"===ot.path.charAt(ot.path.length-1)&&(ot.path_=ot.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:C},{regex:new RegExp(`^https?://${t===OP?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:C}];for(let ot=0;ot<ze.length;ot++){const Nt=ze[ot],Zt=Nt.regex.exec(e);if(Zt){let ra=Zt[Nt.indices.path];ra||(ra=""),r=new Ws(Zt[Nt.indices.bucket],ra),Nt.postModify(r);break}}if(null==r)throw function vU(n){return new Fr(Ft.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class TU{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function eT(n){return"string"==typeof n||n instanceof String}function BP(n){return k1()&&n instanceof Blob}function k1(){return typeof Blob<"u"&&!(0,Jt.UG)()}function F1(n,e,t,r){if(r<e)throw O1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw O1(`Invalid value for '${n}'. Expected ${t} or less.`)}function _d(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}var Do=(()=>((Do=Do||{})[Do.NO_ERROR=0]="NO_ERROR",Do[Do.NETWORK_ERROR=1]="NETWORK_ERROR",Do[Do.ABORT=2]="ABORT",Do))();class NU{constructor(e,t,r,s,u,d,g,_,C,T,M,j=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=g,this.errorCallback_=_,this.timeout_=C,this.progressCallback_=T,this.connectionFactory_=M,this.retry=j,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((K,ae)=>{this.resolve_=K,this.reject_=ae,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,d=this.reject_,g=s.connection;if(s.wasSuccessCode)try{const _=this.callback_(g,g.getResponse());!function xU(n){return void 0!==n}(_)?u():u(_)}catch(_){d(_)}else if(null!==g){const _=P1();_.serverResponse=g.getErrorText(),d(this.errorCallback_?this.errorCallback_(g,_):_)}else d(s.canceled?this.appDelete_?VP():function LP(){return new Fr(Ft.CANCELED,"User canceled the upload/download.")}():function FP(){return new Fr(Ft.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new tT(!1,null,!0)):this.backoffId_=function SU(n,e,t){let r=1,s=null,u=null,d=!1,g=0;function _(){return 2===g}let C=!1;function T(...ve){C||(C=!0,e.apply(null,ve))}function M(ve){s=setTimeout(()=>{s=null,n(K,_())},ve)}function j(){u&&clearTimeout(u)}function K(ve,...tt){if(C)return void j();if(ve)return j(),void T.call(null,ve,...tt);if(_()||d)return j(),void T.call(null,ve,...tt);let ze;r<64&&(r*=2),1===g?(g=2,ze=0):ze=1e3*(r+Math.random()),M(ze)}let ae=!1;function _e(ve){ae||(ae=!0,j(),!C&&(null!==s?(ve||(g=2),clearTimeout(s),M(0)):ve||(g=1)))}return M(0),u=setTimeout(()=>{d=!0,_e(!0)},t),_e}((r,s)=>{if(s)return void r(!1,new tT(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=g=>{null!==this.progressCallback_&&this.progressCallback_(g.loaded,g.lengthComputable?g.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const g=u.getErrorCode()===Do.NO_ERROR,_=u.getStatus();if(!g||function $P(n,e){const t=n>=500&&n<600,s=-1!==[408,429].indexOf(n),u=-1!==e.indexOf(n);return t||s||u}(_,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===Do.ABORT;return void r(!1,new tT(!1,null,T))}const C=-1!==this.successCodes_.indexOf(_);r(!0,new tT(C,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function AU(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class tT{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function VU(...n){const e=function UU(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(k1())return new Blob(n);throw new Fr(Ft.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Eu={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class L1{constructor(e,t){this.data=e,this.contentType=t||null}}function zP(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function GP(n,e){switch(n){case Eu.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw hE(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Eu.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw hE(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function jU(n){if(typeof atob>"u")throw function CU(n){return new Fr(Ft.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(s){throw s.message.includes("polyfill")?s:hE(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class qP{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw hE(Eu.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function GU(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class vd{constructor(e,t){let r=0,s="";BP(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(BP(this.data_)){const s=function BU(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new vd(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new vd(r,!0)}}static getBlob(...e){if(k1()){const t=e.map(r=>r instanceof vd?r.data_:r);return new vd(VU.apply(null,t))}{const t=e.map(d=>eT(d)?function HP(n,e){switch(n){case Eu.RAW:return new L1(zP(e));case Eu.BASE64:case Eu.BASE64URL:return new L1(GP(n,e));case Eu.DATA_URL:return new L1(function HU(n){const e=new qP(n);return e.base64?GP(Eu.BASE64,e.rest):function $U(n){let e;try{e=decodeURIComponent(n)}catch{throw hE(Eu.DATA_URL,"Malformed data URL.")}return zP(e)}(e.rest)}(e),function zU(n){return new qP(n).contentType}(e))}throw P1()}(Eu.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let g=0;g<d.length;g++)s[u++]=d[g]}),new vd(s,!0)}}uploadData(){return this.data_}}function ZP(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function WU(n,e){return e}class Ks{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||WU}}let nT=null;function WP(n,e,t){const r=function U1(n){let e;try{e=JSON.parse(n)}catch{return null}return function RU(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}(e);return null===r?null:function QU(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function YU(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new Ws(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}class qc{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function rT(n,e){return function t(r,s){const u=WP(n,s,e);return function Zc(n){if(!n)throw P1()}(null!==u),u}}function R_(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function yU(){return new Fr(Ft.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function mU(){return new Fr(Ft.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function gU(n){return new Fr(Ft.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function _U(n){return new Fr(Ft.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}}function eO(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},_=function g(){let ze="";for(let ot=0;ot<2;ot++)ze+=Math.random().toString().slice(2);return ze}();d["Content-Type"]="multipart/related; boundary="+_;const C=function XP(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function aV(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}(e,r,s),T=function V1(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}(C,t),K=vd.getBlob("--"+_+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+_+"\r\nContent-Type: "+C.contentType+"\r\n\r\n",r,"\r\n--"+_+"--");if(null===K)throw function UP(){return new Fr(Ft.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const ae={name:C.fullPath},_e=_d(u,n.host,n._protocol),tt=n.maxUploadRetryTime,mt=new qc(_e,"POST",rT(n,t),tt);return mt.urlParams=ae,mt.headers=d,mt.body=K.uploadData(),mt.errorHandler=R_(e),mt}let nO=null;class hV{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Do.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Do.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Do.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw fE("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw fE("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw fE("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw fE("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw fE("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class fV extends hV{initXhr(){this.xhr_.responseType="text"}}function Iu(){return nO?nO():new fV}class Qg{constructor(e,t){this._service=e,this._location=t instanceof Ws?t:Ws.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Qg(e,t)}get root(){const e=new Ws(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZP(this._location.path)}get storage(){return this._service}get parent(){const e=function qU(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new Ws(this._location.bucket,e);return new Qg(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function DU(n){return new Fr(Ft.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function rO(n,e,t){n._throwIfRoot("uploadBytes");const r=eO(n.storage,n._location,function pE(){if(nT)return nT;const n=[];n.push(new Ks("bucket")),n.push(new Ks("generation")),n.push(new Ks("metageneration")),n.push(new Ks("name","fullPath",!0));const t=new Ks("name");t.xform=function e(u,d){return function KU(n){return!eT(n)||n.length<2?n:ZP(n)}(d)},n.push(t);const s=new Ks("size");return s.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(s),n.push(new Ks("timeCreated")),n.push(new Ks("updated")),n.push(new Ks("md5Hash",null,!0)),n.push(new Ks("cacheControl",null,!0)),n.push(new Ks("contentDisposition",null,!0)),n.push(new Ks("contentEncoding",null,!0)),n.push(new Ks("contentLanguage",null,!0)),n.push(new Ks("contentType",null,!0)),n.push(new Ks("metadata","customMetadata",!0)),nT=n,nT}(),new vd(e,!0),t);return n.storage.makeRequestWithTokens(r,Iu).then(s=>({metadata:s,ref:n}))}function SV(n){n._throwIfRoot("deleteObject");const e=function oV(n,e){const r=_d(e.fullServerUrl(),n.host,n._protocol),g=new qc(r,"DELETE",function d(_,C){},n.maxOperationRetryTime);return g.successCodes=[200,204],g.errorHandler=function gE(n){const e=R_(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function pU(n){return new Fr(Ft.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}(e),g}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Iu)}function aO(n,e){if(n instanceof H1){const t=n;if(null==t._bucket)throw function EU(){return new Fr(Ft.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+kP+"' property when initializing the app?")}();const r=new Qg(t,t._bucket);return null!=e?aO(r,e):r}return void 0!==e?function oO(n,e){const t=function ZU(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new Ws(n._location.bucket,t);return new Qg(n.storage,r)}(n,e):n}function uO(n,e){const t=e?.[kP];return null==t?null:Ws.makeFromBucketSpec(t,n)}class H1{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=OP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?Ws.makeFromBucketSpec(s,this._host):uO(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Ws.makeFromBucketSpec(this._url,e):uO(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){F1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,be.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,be.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Qg(this,e)}_makeRequest(e,t,r,s,u=!0){if(this._deleted)return new TU(VP());{const d=function LU(n,e,t,r,s,u,d=!0){const g=function jP(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),_=n.url+g,C=Object.assign({},n.headers);return function kU(n,e){e&&(n["X-Firebase-GMPID"]=e)}(C,e),function PU(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(C,t),function OU(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(C,u),function FU(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(C,r),new NU(_,n.method,C,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,d)}(e,this._appId,r,s,t,this._firebaseVersion,u);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}makeRequestWithTokens(e,t){var r=this;return(0,be.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const cO="@firebase/storage",dO="storage";function NV(n,e,t){return rO(n=(0,Jt.m9)(n),e,t)}function PV(n){return SV(n=(0,Jt.m9)(n))}function OV(n,e){return function MV(n,e){if(e&&function AV(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof H1)return function xV(n,e){return new Qg(n,e)}(n,e);throw O1("To use ref(service, url), the first argument must be a Storage instance.")}return aO(n,e)}(n=(0,Jt.m9)(n),e)}function kV(n=(0,yo.getApp)(),e){n=(0,Jt.m9)(n);const r=(0,yo._getProvider)(n,dO).getImmediate({identifier:e}),s=(0,Jt.P0)("storage");return s&&function FV(n,e,t,r={}){!function RV(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,Jt.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(r,...s),r}function LV(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new H1(t,r,s,e,yo.SDK_VERSION)}!function UV(){(0,yo._registerComponent)(new mh.wA(dO,LV,"PUBLIC").setMultipleInstances(!0)),(0,yo.registerVersion)(cO,"0.11.2",""),(0,yo.registerVersion)(cO,"0.11.2","esm2017")}();class mE{constructor(e){return e}}const hO="storage",z1=new c.OlP("angularfire2.storage-instances");function jV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new mE(r)}}const $V={provide:class VV{constructor(){return(0,pn.vb)(hO)}},deps:[[new c.FiY,z1]]},HV={provide:mE,useFactory:function BV(n,e){const t=(0,pn.JM)(hO,n,e);return t&&new mE(t)},deps:[[new c.FiY,z1],Zg]};let zV=(()=>{class n{constructor(){(0,Ef.KN)("angularfire",pn.q4.full,"gcs")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[HV,$V]}),n})();function GV(n,...e){return{ngModule:zV,providers:[{provide:z1,useFactory:jV(n),multi:!0,deps:[c.R0b,c.zs3,pn.HU,GR,[new c.FiY,PP],[new c.FiY,OD],...e]}]}}const qV=(0,pn.u3)(PV,!0),ZV=(0,pn.u3)(kV,!0),G1=(0,pn.u3)(OV,!0),fO=(0,pn.u3)(NV,!0);function WV(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Cargando..."),c.qZA())}function KV(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",53),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.seleccionarCategoria(u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.nombre)}}function YV(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",53),c.NdJ("click",function(){const u=c.CHM(t).$implicit,d=c.oxw();return c.KtG(d.seleccionarEstado(u))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t)}}const QV=function(){return["/home"]},JV=function(){return["Nuevo","Usado"]};let XV=(()=>{class n{constructor(t,r,s,u,d){this.route=t,this.router=r,this.as=s,this.cs=u,this.storage=d,this.usuario=[],this.articuloNew={idarticulo:0,titulo:"",precio:"0",descripcion:"",fecha:"2022-01-01",situacion:"Disponible",imagen:"",categoria_idcategoria:0,user_iduser:"",estado:""},this.estadoCargando=!1,this.imgVistaPrevia="assets/imgs/no-image.png",this.categoriaSeleccionada="",this.estadoSeleccionado=""}ngOnInit(){this.usuario=JSON.parse(localStorage.getItem("dataUser")||"[]"),0==this.usuario.length?this.router.navigate([""]):this.articuloNew.user_iduser=this.usuario[0].iduser,this.cs.obtenerCategoria().subscribe(t=>{this.categorias=t,console.log(this.categorias)})}cargarImg(t){const r=t.target.files[0];if(console.log(r),this.estadoCargando=!0,r.size<5e6){const s=G1(this.storage,"images/"+(new Date).getTime());fO(s,r).then(u=>{this.imgVistaPrevia="https://firebasestorage.googleapis.com/v0/b/servicio1-bb772.appspot.com/o/images%2F"+u.metadata.name+"?alt=media&token=0a8f8d75-9e57-4ebc-821f-827b2595bd16",this.articuloNew.imagen=this.imgVistaPrevia,this.estadoCargando=!1}).catch(u=>{this.estadoCargando=!1,console.log(u)})}}crearArticulo(){""!=this.articuloNew.titulo&&""!=this.articuloNew.precio&&0!=this.articuloNew.categoria_idcategoria&&""!=this.articuloNew.estado&&""!=this.articuloNew.imagen?this.as.crearArticulo(this.articuloNew).subscribe(t=>{alert("se haa creado un nuevo articulo"),console.log(t)}):alert("Todavia faltan datos por llenar"),console.log(this.articuloNew)}seleccionarCategoria(t){this.articuloNew.categoria_idcategoria=t.idcategoria,this.categoriaSeleccionada=t.nombre,console.log("Categor\xeda seleccionada:",t.idcategoria)}seleccionarEstado(t){this.articuloNew.estado=t,this.estadoSeleccionado=t,console.log("Categor\xeda seleccionada:",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cs),c.Y36(ar),c.Y36(UD),c.Y36(Ht),c.Y36(mE))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-create-item"]],decls:109,vars:27,consts:[[1,"container-fluid","d-flex"],[1,"col-3","px-3","py-2","px-3","d-flex","flex-column","border-end","border-secondary-subtle"],[1,"container-fluid","py-4","px-0"],["type","button","value","\u21d0 Volver",1,"btn","btn-dark",3,"routerLink"],[1,"d-flex","justify-content-center","flex-column"],[1,"table"],[1,"d-flex","flex-wrap"],["scope","row",1,"p-0","m-0"],[1,"title__section"],["type","file","multiple","true",1,"form-control","border","border-danger",3,"change"],[4,"ngIf"],["type","text","aria-labelledby","passwordHelpInline","placeholder","Titulo","name","titulo",1,"form-control","border","border-danger",3,"ngModel","value","ngModelChange"],[1,"d-flex","flex-wrap","p-0","m-0"],["type","number","aria-labelledby","passwordHelpInline","placeholder","precio",1,"form-control","border","border-danger",3,"ngModel","value","ngModelChange"],[1,"form-control","border","border-danger"],["scope","row"],[1,"text-danger","m-0"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-danger","dropdown-toggle"],[1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngFor","ngForOf"],[1,"form-group"],["placeholder","Mas informaci\xf3n...","id","exampleFormControlTextarea1","rows","3",1,"form-control","border","border-danger",3,"ngModel","ngModelChange"],[1,"col-7","d-flex","mx-auto","alig-items-center","flex-column"],[1,"mt-4","mb-3","d-flex","justify-content-between"],["type","button","value","Crear",1,"btn","btn-dark","px-4",3,"click"],[1,"container","border","border-secondary","mx-auto","p-3","d-flex","justify-content-center","rounded"],[1,"col-6","me-2","flex-column"],["id","carouselExample",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["aria-hidden","true",1,"card"],[1,"card-body"],[1,"card-text","placeholder-glow"],[1,"placeholder","col-7"],[1,"placeholder","col-4"],[1,"placeholder","col-6"],[1,"placeholder","col-8"],[1,"col-5","d-flex","flex-column"],[1,"p-3","border","border-secondary","rounded"],[1,"d-flex","justify-content-between"],[1,"text-secondary"],[1,"p-3","border","border-secondary","rounded","my-3","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center"],["alt","",1,"img__profile","me-3","border","border-secondary",3,"src"],[1,"text-center"],["type","button","value","Ver perfil",1,"btn","btn-outline-dark","p-2","w-100","mt-3"],[1,"dropdown-item",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0)(2,"aside",1)(3,"div",2),c._UZ(4,"input",3),c.qZA(),c.TgZ(5,"div",4)(6,"table",5)(7,"tbody")(8,"tr",6)(9,"th",7)(10,"h4",8),c._uU(11,"Crear Articulo"),c.qZA()()(),c.TgZ(12,"tr",6)(13,"th",7),c._uU(14,"Imagenes"),c.qZA(),c.TgZ(15,"td")(16,"input",9),c.NdJ("change",function(u){return r.cargarImg(u)}),c.qZA(),c.YNc(17,WV,2,0,"p",10),c.qZA()(),c.TgZ(18,"tr",6)(19,"th",7),c._uU(20,"Titulo"),c.qZA(),c.TgZ(21,"td")(22,"input",11),c.NdJ("ngModelChange",function(u){return r.articuloNew.titulo=u}),c.qZA()()(),c.TgZ(23,"tr",12)(24,"th",7),c._uU(25,"Precio"),c.qZA(),c.TgZ(26,"td")(27,"input",13),c.NdJ("ngModelChange",function(u){return r.articuloNew.precio=u}),c.qZA()()(),c.TgZ(28,"tr",12)(29,"th",7),c._uU(30,"Fecha"),c.qZA(),c.TgZ(31,"td")(32,"p",14),c._uU(33),c.ALo(34,"date"),c.qZA()()(),c.TgZ(35,"tr",6)(36,"th",15),c._uU(37,"Categoria \u2192 "),c.TgZ(38,"p",16),c._uU(39),c.qZA()(),c.TgZ(40,"td")(41,"div",17)(42,"button",18),c._uU(43," Seleccione... "),c.qZA(),c.TgZ(44,"ul",19),c.YNc(45,KV,2,1,"li",20),c.qZA()()()(),c.TgZ(46,"tr",6)(47,"th",15),c._uU(48,"Estado \u2192 "),c.TgZ(49,"p",16),c._uU(50),c.qZA()(),c.TgZ(51,"td")(52,"div",17)(53,"button",18),c._uU(54," Seleccione... "),c.qZA(),c.TgZ(55,"ul",19),c.YNc(56,YV,2,1,"li",20),c.qZA()()()(),c.TgZ(57,"tr",6)(58,"th",15),c._uU(59,"Descripcion"),c.qZA(),c.TgZ(60,"td")(61,"div",21)(62,"textarea",22),c.NdJ("ngModelChange",function(u){return r.articuloNew.descripcion=u}),c._uU(63),c.qZA()()()()()()()(),c.TgZ(64,"div",23)(65,"div",24)(66,"h3"),c._uU(67,"Vista previa"),c.qZA(),c.TgZ(68,"input",25),c.NdJ("click",function(){return r.crearArticulo()}),c.qZA()(),c.TgZ(69,"div",26)(70,"div",27)(71,"div",28)(72,"div",29)(73,"div",30),c._UZ(74,"img",31),c.qZA()(),c.TgZ(75,"button",32),c._UZ(76,"span",33),c.TgZ(77,"span",34),c._uU(78,"Previous"),c.qZA()(),c.TgZ(79,"button",35),c._UZ(80,"span",36),c.TgZ(81,"span",34),c._uU(82,"Next"),c.qZA()()(),c.TgZ(83,"div",37)(84,"div",38)(85,"p",39),c._UZ(86,"span",40)(87,"span",41)(88,"span",41)(89,"span",42)(90,"span",43),c.qZA()()()(),c.TgZ(91,"div",44)(92,"div",45)(93,"h2"),c._uU(94),c.ALo(95,"currency"),c.qZA(),c.TgZ(96,"p"),c._uU(97),c.qZA(),c.TgZ(98,"div",46)(99,"small",47),c._uU(100),c.ALo(101,"date"),c.qZA()()(),c.TgZ(102,"div",48)(103,"div",49),c._UZ(104,"img",50),c.qZA(),c.TgZ(105,"div")(106,"h5",51),c._uU(107),c.qZA(),c._UZ(108,"input",52),c.qZA()()()()()()),2&t&&(c.xp6(4),c.Q6J("routerLink",c.DdM(25,QV)),c.xp6(13),c.Q6J("ngIf",r.estadoCargando),c.xp6(5),c.s9C("value",r.articuloNew.titulo),c.Q6J("ngModel",r.articuloNew.titulo),c.xp6(5),c.s9C("value",r.articuloNew.precio),c.Q6J("ngModel",r.articuloNew.precio),c.xp6(6),c.Oqu(c.lcZ(34,19,r.articuloNew.fecha)),c.xp6(6),c.Oqu(r.categoriaSeleccionada),c.xp6(6),c.Q6J("ngForOf",r.categorias),c.xp6(5),c.Oqu(r.estadoSeleccionado),c.xp6(6),c.Q6J("ngForOf",c.DdM(26,JV)),c.xp6(6),c.Q6J("ngModel",r.articuloNew.descripcion),c.xp6(1),c.Oqu(r.articuloNew.descripcion),c.xp6(11),c.s9C("src",r.imgVistaPrevia,c.LSH),c.xp6(20),c.Oqu(c.lcZ(95,21,r.articuloNew.precio)),c.xp6(3),c.Oqu(r.articuloNew.titulo),c.xp6(3),c.Oqu(c.lcZ(101,23,r.articuloNew.fecha)),c.xp6(4),c.s9C("src",r.usuario[0].imagen,c.LSH),c.xp6(3),c.Oqu(r.usuario[0].nombre))},dependencies:[Js,Pi,Zo,bf,JD,S_,Kg,If,Mo,Dn],styles:[".img__profile[_ngcontent-%COMP%]{width:85px;height:85px;box-sizing:border-box;object-fit:cover;border-radius:100%}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d4d4d4}.title__section[_ngcontent-%COMP%]{border-bottom:2px solid #282828;padding-bottom:5px}"]}),n})(),eB=(()=>{class n{constructor(t){this.route=t,this.valorDelPadre=""}ngOnInit(){this.route.params.subscribe(t=>{let{nombre:r}=t;this.onValueChanged(r)})}onValueChanged(t){this.valorDelPadre=t,console.log(this.valorDelPadre)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-category"]],decls:5,vars:2,consts:[[1,"container-fluid","bg-dark"],[1,"text-center","py-5","text-light"],[3,"valorDelPadre"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0)(2,"h1",1),c._uU(3),c.qZA()(),c._UZ(4,"app-list-items",2)),2&t&&(c.xp6(3),c.Oqu(r.valorDelPadre),c.xp6(1),c.Q6J("valorDelPadre",r.valorDelPadre))},dependencies:[If,l1]}),n})();function tB(n,e){1&n&&(c.TgZ(0,"p"),c._uU(1,"Cargando... Espera por favor"),c.qZA())}function nB(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2)(1,"aside",3)(2,"div",4)(3,"div",5),c._UZ(4,"img",6),c.TgZ(5,"h4",7),c._uU(6),c.qZA()(),c.TgZ(7,"div")(8,"table",8)(9,"tbody")(10,"tr",9)(11,"th",10),c._uU(12,"Correo"),c.qZA(),c.TgZ(13,"td"),c._uU(14),c.qZA()(),c.TgZ(15,"tr",9)(16,"th",10),c._uU(17,"Telefono"),c.qZA(),c.TgZ(18,"td"),c._uU(19),c.qZA()(),c.TgZ(20,"tr",9)(21,"th",10),c._uU(22,"Ubicaci\xf3n"),c.qZA(),c.TgZ(23,"td"),c._uU(24),c.qZA()(),c._UZ(25,"tr",9),c.qZA()()()()(),c.TgZ(26,"div",11)(27,"div",12)(28,"form",13)(29,"div",14)(30,"h1"),c._uU(31,"Editar perfil"),c.qZA()(),c.TgZ(32,"div",15)(33,"input",16),c.NdJ("ngModelChange",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.usuarioEdit.nombre=s)}),c.qZA()(),c.TgZ(34,"div",15)(35,"input",17),c.NdJ("ngModelChange",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.usuarioEdit.apellido=s)}),c.qZA()(),c.TgZ(36,"div",15)(37,"input",18),c.NdJ("ngModelChange",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.usuarioEdit.telefono=s)}),c.qZA()(),c.TgZ(38,"div",15)(39,"input",19),c.NdJ("ngModelChange",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.usuarioEdit.email=s)}),c.qZA()(),c.TgZ(40,"div",15)(41,"select",20)(42,"option",21),c._uU(43),c.qZA(),c.TgZ(44,"option"),c._uU(45,"..."),c.qZA()()(),c.TgZ(46,"div",22)(47,"div"),c._UZ(48,"img",6),c.qZA(),c.TgZ(49,"div",23)(50,"h5"),c._uU(51),c.qZA(),c.TgZ(52,"input",24),c.NdJ("change",function(s){c.CHM(t);const u=c.oxw();return c.KtG(u.cambiarFotoPerfil(s))}),c.qZA(),c.YNc(53,tB,2,0,"p",25),c.qZA()(),c.TgZ(54,"div",26)(55,"button",27),c.NdJ("click",function(){c.CHM(t);const s=c.oxw();return c.KtG(s.editarUsuario())}),c._uU(56,"Guardar"),c.qZA()()()()()()}if(2&n){const t=c.oxw();c.xp6(4),c.s9C("src",t.usuario.imagen,c.LSH),c.xp6(2),c.Oqu(t.usuario.nombre.split(" ")[0]+" "+t.usuario.apellido.split(" ")[0]),c.xp6(8),c.Oqu(t.usuario.email),c.xp6(5),c.Oqu(t.usuario.telefono),c.xp6(5),c.Oqu(t.usuario.ubicacion),c.xp6(9),c.s9C("value",t.usuario.nombre),c.Q6J("ngModel",t.usuarioEdit.nombre),c.xp6(2),c.s9C("value",t.usuario.apellido),c.Q6J("ngModel",t.usuarioEdit.apellido),c.xp6(2),c.s9C("value",t.usuario.telefono),c.Q6J("ngModel",t.usuarioEdit.telefono),c.xp6(2),c.s9C("value",t.usuario.email),c.Q6J("disabled",!0)("ngModel",t.usuarioEdit.email),c.xp6(4),c.Oqu(t.usuarioEdit.ubicacion),c.xp6(5),c.s9C("src",t.imgPreview,c.LSH),c.xp6(3),c.Oqu(t.usuarioEdit.nombre.split(" ")[0]+" "+t.usuarioEdit.apellido.split(" ")[0]),c.xp6(2),c.Q6J("ngIf",t.estadoCargando)}}let rB=(()=>{class n{constructor(t,r,s,u){this.route=t,this.us=r,this.storage=s,this.router=u,this.usuarioLocal=JSON.parse(localStorage.getItem("dataUser")||"[]"),this.idEditPerfil=this.usuarioLocal[0].iduser,this.usuario={},this.usuarioEdit={},this.passwordAnterior="",this.passwordNueva="",this.estadoCargando=!1,this.imgPreview=""}ngOnInit(){this.route.params.subscribe(t=>{let{id:r}=t;this.us.obtenerUsuario(r).subscribe(s=>{this.usuario=s[0];const{iduser:d,nombre:g,apellido:_,ubicacion:C,email:T,imagen:M,telefono:j}=this.usuario;this.usuarioEdit={iduser:d,nombre:g,apellido:_,ubicacion:C,email:T,imagen:M,telefono:j},this.imgPreview=this.usuarioEdit.imagen}),r!=this.idEditPerfil&&this.router.navigate(["home"])})}editarUsuario(){console.log(this.usuarioEdit),this.eliminarImg(this.usuario.imagen),this.us.editarUsuario(this.usuarioEdit).subscribe(t=>{this.us.obtenerUsuario(this.usuarioEdit.iduser)})}cambiarPassword(){this.passwordAnterior==this.usuario.password?(this.us.cambiarPassword(this.usuario.iduser,{password:this.passwordNueva}).subscribe(t=>{alert("Nueva contrase\xf1a actualizada")}),alert("Nueva contrase\xf1a actualizada"),this.us.obtenerUsuario(this.usuario.iduser),this.passwordAnterior="",this.passwordNueva=""):alert("ups la contrase\xf1a anterior es incorrecta")}cambiarFotoPerfil(t){const r=t.target.files[0];if(console.log(r),this.estadoCargando=!0,r.size<5e6){const s=G1(this.storage,"images/"+(new Date).getTime());fO(s,r).then(u=>{this.imgPreview="https://firebasestorage.googleapis.com/v0/b/servicio1-bb772.appspot.com/o/images%2F"+u.metadata.name+"?alt=media&token=f9966959-bb3f-4636-8eeb-de87626e36c2",this.estadoCargando=!1,this.usuarioEdit.imagen=this.imgPreview,this.us.obtenerUsuario(this.usuarioEdit.iduser).subscribe(d=>{this.usuario=d[0]})}).catch(u=>{this.estadoCargando=!1,console.log(u),this.us.obtenerUsuario(this.usuarioEdit.iduser)})}else alert("Ups, Al parecer la imagen que intentas cargar pesa demasiado")}eliminarImg(t){this.estadoCargando=!0;let s="images/"+t.substring(t.lastIndexOf("%2F")+3,t.lastIndexOf("?alt"));const u=G1(this.storage,s);qV(u).then(()=>{console.log("Imagen eliminada con \xe9xito:",s),this.estadoCargando=!1}).catch(d=>{this.estadoCargando=!1,console.error("Error al eliminar la imagen:",s,d)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cs),c.Y36(VD),c.Y36(mE),c.Y36(ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit-profile"]],decls:3,vars:1,consts:[[1,"container-fluid"],["class","container-fluid d-flex",4,"ngIf"],[1,"container-fluid","d-flex"],[1,"col-3","px-3","py-5","px-3","me-3","mt-3","d-flex","flex-column","border-end","border-secondary-subtle"],[1,"d-flex","justify-content-center","flex-column","border-"],[1,"d-flex","align-items-center","flex-column"],["alt","",1,"img__profile","me-3","border","border-secondary",3,"src"],[1,"mx-2","my-3"],[1,"table"],[1,"d-flex","flex-wrap"],["scope","row"],[1,"d-flex","justify-content-center","alig-items-center","pt-5"],[1,"container-fluid","d-flex","justify-content-center","align-items-center","flex-column","h-100Por","w-75"],[1,"row","g-3","border","border-secondary","rounded","px-4"],[1,"mt-3","mb-0","d-flex","justify-content-center"],[1,"col-md-6"],["type","text","placeholder","Nombre(s)","name","nombre",1,"form-control","border","border-secondary","mx-1",3,"ngModel","value","ngModelChange"],["type","text","id","inputAddress","placeholder","Apellido(s)","name","apellido",1,"form-control","border","border-secondary","mx-1",3,"ngModel","value","ngModelChange"],["type","text","id","inputAddress2","placeholder","Telefono","name","telefono",1,"form-control","border","border-secondary","mx-1",3,"ngModel","value","ngModelChange"],["type","email","id","inputEmail4","placeholder","Correo","name","email",1,"form-control","border","border-secondary","mx-1","disabled",3,"disabled","ngModel","value","ngModelChange"],["id","inputState",1,"form-select","border","border-secondary","mx-2"],["selected",""],[1,"col-md-12","d-flex","alig-items-center","justify-content-center","border","border-secondary","rounded","p-3"],[1,"d-flex","flex-column","alig-items-center","justify-content-center"],["type","file",1,"form-control","border","border-secondary",3,"change"],[4,"ngIf"],[1,"col-12"],["type","submit",1,"btn","btn-danger","p-3","w-100","mb-4",3,"click"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0),c.YNc(2,nB,57,18,"div",1),c.qZA()),2&t&&(c.xp6(2),c.Q6J("ngIf",r.usuario))},dependencies:[Pi,QD,T1,A1,bf,S_,$D,Kg,M_,If],styles:[".img__profile[_ngcontent-%COMP%]{width:85px;height:85px;box-sizing:border-box;object-fit:cover;border-radius:100%}"]}),n})();const iB=function(){return["/home"]},sB=function(n){return[n]},oB=[{path:"login",component:Q2},{path:"category/:nombre",component:eB},{path:"register",component:Z2},{path:"profile/:id",component:aU},{path:"profile/edit/:id",component:rB,canActivate:[(()=>{class n{constructor(t){this.route=t,this.user=JSON.parse(localStorage.getItem("dataUser")||"[]")}canActivate(){return!!this.hasUser()||(this.route.navigate(["/home"]),!1)}hasUser(){return 1==this.user.length}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ar))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]},{path:"item/new",component:XV},{path:"item/edit/:id",component:(()=>{class n{constructor(t,r,s){this.route=t,this.as=r,this.router=s,this.usuarioLocal=JSON.parse(localStorage.getItem("dataUser")||"[]"),this.idEditPerfil=this.usuarioLocal[0].iduser,this.creadorArticulo=0,this.articulo={},this.articuloEdit={idarticulo:this.articulo.idarticulo,titulo:this.articulo.titulo,precio:this.articulo.precio,descripcion:this.articulo.descripcion,fecha:"2023-01-01",situacion:this.articulo.situacion,imagen:this.articulo.imagen,categoria_idcategoria:1,user_iduser:1,estado:this.articulo.estado}}ngOnInit(){this.route.params.subscribe(t=>{let{id:r}=t;this.as.obtenerArticuloDB(r).subscribe(s=>{console.log(s);let u=s;this.articulo=u[0];const{idarticulo:d,titulo:g,precio:_,fecha:C,situacion:T,descripcion:M,imagen:j,estado:K}=this.articulo;this.articuloEdit={idarticulo:d,titulo:g,precio:_,fecha:C,situacion:T,descripcion:M,imagen:j,estado:K},console.log(this.articuloEdit),this.creadorArticulo=u[0].user_iduser.id})})}editarArticulo(){this.articuloEdit.fecha="2023-01-01",this.articuloEdit.categoria_idcategoria=1,this.articuloEdit.user_iduser=1,console.log(this.articuloEdit),this.as.editarArticuloDB(this.articuloEdit).subscribe(t=>{console.log(t),alert("se logro actualizar el articulo"),this.as.obtenerArticuloDB(this.articulo.idarticulo)})}eliminarArticulo(){"si"==prompt("seguro quieres eliminar el articulo? (si | no)")?this.as.eliminarArticulo(this.articulo.idarticulo).subscribe(()=>{alert("se ha eliminado el articulo correctamente"),setTimeout(()=>{this.router.navigate(["/home"])},2e3)}):alert("Casi borras el articulo")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Cs),c.Y36(UD),c.Y36(ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edir-item"]],decls:133,vars:27,consts:[[1,"container-fluid","d-flex"],[1,"col-3","py-2","px-3","d-flex","flex-column","border-end","border-secondary-subtle"],[1,"container-fluid","py-4","px-0"],["type","button","value","\u21d0 Volver",1,"btn","btn-dark",3,"routerLink"],[1,"d-flex","justify-content-center","flex-column"],[1,"table"],[1,"d-flex","flex-wrap"],["scope","row",1,"p-0","m-0"],[1,"title__section"],["type","file","multiple","true",1,"form-control","border","border-danger"],["type","text","aria-labelledby","passwordHelpInline","placeholder","Titulo",1,"form-control","border","border-danger",3,"ngModel","value","ngModelChange"],[1,"d-flex","flex-wrap","p-0","m-0"],["type","number","aria-labelledby","passwordHelpInline","placeholder","precio",1,"form-control","border","border-danger",3,"ngModel","value","ngModelChange"],[1,"form-control","border","border-danger"],["scope","row"],[1,"dropdown"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-danger","dropdown-toggle"],[1,"dropdown-menu"],[1,"dropdown-item"],[1,"form-group"],["placeholder","Mas informaci\xf3n...","id","exampleFormControlTextarea1","rows","3",1,"form-control","border","border-danger",3,"ngModel","ngModelChange"],[1,"col-7","d-flex","mx-auto","alig-items-center","flex-column"],[1,"mt-4","mb-3","d-flex","justify-content-between"],["type","button","value","Eliminar articulo",1,"btn","btn-outline-danger","px-4","mx-2",3,"click"],["type","button","value","Guardar",1,"btn","btn-dark","px-4",3,"click"],[1,"container","border","border-secondary","mx-auto","p-3","d-flex","justify-content-center","rounded"],[1,"col-6","me-2","flex-column"],["id","carouselExample",1,"carousel","slide"],[1,"carousel-inner"],[1,"carousel-item","active"],["alt","...",1,"d-block","w-100",3,"src"],["type","button","data-bs-target","#carouselExample","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExample","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["aria-hidden","true",1,"card"],[1,"card-body"],[1,"card-text","placeholder-glow"],[1,"placeholder","col-7"],[1,"placeholder","col-4"],[1,"placeholder","col-6"],[1,"placeholder","col-8"],[1,"col-5","d-flex","flex-column"],[1,"p-3","border","border-secondary","rounded"],[1,"d-flex","justify-content-between"],[1,"text-secondary"],[1,"p-3","border","border-secondary","rounded","my-3","d-flex","align-items-center","justify-content-center"],[1,"d-flex","align-items-center"],["alt","",1,"img__profile","me-3","border","border-secondary",3,"src"],[1,"text-center"],["type","button","value","Ver perfil",1,"btn","btn-outline-dark","p-2","w-100","mt-3",3,"routerLink"]],template:function(t,r){1&t&&(c._UZ(0,"app-header"),c.TgZ(1,"div",0)(2,"aside",1)(3,"div",2),c._UZ(4,"input",3),c.qZA(),c.TgZ(5,"div",4)(6,"table",5)(7,"tbody")(8,"tr",6)(9,"th",7)(10,"h4",8),c._uU(11,"Editar Articulo"),c.qZA()()(),c.TgZ(12,"tr",6)(13,"th",7),c._uU(14,"Imagenes"),c.qZA(),c.TgZ(15,"td"),c._UZ(16,"input",9),c.qZA()(),c.TgZ(17,"tr",6)(18,"th",7),c._uU(19,"Titulo"),c.qZA(),c.TgZ(20,"td")(21,"input",10),c.NdJ("ngModelChange",function(u){return r.articuloEdit.titulo=u}),c.qZA()()(),c.TgZ(22,"tr",11)(23,"th",7),c._uU(24,"Precio"),c.qZA(),c.TgZ(25,"td")(26,"input",12),c.NdJ("ngModelChange",function(u){return r.articuloEdit.precio=u}),c.qZA()()(),c.TgZ(27,"tr",11)(28,"th",7),c._uU(29,"Fecha"),c.qZA(),c.TgZ(30,"td")(31,"p",13),c._uU(32),c.ALo(33,"date"),c.qZA()()(),c.TgZ(34,"tr",6)(35,"th",14),c._uU(36,"Categoria"),c.qZA(),c.TgZ(37,"td")(38,"div",15)(39,"button",16),c._uU(40," Seleccione... "),c.qZA(),c.TgZ(41,"ul",17)(42,"li",18),c._uU(43),c.qZA(),c.TgZ(44,"li",18),c._uU(45,"Hogar"),c.qZA(),c.TgZ(46,"li",18),c._uU(47,"Ropa"),c.qZA(),c.TgZ(48,"li",18),c._uU(49,"Belleza"),c.qZA(),c.TgZ(50,"li",18),c._uU(51,"Accesorios"),c.qZA(),c.TgZ(52,"li",18),c._uU(53,"Entretenimiento"),c.qZA(),c.TgZ(54,"li",18),c._uU(55,"Electroica"),c.qZA(),c.TgZ(56,"li",18),c._uU(57,"Aficiones"),c.qZA(),c.TgZ(58,"li",18),c._uU(59,"Servicios"),c.qZA()()()()(),c.TgZ(60,"tr",6)(61,"th",14),c._uU(62,"Estado"),c.qZA(),c.TgZ(63,"td")(64,"div",15)(65,"button",16),c._uU(66," Seleccione... "),c.qZA(),c.TgZ(67,"ul",17)(68,"li",18),c._uU(69),c.qZA(),c.TgZ(70,"li",18),c._uU(71," nuevo"),c.qZA(),c.TgZ(72,"li",18),c._uU(73,"usado"),c.qZA(),c.TgZ(74,"li",18),c._uU(75,"aceptable"),c.qZA()()()()(),c.TgZ(76,"tr",6)(77,"th",14),c._uU(78,"Descripcion"),c.qZA(),c.TgZ(79,"td")(80,"div",19)(81,"textarea",20),c.NdJ("ngModelChange",function(u){return r.articuloEdit.descripcion=u}),c._uU(82),c.qZA()()()()()()()(),c.TgZ(83,"div",21)(84,"div",22)(85,"div")(86,"h3"),c._uU(87,"Vista previa"),c.qZA()(),c.TgZ(88,"div")(89,"input",23),c.NdJ("click",function(){return r.eliminarArticulo()}),c.qZA(),c.TgZ(90,"input",24),c.NdJ("click",function(){return r.editarArticulo()}),c.qZA()()(),c.TgZ(91,"div",25)(92,"div",26)(93,"div",27)(94,"div",28)(95,"div",29),c._UZ(96,"img",30),c.qZA()(),c.TgZ(97,"button",31),c._UZ(98,"span",32),c.TgZ(99,"span",33),c._uU(100,"Previous"),c.qZA()(),c.TgZ(101,"button",34),c._UZ(102,"span",35),c.TgZ(103,"span",33),c._uU(104,"Next"),c.qZA()()(),c.TgZ(105,"div",36)(106,"div",37)(107,"p",38),c._UZ(108,"span",39)(109,"span",40)(110,"span",40)(111,"span",41)(112,"span",42),c.qZA()()()(),c.TgZ(113,"div",43)(114,"div",44)(115,"h2"),c._uU(116),c.ALo(117,"currency"),c.qZA(),c.TgZ(118,"p"),c._uU(119),c.qZA(),c.TgZ(120,"div",45)(121,"em"),c._uU(122),c.qZA(),c.TgZ(123,"small",46),c._uU(124),c.ALo(125,"date"),c.qZA()()(),c.TgZ(126,"div",47)(127,"div",48),c._UZ(128,"img",49),c.qZA(),c.TgZ(129,"div")(130,"h5",50),c._uU(131),c.qZA(),c._UZ(132,"input",51),c.qZA()()()()()()),2&t&&(c.xp6(4),c.Q6J("routerLink",c.DdM(24,iB)),c.xp6(17),c.s9C("value",r.articulo.titulo),c.Q6J("ngModel",r.articuloEdit.titulo),c.xp6(5),c.s9C("value",r.articulo.precio),c.Q6J("ngModel",r.articuloEdit.precio),c.xp6(6),c.Oqu(c.lcZ(33,18,r.articuloEdit.fecha)),c.xp6(11),c.Oqu(r.articulo.categoria_idcategoria.nombre),c.xp6(26),c.Oqu(r.articulo.estado),c.xp6(12),c.Q6J("ngModel",r.articuloEdit.descripcion),c.xp6(1),c.Oqu(r.articulo.descripcion),c.xp6(14),c.s9C("src",r.articulo.imagen,c.LSH),c.xp6(20),c.Oqu(c.lcZ(117,20,r.articuloEdit.precio)),c.xp6(3),c.Oqu(r.articuloEdit.titulo),c.xp6(3),c.hij("",r.articulo.user_iduser.ubicacion,", Colombia"),c.xp6(2),c.Oqu(c.lcZ(125,22,r.articulo.fecha)),c.xp6(4),c.s9C("src",r.articulo.user_iduser.imagen,c.LSH),c.xp6(3),c.Oqu(r.articulo.user_iduser.nombre),c.xp6(1),c.Q6J("routerLink",c.VKq(25,sB,"/profile/"+r.articulo.user_iduser.id)))},dependencies:[Zo,bf,JD,S_,Kg,If,Mo,Dn],styles:[".img__profile[_ngcontent-%COMP%]{width:85px;height:85px;box-sizing:border-box;object-fit:cover;border-radius:100%}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#d4d4d4}.title__section[_ngcontent-%COMP%]{border-bottom:2px solid #282828;padding-bottom:5px}"]}),n})()},{path:"item/:id",component:tU},{path:"setting",component:nU},{path:"",redirectTo:"home",pathMatch:"full"},{path:"**",component:WL}];let aB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[$m.forRoot(oB),$m]}),n})(),uB=(()=>{class n{constructor(){this.title="olx"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},dependencies:[z_]}),n})();class q1{constructor(e){return e}}const pO="firestore",Z1=new c.OlP("angularfire2.firestore-instances"),hB={provide:class cB{constructor(){return(0,pn.vb)(pO)}},deps:[[new c.FiY,Z1]]},fB={provide:q1,useFactory:function lB(n,e){const t=(0,pn.JM)(pO,n,e);return t&&new q1(t)},deps:[[new c.FiY,Z1],Zg]};let gO=(()=>{class n{constructor(){(0,Ef.KN)("angularfire",pn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[fB,hB]}),n})();const mO_firebase={projectId:"servicio1-bb772",appId:"1:14216898254:web:cf298afcf9be699919529f",storageBucket:"servicio1-bb772.appspot.com",locationId:"us-central",apiKey:"AIzaSyCZ6WIJa528x1FPy0kF1e7a5FqtMXWwmJk",authDomain:"servicio1-bb772.firebaseapp.com",messagingSenderId:"14216898254"};let pB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[uB]}),n.\u0275inj=c.cJS({providers:[TN],imports:[_l,aB,H2,CM,$L,_o.hO.initializeApp(mO_firebase),uL,gO,mF(()=>yF(mO_firebase)),GV(()=>ZV())]}),n})();Hu().bootstrapModule(pB).catch(n=>console.error(n))},5619:(ft,Se,L)=>{L.d(Se,{X:()=>B});var c=L(8645);class B extends c.x{constructor(Q){super(),this._value=Q}get value(){return this.getValue()}_subscribe(Q){const ie=super._subscribe(Q);return!ie.closed&&Q.next(this._value),ie}getValue(){const{hasError:Q,thrownError:ie,_value:ge}=this;if(Q)throw ie;return this._throwIfClosed(),ge}next(Q){super.next(this._value=Q)}}},5592:(ft,Se,L)=>{L.d(Se,{y:()=>Me});var c=L(1887),B=L(7394),P=L(4850),Q=L(8407),ie=L(2653),ge=L(4674),we=L(1441);let Me=(()=>{class ne{constructor(Re){Re&&(this._subscribe=Re)}lift(Re){const Ze=new ne;return Ze.source=this,Ze.operator=Re,Ze}subscribe(Re,Ze,Ne){const We=function G(ne){return ne&&ne instanceof c.Lv||function H(ne){return ne&&(0,ge.m)(ne.next)&&(0,ge.m)(ne.error)&&(0,ge.m)(ne.complete)}(ne)&&(0,B.Nn)(ne)}(Re)?Re:new c.Hp(Re,Ze,Ne);return(0,we.x)(()=>{const{operator:ke,source:vt}=this;We.add(ke?ke.call(We,vt):vt?this._subscribe(We):this._trySubscribe(We))}),We}_trySubscribe(Re){try{return this._subscribe(Re)}catch(Ze){Re.error(Ze)}}forEach(Re,Ze){return new(Ze=ye(Ze))((Ne,We)=>{const ke=new c.Hp({next:vt=>{try{Re(vt)}catch(ut){We(ut),ke.unsubscribe()}},error:We,complete:Ne});this.subscribe(ke)})}_subscribe(Re){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Re)}[P.L](){return this}pipe(...Re){return(0,Q.U)(Re)(this)}toPromise(Re){return new(Re=ye(Re))((Ze,Ne)=>{let We;this.subscribe(ke=>We=ke,ke=>Ne(ke),()=>Ze(We))})}}return ne.create=Fe=>new ne(Fe),ne})();function ye(ne){var Fe;return null!==(Fe=ne??ie.config.Promise)&&void 0!==Fe?Fe:Promise}},8645:(ft,Se,L)=>{L.d(Se,{x:()=>we});var c=L(5592),B=L(7394);const Q=(0,L(2306).d)(ye=>function(){ye(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=L(9039),ge=L(1441);let we=(()=>{class ye extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const ne=new Me(this,this);return ne.operator=G,ne}_throwIfClosed(){if(this.closed)throw new Q}next(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(G)}})}error(G){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:ne}=this;for(;ne.length;)ne.shift().error(G)}})}complete(){(0,ge.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:ne,isStopped:Fe,observers:Re}=this;return ne||Fe?B.Lc:(this.currentObservers=null,Re.push(G),new B.w0(()=>{this.currentObservers=null,(0,ie.P)(Re,G)}))}_checkFinalizedStatuses(G){const{hasError:ne,thrownError:Fe,isStopped:Re}=this;ne?G.error(Fe):Re&&G.complete()}asObservable(){const G=new c.y;return G.source=this,G}}return ye.create=(H,G)=>new Me(H,G),ye})();class Me extends we{constructor(H,G){super(),this.destination=H,this.source=G}next(H){var G,ne;null===(ne=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===ne||ne.call(G,H)}error(H){var G,ne;null===(ne=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===ne||ne.call(G,H)}complete(){var H,G;null===(G=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===G||G.call(H)}_subscribe(H){var G,ne;return null!==(ne=null===(G=this.source)||void 0===G?void 0:G.subscribe(H))&&void 0!==ne?ne:B.Lc}}},1887:(ft,Se,L)=>{L.d(Se,{Hp:()=>Ne,Lv:()=>ne});var c=L(4674),B=L(7394),P=L(2653),Q=L(3894);function ie(){}const ge=ye("C",void 0,void 0);function ye(te,Ce,se){return{kind:te,value:Ce,error:se}}var H=L(7599),G=L(1441);class ne extends B.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,B.Nn)(Ce)&&Ce.add(this)):this.destination=ut}static create(Ce,se,me){return new Ne(Ce,se,me)}next(Ce){this.isStopped?vt(function Me(te){return ye("N",te,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?vt(function we(te){return ye("E",void 0,te)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?vt(ge,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Fe=Function.prototype.bind;function Re(te,Ce){return Fe.call(te,Ce)}class Ze{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:se}=this;if(se.next)try{se.next(Ce)}catch(me){We(me)}}error(Ce){const{partialObserver:se}=this;if(se.error)try{se.error(Ce)}catch(me){We(me)}else We(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(se){We(se)}}}class Ne extends ne{constructor(Ce,se,me){let Oe;if(super(),(0,c.m)(Ce)||!Ce)Oe={next:Ce??void 0,error:se??void 0,complete:me??void 0};else{let X;this&&P.config.useDeprecatedNextContext?(X=Object.create(Ce),X.unsubscribe=()=>this.unsubscribe(),Oe={next:Ce.next&&Re(Ce.next,X),error:Ce.error&&Re(Ce.error,X),complete:Ce.complete&&Re(Ce.complete,X)}):Oe=Ce}this.destination=new Ze(Oe)}}function We(te){P.config.useDeprecatedSynchronousErrorHandling?(0,G.O)(te):(0,Q.h)(te)}function vt(te,Ce){const{onStoppedNotification:se}=P.config;se&&H.z.setTimeout(()=>se(te,Ce))}const ut={closed:!0,next:ie,error:function ke(te){throw te},complete:ie}},7394:(ft,Se,L)=>{L.d(Se,{Lc:()=>ge,w0:()=>ie,Nn:()=>we});var c=L(4674);const P=(0,L(2306).d)(ye=>function(G){ye(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((ne,Fe)=>`${Fe+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var Q=L(9039);class ie{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const Re of G)Re.remove(this);else G.remove(this);const{initialTeardown:ne}=this;if((0,c.m)(ne))try{ne()}catch(Re){H=Re instanceof P?Re.errors:[Re]}const{_finalizers:Fe}=this;if(Fe){this._finalizers=null;for(const Re of Fe)try{Me(Re)}catch(Ze){H=H??[],Ze instanceof P?H=[...H,...Ze.errors]:H.push(Ze)}}if(H)throw new P(H)}}add(H){var G;if(H&&H!==this)if(this.closed)Me(H);else{if(H instanceof ie){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(H)}}_hasParent(H){const{_parentage:G}=this;return G===H||Array.isArray(G)&&G.includes(H)}_addParent(H){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(H),G):G?[G,H]:H}_removeParent(H){const{_parentage:G}=this;G===H?this._parentage=null:Array.isArray(G)&&(0,Q.P)(G,H)}remove(H){const{_finalizers:G}=this;G&&(0,Q.P)(G,H),H instanceof ie&&H._removeParent(this)}}ie.EMPTY=(()=>{const ye=new ie;return ye.closed=!0,ye})();const ge=ie.EMPTY;function we(ye){return ye instanceof ie||ye&&"closed"in ye&&(0,c.m)(ye.remove)&&(0,c.m)(ye.add)&&(0,c.m)(ye.unsubscribe)}function Me(ye){(0,c.m)(ye)?ye():ye.unsubscribe()}},2653:(ft,Se,L)=>{L.d(Se,{config:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(ft,Se,L)=>{L.d(Se,{E:()=>B});const B=new(L(5592).y)(ie=>ie.complete())},2459:(ft,Se,L)=>{L.d(Se,{D:()=>Ce});var c=L(4829),B=L(3093),P=L(5137),ge=L(5592),Me=L(4971),ye=L(4674),H=L(7103);function ne(se,me){if(!se)throw new Error("Iterable cannot be null");return new ge.y(Oe=>{(0,H.f)(Oe,me,()=>{const X=se[Symbol.asyncIterator]();(0,H.f)(Oe,me,()=>{X.next().then(nt=>{nt.done?Oe.complete():Oe.next(nt.value)})},0,!0)})})}var Fe=L(8382),Re=L(4026),Ze=L(4266),Ne=L(3664),We=L(5726),ke=L(9853),vt=L(541);function Ce(se,me){return me?function te(se,me){if(null!=se){if((0,Fe.c)(se))return function Q(se,me){return(0,c.Xf)(se).pipe((0,P.R)(me),(0,B.Q)(me))}(se,me);if((0,Ze.z)(se))return function we(se,me){return new ge.y(Oe=>{let X=0;return me.schedule(function(){X===se.length?Oe.complete():(Oe.next(se[X++]),Oe.closed||this.schedule())})})}(se,me);if((0,Re.t)(se))return function ie(se,me){return(0,c.Xf)(se).pipe((0,P.R)(me),(0,B.Q)(me))}(se,me);if((0,We.D)(se))return ne(se,me);if((0,Ne.T)(se))return function G(se,me){return new ge.y(Oe=>{let X;return(0,H.f)(Oe,me,()=>{X=se[Me.h](),(0,H.f)(Oe,me,()=>{let nt,He;try{({value:nt,done:He}=X.next())}catch(Xt){return void Oe.error(Xt)}He?Oe.complete():Oe.next(nt)},0,!0)}),()=>(0,ye.m)(X?.return)&&X.return()})}(se,me);if((0,vt.L)(se))return function ut(se,me){return ne((0,vt.Q)(se),me)}(se,me)}throw(0,ke.z)(se)}(se,me):(0,c.Xf)(se)}},4829:(ft,Se,L)=>{L.d(Se,{Xf:()=>Fe});var c=L(7582),B=L(4266),P=L(4026),Q=L(5592),ie=L(8382),ge=L(5726),we=L(9853),Me=L(3664),ye=L(541),H=L(4674),G=L(3894),ne=L(4850);function Fe(te){if(te instanceof Q.y)return te;if(null!=te){if((0,ie.c)(te))return function Re(te){return new Q.y(Ce=>{const se=te[ne.L]();if((0,H.m)(se.subscribe))return se.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(te);if((0,B.z)(te))return function Ze(te){return new Q.y(Ce=>{for(let se=0;se<te.length&&!Ce.closed;se++)Ce.next(te[se]);Ce.complete()})}(te);if((0,P.t)(te))return function Ne(te){return new Q.y(Ce=>{te.then(se=>{Ce.closed||(Ce.next(se),Ce.complete())},se=>Ce.error(se)).then(null,G.h)})}(te);if((0,ge.D)(te))return ke(te);if((0,Me.T)(te))return function We(te){return new Q.y(Ce=>{for(const se of te)if(Ce.next(se),Ce.closed)return;Ce.complete()})}(te);if((0,ye.L)(te))return function vt(te){return ke((0,ye.Q)(te))}(te)}throw(0,we.z)(te)}function ke(te){return new Q.y(Ce=>{(function ut(te,Ce){var se,me,Oe,X;return(0,c.mG)(this,void 0,void 0,function*(){try{for(se=(0,c.KL)(te);!(me=yield se.next()).done;)if(Ce.next(me.value),Ce.closed)return}catch(nt){Oe={error:nt}}finally{try{me&&!me.done&&(X=se.return)&&(yield X.call(se))}finally{if(Oe)throw Oe.error}}Ce.complete()})})(te,Ce).catch(se=>Ce.error(se))})}},3019:(ft,Se,L)=>{L.d(Se,{T:()=>ge});var c=L(7537),B=L(4829),P=L(6232),Q=L(4564),ie=L(2459);function ge(...we){const Me=(0,Q.yG)(we),ye=(0,Q._6)(we,1/0),H=we;return H.length?1===H.length?(0,B.Xf)(H[0]):(0,c.J)(ye)((0,ie.D)(H,Me)):P.E}},2096:(ft,Se,L)=>{L.d(Se,{of:()=>P});var c=L(4564),B=L(2459);function P(...Q){const ie=(0,c.yG)(Q);return(0,B.D)(Q,ie)}},8251:(ft,Se,L)=>{L.d(Se,{x:()=>B});var c=L(1887);function B(Q,ie,ge,we,Me){return new P(Q,ie,ge,we,Me)}class P extends c.Lv{constructor(ie,ge,we,Me,ye,H){super(ie),this.onFinalize=ye,this.shouldUnsubscribe=H,this._next=ge?function(G){try{ge(G)}catch(ne){ie.error(ne)}}:super._next,this._error=Me?function(G){try{Me(G)}catch(ne){ie.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(G){ie.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ge}=this;super.unsubscribe(),!ge&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},3997:(ft,Se,L)=>{L.d(Se,{x:()=>Q});var c=L(2737),B=L(9360),P=L(8251);function Q(ge,we=c.y){return ge=ge??ie,(0,B.e)((Me,ye)=>{let H,G=!0;Me.subscribe((0,P.x)(ye,ne=>{const Fe=we(ne);(G||!ge(H,Fe))&&(G=!1,H=Fe,ye.next(ne))}))})}function ie(ge,we){return ge===we}},7398:(ft,Se,L)=>{L.d(Se,{U:()=>P});var c=L(9360),B=L(8251);function P(Q,ie){return(0,c.e)((ge,we)=>{let Me=0;ge.subscribe((0,B.x)(we,ye=>{we.next(Q.call(ie,ye,Me++))}))})}},7537:(ft,Se,L)=>{L.d(Se,{J:()=>P});var c=L(1631),B=L(2737);function P(Q=1/0){return(0,c.z)(B.y,Q)}},1631:(ft,Se,L)=>{L.d(Se,{z:()=>Me});var c=L(7398),B=L(4829),P=L(9360),Q=L(7103),ie=L(8251),we=L(4674);function Me(ye,H,G=1/0){return(0,we.m)(H)?Me((ne,Fe)=>(0,c.U)((Re,Ze)=>H(ne,Re,Fe,Ze))((0,B.Xf)(ye(ne,Fe))),G):("number"==typeof H&&(G=H),(0,P.e)((ne,Fe)=>function ge(ye,H,G,ne,Fe,Re,Ze,Ne){const We=[];let ke=0,vt=0,ut=!1;const te=()=>{ut&&!We.length&&!ke&&H.complete()},Ce=me=>ke<ne?se(me):We.push(me),se=me=>{Re&&H.next(me),ke++;let Oe=!1;(0,B.Xf)(G(me,vt++)).subscribe((0,ie.x)(H,X=>{Fe?.(X),Re?Ce(X):H.next(X)},()=>{Oe=!0},void 0,()=>{if(Oe)try{for(ke--;We.length&&ke<ne;){const X=We.shift();Ze?(0,Q.f)(H,Ze,()=>se(X)):se(X)}te()}catch(X){H.error(X)}}))};return ye.subscribe((0,ie.x)(H,Ce,()=>{ut=!0,te()})),()=>{Ne?.()}}(ne,Fe,ye,G)))}},3093:(ft,Se,L)=>{L.d(Se,{Q:()=>Q});var c=L(7103),B=L(9360),P=L(8251);function Q(ie,ge=0){return(0,B.e)((we,Me)=>{we.subscribe((0,P.x)(Me,ye=>(0,c.f)(Me,ie,()=>Me.next(ye),ge),()=>(0,c.f)(Me,ie,()=>Me.complete(),ge),ye=>(0,c.f)(Me,ie,()=>Me.error(ye),ge)))})}},3020:(ft,Se,L)=>{L.d(Se,{B:()=>ie});var c=L(4829),B=L(8645),P=L(1887),Q=L(9360);function ie(we={}){const{connector:Me=(()=>new B.x),resetOnError:ye=!0,resetOnComplete:H=!0,resetOnRefCountZero:G=!0}=we;return ne=>{let Fe,Re,Ze,Ne=0,We=!1,ke=!1;const vt=()=>{Re?.unsubscribe(),Re=void 0},ut=()=>{vt(),Fe=Ze=void 0,We=ke=!1},te=()=>{const Ce=Fe;ut(),Ce?.unsubscribe()};return(0,Q.e)((Ce,se)=>{Ne++,!ke&&!We&&vt();const me=Ze=Ze??Me();se.add(()=>{Ne--,0===Ne&&!ke&&!We&&(Re=ge(te,G))}),me.subscribe(se),!Fe&&Ne>0&&(Fe=new P.Hp({next:Oe=>me.next(Oe),error:Oe=>{ke=!0,vt(),Re=ge(ut,ye,Oe),me.error(Oe)},complete:()=>{We=!0,vt(),Re=ge(ut,H),me.complete()}}),(0,c.Xf)(Ce).subscribe(Fe))})(ne)}}function ge(we,Me,...ye){if(!0===Me)return void we();if(!1===Me)return;const H=new P.Hp({next:()=>{H.unsubscribe(),we()}});return(0,c.Xf)(Me(...ye)).subscribe(H)}},5137:(ft,Se,L)=>{L.d(Se,{R:()=>B});var c=L(9360);function B(P,Q=0){return(0,c.e)((ie,ge)=>{ge.add(P.schedule(()=>ie.subscribe(ge),Q))})}},4664:(ft,Se,L)=>{L.d(Se,{w:()=>Q});var c=L(4829),B=L(9360),P=L(8251);function Q(ie,ge){return(0,B.e)((we,Me)=>{let ye=null,H=0,G=!1;const ne=()=>G&&!ye&&Me.complete();we.subscribe((0,P.x)(Me,Fe=>{ye?.unsubscribe();let Re=0;const Ze=H++;(0,c.Xf)(ie(Fe,Ze)).subscribe(ye=(0,P.x)(Me,Ne=>Me.next(ge?ge(Fe,Ne,Ze,Re++):Ne),()=>{ye=null,ne()}))},()=>{G=!0,ne()}))})}},9397:(ft,Se,L)=>{L.d(Se,{b:()=>ie});var c=L(4674),B=L(9360),P=L(8251),Q=L(2737);function ie(ge,we,Me){const ye=(0,c.m)(ge)||we||Me?{next:ge,error:we,complete:Me}:ge;return ye?(0,B.e)((H,G)=>{var ne;null===(ne=ye.subscribe)||void 0===ne||ne.call(ye);let Fe=!0;H.subscribe((0,P.x)(G,Re=>{var Ze;null===(Ze=ye.next)||void 0===Ze||Ze.call(ye,Re),G.next(Re)},()=>{var Re;Fe=!1,null===(Re=ye.complete)||void 0===Re||Re.call(ye),G.complete()},Re=>{var Ze;Fe=!1,null===(Ze=ye.error)||void 0===Ze||Ze.call(ye,Re),G.error(Re)},()=>{var Re,Ze;Fe&&(null===(Re=ye.unsubscribe)||void 0===Re||Re.call(ye)),null===(Ze=ye.finalize)||void 0===Ze||Ze.call(ye)}))}):Q.y}},1954:(ft,Se,L)=>{L.d(Se,{o:()=>ie});var c=L(7394);class B extends c.w0{constructor(we,Me){super()}schedule(we,Me=0){return this}}const P={setInterval(ge,we,...Me){const{delegate:ye}=P;return ye?.setInterval?ye.setInterval(ge,we,...Me):setInterval(ge,we,...Me)},clearInterval(ge){const{delegate:we}=P;return(we?.clearInterval||clearInterval)(ge)},delegate:void 0};var Q=L(9039);class ie extends B{constructor(we,Me){super(we,Me),this.scheduler=we,this.work=Me,this.pending=!1}schedule(we,Me=0){var ye;if(this.closed)return this;this.state=we;const H=this.id,G=this.scheduler;return null!=H&&(this.id=this.recycleAsyncId(G,H,Me)),this.pending=!0,this.delay=Me,this.id=null!==(ye=this.id)&&void 0!==ye?ye:this.requestAsyncId(G,this.id,Me),this}requestAsyncId(we,Me,ye=0){return P.setInterval(we.flush.bind(we,this),ye)}recycleAsyncId(we,Me,ye=0){if(null!=ye&&this.delay===ye&&!1===this.pending)return Me;null!=Me&&P.clearInterval(Me)}execute(we,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ye=this._execute(we,Me);if(ye)return ye;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,Me){let H,ye=!1;try{this.work(we)}catch(G){ye=!0,H=G||new Error("Scheduled action threw falsy error")}if(ye)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:we,scheduler:Me}=this,{actions:ye}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.P)(ye,this),null!=we&&(this.id=this.recycleAsyncId(Me,we,null)),this.delay=null,super.unsubscribe()}}}},2631:(ft,Se,L)=>{L.d(Se,{v:()=>P});var c=L(4552);class B{constructor(ie,ge=B.now){this.schedulerActionCtor=ie,this.now=ge}schedule(ie,ge=0,we){return new this.schedulerActionCtor(this,ie).schedule(we,ge)}}B.now=c.l.now;class P extends B{constructor(ie,ge=B.now){super(ie,ge),this.actions=[],this._active=!1}flush(ie){const{actions:ge}=this;if(this._active)return void ge.push(ie);let we;this._active=!0;do{if(we=ie.execute(ie.state,ie.delay))break}while(ie=ge.shift());if(this._active=!1,we){for(;ie=ge.shift();)ie.unsubscribe();throw we}}}},6321:(ft,Se,L)=>{L.d(Se,{z:()=>P});var c=L(1954);const P=new(L(2631).v)(c.o)},4552:(ft,Se,L)=>{L.d(Se,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},7599:(ft,Se,L)=>{L.d(Se,{z:()=>c});const c={setTimeout(B,P,...Q){const{delegate:ie}=c;return ie?.setTimeout?ie.setTimeout(B,P,...Q):setTimeout(B,P,...Q)},clearTimeout(B){const{delegate:P}=c;return(P?.clearTimeout||clearTimeout)(B)},delegate:void 0}},4971:(ft,Se,L)=>{L.d(Se,{h:()=>B});const B=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(ft,Se,L)=>{L.d(Se,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(ft,Se,L)=>{L.d(Se,{_6:()=>ge,jO:()=>Q,yG:()=>ie});var c=L(4674);function P(we){return we[we.length-1]}function Q(we){return(0,c.m)(P(we))?we.pop():void 0}function ie(we){return function B(we){return we&&(0,c.m)(we.schedule)}(P(we))?we.pop():void 0}function ge(we,Me){return"number"==typeof P(we)?we.pop():Me}},9039:(ft,Se,L)=>{function c(B,P){if(B){const Q=B.indexOf(P);0<=Q&&B.splice(Q,1)}}L.d(Se,{P:()=>c})},2306:(ft,Se,L)=>{function c(B){const Q=B(ie=>{Error.call(ie),ie.stack=(new Error).stack});return Q.prototype=Object.create(Error.prototype),Q.prototype.constructor=Q,Q}L.d(Se,{d:()=>c})},1441:(ft,Se,L)=>{L.d(Se,{O:()=>Q,x:()=>P});var c=L(2653);let B=null;function P(ie){if(c.config.useDeprecatedSynchronousErrorHandling){const ge=!B;if(ge&&(B={errorThrown:!1,error:null}),ie(),ge){const{errorThrown:we,error:Me}=B;if(B=null,we)throw Me}}else ie()}function Q(ie){c.config.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=ie)}},7103:(ft,Se,L)=>{function c(B,P,Q,ie=0,ge=!1){const we=P.schedule(function(){Q(),ge?B.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(B.add(we),!ge)return we}L.d(Se,{f:()=>c})},2737:(ft,Se,L)=>{function c(B){return B}L.d(Se,{y:()=>c})},4266:(ft,Se,L)=>{L.d(Se,{z:()=>c});const c=B=>B&&"number"==typeof B.length&&"function"!=typeof B},5726:(ft,Se,L)=>{L.d(Se,{D:()=>B});var c=L(4674);function B(P){return Symbol.asyncIterator&&(0,c.m)(P?.[Symbol.asyncIterator])}},4674:(ft,Se,L)=>{function c(B){return"function"==typeof B}L.d(Se,{m:()=>c})},8382:(ft,Se,L)=>{L.d(Se,{c:()=>P});var c=L(4850),B=L(4674);function P(Q){return(0,B.m)(Q[c.L])}},3664:(ft,Se,L)=>{L.d(Se,{T:()=>P});var c=L(4971),B=L(4674);function P(Q){return(0,B.m)(Q?.[c.h])}},4026:(ft,Se,L)=>{L.d(Se,{t:()=>B});var c=L(4674);function B(P){return(0,c.m)(P?.then)}},541:(ft,Se,L)=>{L.d(Se,{L:()=>Q,Q:()=>P});var c=L(7582),B=L(4674);function P(ie){return(0,c.FC)(this,arguments,function*(){const we=ie.getReader();try{for(;;){const{value:Me,done:ye}=yield(0,c.qq)(we.read());if(ye)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Me)}}finally{we.releaseLock()}})}function Q(ie){return(0,B.m)(ie?.getReader)}},9360:(ft,Se,L)=>{L.d(Se,{A:()=>B,e:()=>P});var c=L(4674);function B(Q){return(0,c.m)(Q?.lift)}function P(Q){return ie=>{if(B(ie))return ie.lift(function(ge){try{return Q(ge,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(ft,Se,L)=>{L.d(Se,{U:()=>P,z:()=>B});var c=L(2737);function B(...Q){return P(Q)}function P(Q){return 0===Q.length?c.y:1===Q.length?Q[0]:function(ge){return Q.reduce((we,Me)=>Me(we),ge)}}},3894:(ft,Se,L)=>{L.d(Se,{h:()=>P});var c=L(2653),B=L(7599);function P(Q){B.z.setTimeout(()=>{const{onUnhandledError:ie}=c.config;if(!ie)throw Q;ie(Q)})}},9853:(ft,Se,L)=>{function c(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Se,{z:()=>c})},5879:(ft,Se,L)=>{L.d(Se,{$8M:()=>ws,$WT:()=>Ms,$Z:()=>zt,AFp:()=>zT,ALo:()=>tr,AaK:()=>ne,AsE:()=>Ql,BQk:()=>Zl,CHM:()=>ml,CRH:()=>Q0,DdM:()=>k0,EJc:()=>xC,EpF:()=>Rh,F4k:()=>n0,FYo:()=>oI,FiY:()=>bs,GfV:()=>uI,Gpc:()=>Ze,HDt:()=>_u,JOm:()=>ba,KtG:()=>ju,LFG:()=>Pn,LSH:()=>ar,Lbi:()=>eI,Lck:()=>os,MAs:()=>Qv,MMx:()=>Wh,MR2:()=>qE,NdJ:()=>Yp,Ojb:()=>Da,OlP:()=>wn,Oqu:()=>Wn,P3R:()=>UT,PXZ:()=>RA,Q6J:()=>vy,QGY:()=>wy,Qsj:()=>aI,R0b:()=>us,RDi:()=>ch,Rgc:()=>od,SBq:()=>Zm,Sil:()=>MC,Suo:()=>Xy,TTD:()=>Fu,TgZ:()=>$s,VKq:()=>gg,VuI:()=>Gw,X6Q:()=>VC,XFs:()=>Ke,Xpm:()=>ia,Xq5:()=>ly,Xts:()=>Lm,Y36:()=>dc,YKP:()=>Mc,YNc:()=>pr,Yjl:()=>xf,Yz7:()=>Lt,Z0I:()=>an,ZZ4:()=>fd,_Bn:()=>fg,_UZ:()=>Jv,_c5:()=>$w,_uU:()=>d0,aQg:()=>Og,c2e:()=>cw,cJS:()=>Vn,cg1:()=>ky,dDg:()=>MA,dqk:()=>qt,eFA:()=>xg,eJc:()=>e_,ekj:()=>Oa,eoX:()=>PC,f3M:()=>Qt,g9A:()=>GT,h0i:()=>xc,hGG:()=>BA,hij:()=>_t,iGM:()=>nf,ifc:()=>wt,ip1:()=>Tg,jDz:()=>N0,kL8:()=>wb,lG2:()=>Du,lcZ:()=>V0,lqb:()=>Ll,lri:()=>NC,n5z:()=>br,oAB:()=>Ga,oxw:()=>_c,q4F:()=>cI,qFp:()=>qw,qLn:()=>Bl,qOj:()=>fu,qZA:()=>Zp,rWj:()=>_w,rg0:()=>nm,s9C:()=>Iy,sBO:()=>jC,s_b:()=>_g,soG:()=>ri,tb:()=>Ew,tp0:()=>Fs,uIk:()=>jv,vHH:()=>te,vpe:()=>ea,wAp:()=>Rt,xi3:()=>eC,xp6:()=>_v,ynx:()=>Mh,z2F:()=>lf,zSh:()=>YE,zs3:()=>Ye});var c=L(8645),B=L(7394),P=L(5619),Q=L(5592),ie=L(3019),ge=L(2096),we=L(3020),Me=L(4664),ye=L(3997);function H(i){for(let o in i)if(i[o]===H)return o;throw Error("Could not find renamed property on target object.")}function G(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function ne(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ne).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Fe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const Re=H({__forward_ref__:H});function Ze(i){return i.__forward_ref__=Ze,i.toString=function(){return ne(this())},i}function Ne(i){return We(i)?i():i}function We(i){return"function"==typeof i&&i.hasOwnProperty(Re)&&i.__forward_ref__===Ze}function ke(i){return i&&!!i.\u0275providers}const ut="https://g.co/ng/security#xss";class te extends Error{constructor(o,a){super(function Ce(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function se(i){return"string"==typeof i?i:null==i?"":String(i)}function He(i,o){throw new te(-201,!1)}function Je(i,o){null==i&&function st(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function Lt(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Vn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Ln(i){return nr(i,Sr)||nr(i,Zr)}function an(i){return null!==Ln(i)}function nr(i,o){return i.hasOwnProperty(o)?i[o]:null}function zi(i){return i&&(i.hasOwnProperty(Bn)||i.hasOwnProperty(hs))?i[Bn]:null}const Sr=H({\u0275prov:H}),Bn=H({\u0275inj:H}),Zr=H({ngInjectableDef:H}),hs=H({ngInjectorDef:H});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let lt;function Yt(i){const o=lt;return lt=i,o}function rr(i,o,a){const l=Ln(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&Ke.Optional?null:void 0!==o?o:void He(ne(i))}const qt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Lr={},kt="__NG_DI_FLAG__",Un="ngTempTokenPath",xs=/\n/gm,jn="__source";let Cn;function Nn(i){const o=Cn;return Cn=i,o}function ir(i,o=Ke.Default){if(void 0===Cn)throw new te(-203,!1);return null===Cn?rr(i,void 0,o):Cn.get(i,o&Ke.Optional?null:void 0,o)}function Pn(i,o=Ke.Default){return(function bt(){return lt}()||ir)(Ne(i),o)}function Qt(i,o=Ke.Default){return Pn(i,z(o))}function z(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function $(i){const o=[];for(let a=0;a<i.length;a++){const l=Ne(i[a]);if(Array.isArray(l)){if(0===l.length)throw new te(900,!1);let h,f=Ke.Default;for(let y=0;y<l.length;y++){const w=l[y],b=F(w);"number"==typeof b?-1===b?h=w.token:f|=b:h=w}o.push(Pn(h,f))}else o.push(Pn(l))}return o}function k(i,o){return i[kt]=o,i.prototype[kt]=o,i}function F(i){return i[kt]}function Ee(i){return{toString:i}.toString()}var Ge=(()=>((Ge=Ge||{})[Ge.OnPush=0]="OnPush",Ge[Ge.Default=1]="Default",Ge))(),wt=(()=>{return(i=wt||(wt={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",wt;var i})();const yt={},dt=[],St=H({\u0275cmp:H}),vn=H({\u0275dir:H}),Ut=H({\u0275pipe:H}),vr=H({\u0275mod:H}),xr=H({\u0275fac:H}),pe=H({__NG_ELEMENT_ID__:H}),re=H({__NG_ENV_ID__:H});function Le(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const f=o.length;if(h+f===l||i.charCodeAt(h+f)<=32)return h}a=h+1}}function ht(i,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const f=a[l++],y=a[l++],w=a[l++];i.setAttribute(o,y,w,f)}else{const f=h,y=a[++l];$t(f)?i.setProperty(o,f,y):i.setAttribute(o,f,y),l++}}return l}function Mt(i){return 3===i||4===i||6===i}function $t(i){return 64===i.charCodeAt(0)}function tn(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||wr(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function wr(i,o,a,l,h){let f=0,y=i.length;if(-1===o)y=-1;else for(;f<i.length;){const w=i[f++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=f-1;break}}}for(;f<i.length;){const w=i[f];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==h&&(i[f+1]=h));if(l===i[f+1])return void(i[f+2]=h)}f++,null!==l&&f++,null!==h&&f++}-1!==y&&(i.splice(y,0,o),f=y+1),i.splice(f++,0,a),null!==l&&i.splice(f++,0,l),null!==h&&i.splice(f++,0,h)}const $n="ng-template";function Ys(i,o,a){let l=0,h=!0;for(;l<i.length;){let f=i[l++];if("string"==typeof f&&h){const y=i[l++];if(a&&"class"===f&&-1!==Le(y.toLowerCase(),o,0))return!0}else{if(1===f){for(;l<i.length&&"string"==typeof(f=i[l++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(h=!1)}}return!1}function So(i){return 4===i.type&&i.value!==$n}function Ha(i,o,a){return o===(4!==i.type||a?i.value:$n)}function wd(i,o,a){let l=4;const h=i.attrs||[],f=function Js(i){for(let o=0;o<i.length;o++)if(Mt(i[o]))return o;return i.length}(h);let y=!1;for(let w=0;w<o.length;w++){const b=o[w];if("number"!=typeof b){if(!y)if(4&l){if(l=2|1&l,""!==b&&!Ha(i,b,a)||""===b&&1===o.length){if(oi(l))return!1;y=!0}}else{const S=8&l?b:o[++w];if(8&l&&null!==i.attrs){if(!Ys(i.attrs,S,a)){if(oi(l))return!1;y=!0}continue}const V=Qs(8&l?"class":b,h,So(i),a);if(-1===V){if(oi(l))return!1;y=!0;continue}if(""!==S){let Z;Z=V>f?"":h[V+1].toLowerCase();const ee=8&l?Z:null;if(ee&&-1!==Le(ee,S,0)||2&l&&S!==Z){if(oi(l))return!1;y=!0}}}}else{if(!y&&!oi(l)&&!oi(b))return!1;if(y&&oi(b))continue;y=!1,l=b|1&l}}return oi(l)||y}function oi(i){return 0==(1&i)}function Qs(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let f=!1;for(;h<o.length;){const y=o[h];if(y===i)return h;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=o[++h];for(;"string"==typeof w;)w=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=f?1:2}return-1}return function Xn(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function Ao(i,o,a=!1){for(let l=0;l<o.length;l++)if(wd(i,o[l],a))return!0;return!1}function Pi(i,o){return i?":not("+o.trim()+")":o}function Xg(i){let o=i[0],a=1,l=2,h="",f=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&l){const w=i[++a];h+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!oi(y)&&(o+=Pi(f,h),h=""),l=y,f=f||!oi(l);a++}return""!==h&&(o+=Pi(f,h)),o}function ia(i){return Ee(()=>{const o=bd(i),a={...o,decls:i.decls,vars:i.vars,template:i.template,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,onPush:i.changeDetection===Ge.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&i.dependencies||null,getStandaloneInjector:null,signals:i.signals??!1,data:i.data||{},encapsulation:i.encapsulation||wt.Emulated,styles:i.styles||dt,_:null,schemas:i.schemas||null,tView:null,id:""};qa(a);const l=i.dependencies;return a.directiveDefs=sa(l,!1),a.pipeDefs=sa(l,!0),a.id=function Cd(i){let o=0;const a=[i.selectors,i.ngContentSelectors,i.hostVars,i.hostAttrs,i.consts,i.vars,i.decls,i.encapsulation,i.standalone,i.signals,i.exportAs,JSON.stringify(i.inputs),JSON.stringify(i.outputs),Object.getOwnPropertyNames(i.type.prototype),!!i.contentQueries,!!i.viewQuery].join("|");for(const h of a)o=Math.imul(31,o)+h.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(a),a})}function Af(i){return Vt(i)||Er(i)}function za(i){return null!==i}function Ga(i){return Ee(()=>({type:i.type,bootstrap:i.bootstrap||dt,declarations:i.declarations||dt,imports:i.imports||dt,exports:i.exports||dt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Cu(i,o){if(null==i)return yt;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],f=h;Array.isArray(h)&&(f=h[1],h=h[0]),a[h]=l,o&&(o[h]=f)}return a}function Du(i){return Ee(()=>{const o=bd(i);return qa(o),o})}function xf(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Vt(i){return i[St]||null}function Er(i){return i[vn]||null}function _n(i){return i[Ut]||null}function Ms(i){const o=Vt(i)||Er(i)||_n(i);return null!==o&&o.standalone}function Kr(i,o){const a=i[vr]||null;if(!a&&!0===o)throw new Error(`Type ${ne(i)} does not have '\u0275mod' property.`);return a}function bd(i){const o={};return{type:i.type,providersResolver:null,factory:null,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:i.inputs||yt,exportAs:i.exportAs||null,standalone:!0===i.standalone,signals:!0===i.signals,selectors:i.selectors||dt,viewQuery:i.viewQuery||null,features:i.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cu(i.inputs,o),outputs:Cu(i.outputs)}}function qa(i){i.features?.forEach(o=>o(i))}function sa(i,o){if(!i)return null;const a=o?_n:Af;return()=>("function"==typeof i?i():i).map(l=>a(l)).filter(za)}const er=0,it=1,Pt=2,Dn=3,Yr=4,Tu=5,Mr=6,Rs=7,En=8,qi=9,xo=10,Ct=11,Wa=12,Mo=13,Xs=14,On=15,Su=16,Ro=17,Zi=18,oa=19,Au=20,Rr=21,Qr=22,xu=23,Wi=24,sn=25,ps=1,No=2,Ei=7,aa=9,Nr=11;function Ur(i){return Array.isArray(i)&&"object"==typeof i[ps]}function Vr(i){return Array.isArray(i)&&!0===i[ps]}function Kc(i){return 0!=(4&i.flags)}function Ki(i){return i.componentOffset>-1}function eo(i){return 1==(1&i.flags)}function Tn(i){return!!i.template}function ca(i){return 0!=(512&i[Pt])}function to(i,o){return i.hasOwnProperty(xr)?i[xr]:null}let Qa=qt.WeakRef??class Ya{constructor(o){this.ref=o}deref(){return this.ref}},Nu=0,Oi=null,Pu=!1;function zn(i){const o=Oi;return Oi=i,o}class Ii{constructor(){this.id=Nu++,this.ref=function Of(i){return new Qa(i)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,a]of this.producers){const l=a.producerNode.deref();if(void 0!==l&&a.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(a.seenValueVersion))return!0}else this.producers.delete(o),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=Pu;Pu=!0;try{for(const[a,l]of this.consumers){const h=l.consumerNode.deref();void 0!==h&&h.trackingVersion===l.atTrackingVersion?h.onConsumerDependencyMayHaveChanged():(this.consumers.delete(a),h?.producers.delete(this.id))}}finally{Pu=o}}producerAccessed(){if(Pu)throw new Error("");if(null===Oi)return;let o=Oi.producers.get(this.id);void 0===o?(o={consumerNode:Oi.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Oi.trackingVersion},Oi.producers.set(this.id,o),this.consumers.set(Oi.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Oi.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Oi?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let Rd=null;function nm(i){const o=zn(null);try{return i()}finally{zn(o)}}const Ja=()=>{};class Lf extends Ii{constructor(o,a,l){super(),this.watch=o,this.schedule=a,this.dirty=!1,this.cleanupFn=Ja,this.registerOnCleanup=h=>{this.cleanupFn=h},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=zn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ja,this.watch(this.registerOnCleanup)}finally{zn(o)}}cleanup(){this.cleanupFn()}}class Xa{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function Fu(){return la}function la(i){return i.type.prototype.ngOnChanges&&(i.setInput=ul),al}function al(){const i=cl(this),o=i?.current;if(o){const a=i.previous;if(a===yt)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function ul(i,o,a,l){const h=this.declaredInputs[a],f=cl(i)||function Pd(i,o){return i[Uf]=o}(i,{previous:yt,current:null}),y=f.current||(f.current={}),w=f.previous,b=w[h];y[h]=new Xa(b&&b.currentValue,o,w===yt),i[l]=o}Fu.ngInherit=!0;const Uf="__ngSimpleChanges__";function cl(i){return i[Uf]||null}const Yi=function(i,o,a){};function In(i){for(;Array.isArray(i);)i=i[er];return i}function da(i,o){return In(o[i])}function Br(i,o){return In(o[i.index])}function Od(i,o){return i.data[o]}function io(i,o){return i[o]}function ki(i,o){const a=o[i];return Ur(a)?a:a[er]}function ms(i,o){return null==o?null:i[o]}function Ld(i){i[Ro]=0}function fl(i){1024&i[Pt]||(i[Pt]|=1024,fa(i,1))}function Uu(i){1024&i[Pt]&&(i[Pt]&=-1025,fa(i,-1))}function fa(i,o){let a=i[Dn];if(null===a)return;a[Tu]+=o;let l=a;for(a=a[Dn];null!==a&&(1===o&&1===l[Tu]||-1===o&&0===l[Tu]);)a[Tu]+=o,l=a,a=a[Dn]}const Tt={lFrame:vl(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function eu(){return Tt.bindingsEnabled}function xe(){return Tt.lFrame.lView}function en(){return Tt.lFrame.tView}function ml(i){return Tt.lFrame.contextLView=i,i[En]}function ju(i){return Tt.lFrame.contextLView=null,i}function lr(){let i=Hf();for(;null!==i&&64===i.type;)i=i.parent;return i}function Hf(){return Tt.lFrame.currentTNode}function Jr(i,o){const a=Tt.lFrame;a.currentTNode=i,a.isParent=o}function zf(){return Tt.lFrame.isParent}function Gn(){Tt.lFrame.isParent=!1}function Pr(){const i=Tt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function kn(){return Tt.lFrame.bindingIndex++}function _s(i){const o=Tt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function nu(i,o){const a=Tt.lFrame;a.bindingIndex=a.bindingRootIndex=i,$d(o)}function $d(i){Tt.lFrame.currentDirectiveIndex=i}function Gu(){return Tt.lFrame.currentQueryIndex}function so(i){Tt.lFrame.currentQueryIndex=i}function oo(i){const o=i[it];return 2===o.type?o.declTNode:1===o.type?i[Mr]:null}function pa(i,o,a){if(a&Ke.SkipSelf){let h=o,f=i;for(;!(h=h.parent,null!==h||a&Ke.Host||(h=oo(f),null===h||(f=f[Xs],10&h.type))););if(null===h)return!1;o=h,i=f}const l=Tt.lFrame=Zu();return l.currentTNode=o,l.lView=i,!0}function qu(i){const o=Zu(),a=i[it];Tt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Zu(){const i=Tt.lFrame,o=null===i?null:i.child;return null===o?vl(i):o}function vl(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function im(){const i=Tt.lFrame;return Tt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Hd=im;function zd(){const i=im();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function ui(){return Tt.lFrame.selectedIndex}function ao(i){Tt.lFrame.selectedIndex=i}function xn(){const i=Tt.lFrame;return Od(i.tView,i.selectedIndex)}let wl=!0;function iu(){return wl}function Lo(i){wl=i}function Wu(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const f=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:b,ngAfterViewChecked:S,ngOnDestroy:R}=f;y&&(i.contentHooks??=[]).push(-a,y),w&&((i.contentHooks??=[]).push(a,w),(i.contentCheckHooks??=[]).push(a,w)),b&&(i.viewHooks??=[]).push(-a,b),S&&((i.viewHooks??=[]).push(a,S),(i.viewCheckHooks??=[]).push(a,S)),null!=R&&(i.destroyHooks??=[]).push(a,R)}}function su(i,o,a){bi(i,o,3,a)}function El(i,o,a,l){(3&i[Pt])===a&&bi(i,o,a,l)}function Ku(i,o){let a=i[Pt];(3&a)===o&&(a&=8191,a+=1,i[Pt]=a)}function bi(i,o,a,l){const f=l??-1,y=o.length-1;let w=0;for(let b=void 0!==l?65535&i[Ro]:0;b<y;b++)if("number"==typeof o[b+1]){if(w=o[b],null!=l&&w>=l)break}else o[b]<0&&(i[Ro]+=65536),(w<f||-1==f)&&(Il(i,a,o,b),i[Ro]=(4294901760&i[Ro])+b+2),b++}function uo(i,o){Yi(4,i,o);const a=zn(null);try{o.call(i)}finally{zn(a),Yi(5,i,o)}}function Il(i,o,a,l){const h=a[l]<0,f=a[l+1],w=i[h?-a[l]:a[l]];h?i[Pt]>>13<i[Ro]>>16&&(3&i[Pt])===o&&(i[Pt]+=8192,uo(w,f)):uo(w,f)}const hn=-1;class pt{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Ot(i){return i!==hn}function Di(i){return 32767&i}function ma(i,o){let a=function Qd(i){return i>>16}(i),l=o;for(;a>0;)l=l[Xs],a--;return l}let Li=!0;function Vo(i){const o=Li;return Li=i,o}const Xi=255,co=5;let am=0;const Ti={};function lo(i,o){const a=Jd(i,o);if(-1!==a)return a;const l=o[it];l.firstCreatePass&&(i.injectorIndex=o.length,Ns(l.data,i),Ns(o,null),Ns(l.blueprint,null));const h=es(i,o),f=i.injectorIndex;if(Ot(h)){const y=Di(h),w=ma(h,o),b=w[it].data;for(let S=0;S<8;S++)o[f+S]=w[y+S]|b[y+S]}return o[f+8]=h,f}function Ns(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Jd(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function es(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=Cl(h),null===l)return hn;if(a++,h=h[Xs],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return hn}function Qu(i,o,a){!function Zf(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(pe)&&(l=a[pe]),null==l&&(l=a[pe]=am++);const h=l&Xi;o.data[i+(h>>co)]|=1<<h}(i,o,a)}function ya(i,o,a){if(a&Ke.Optional||void 0!==i)return i;He()}function Bo(i,o,a,l){if(a&Ke.Optional&&void 0===l&&(l=null),!(a&(Ke.Self|Ke.Host))){const h=i[qi],f=Yt(void 0);try{return h?h.get(o,l,a&Ke.Optional):rr(o,l,a&Ke.Optional)}finally{Yt(f)}}return ya(l,0,a)}function vs(i,o,a,l=Ke.Default,h){if(null!==i){if(2048&o[Pt]&&!(l&Ke.Self)){const y=function eh(i,o,a,l,h){let f=i,y=o;for(;null!==f&&null!==y&&2048&y[Pt]&&!(512&y[Pt]);){const w=Xd(f,y,a,l|Ke.Self,Ti);if(w!==Ti)return w;let b=f.parent;if(!b){const S=y[Au];if(S){const R=S.get(a,Ti,l);if(R!==Ti)return R}b=Cl(y),y=y[Xs]}f=b}return h}(i,o,a,l,Ti);if(y!==Ti)return y}const f=Xd(i,o,a,l,Ti);if(f!==Ti)return f}return Bo(o,a,l,h)}function Xd(i,o,a,l,h){const f=function fo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(pe)?i[pe]:void 0;return"number"==typeof o?o>=0?o&Xi:Bi:o}(a);if("function"==typeof f){if(!pa(o,i,l))return l&Ke.Host?ya(h,0,l):Bo(o,a,l,h);try{const y=f(l);if(null!=y||l&Ke.Optional)return y;He()}finally{Hd()}}else if("number"==typeof f){let y=null,w=Jd(i,o),b=hn,S=l&Ke.Host?o[On][Mr]:null;for((-1===w||l&Ke.SkipSelf)&&(b=-1===w?es(i,o):o[w+8],b!==hn&&Ps(l,!1)?(y=o[it],w=Di(b),o=ma(b,o)):w=-1);-1!==w;){const R=o[it];if(sr(f,w,R.data)){const V=Vi(w,o,a,y,l,S);if(V!==Ti)return V}b=o[w+8],b!==hn&&Ps(l,o[it].data[w+8]===S)&&sr(f,w,o)?(y=R,w=Di(b),o=ma(b,o)):w=-1}}return h}function Vi(i,o,a,l,h,f){const y=o[it],w=y.data[i+8],R=jo(w,y,a,null==l?Ki(w)&&Li:l!=y&&0!=(3&w.type),h&Ke.Host&&f===w);return null!==R?ho(o,y,R,w):Ti}function jo(i,o,a,l,h){const f=i.providerIndexes,y=o.data,w=1048575&f,b=i.directiveStart,R=f>>20,Z=h?w+R:i.directiveEnd;for(let ee=l?w:w+R;ee<Z;ee++){const Te=y[ee];if(ee<b&&a===Te||ee>=b&&Te.type===a)return ee}if(h){const ee=y[b];if(ee&&Tn(ee)&&ee.type===a)return b}return null}function ho(i,o,a,l){let h=i[a];const f=o.data;if(function Ci(i){return i instanceof pt}(h)){const y=h;y.resolving&&function Oe(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new te(-200,`Circular dependency in DI detected for ${i}${a}`)}(function me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():se(i)}(f[a]));const w=Vo(y.canSeeViewProviders);y.resolving=!0;const b=y.injectImpl?Yt(y.injectImpl):null;pa(i,l,Ke.Default);try{h=i[a]=y.factory(void 0,f,i,l),o.firstCreatePass&&a>=l.directiveStart&&function Yd(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:f}=o.type.prototype;if(l){const y=la(o);(a.preOrderHooks??=[]).push(i,y),(a.preOrderCheckHooks??=[]).push(i,y)}h&&(a.preOrderHooks??=[]).push(0-i,h),f&&((a.preOrderHooks??=[]).push(i,f),(a.preOrderCheckHooks??=[]).push(i,f))}(a,f[a],o)}finally{null!==b&&Yt(b),Vo(w),y.resolving=!1,Hd()}}return h}function sr(i,o,a){return!!(a[o+(i>>co)]&1<<i)}function Ps(i,o){return!(i&Ke.Self||i&Ke.Host&&o)}class Os{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return vs(this._tNode,this._lView,o,z(l),a)}}function Bi(){return new Os(lr(),xe())}function br(i){return Ee(()=>{const o=i.prototype.constructor,a=o[xr]||_a(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const f=h[xr]||_a(h);if(f&&f!==a)return f;h=Object.getPrototypeOf(h)}return f=>new f})}function _a(i){return We(i)?()=>{const o=_a(Ne(i));return o&&o()}:to(i)}function Cl(i){const o=i[it],a=o.type;return 2===a?o.declTNode:1===a?i[Mr]:null}function ws(i){return function Wf(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const f=a[h];if(Mt(f))break;if(0===f)h+=2;else if("number"==typeof f)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(f===o)return a[h+1];h+=2}}}return null}(lr(),i)}const qn="__parameters__";function Es(i,o,a){return Ee(()=>{const l=function po(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...f){if(this instanceof h)return l.apply(this,f),this;const y=new h(...f);return w.annotation=y,w;function w(b,S,R){const V=b.hasOwnProperty(qn)?b[qn]:Object.defineProperty(b,qn,{value:[]})[qn];for(;V.length<=R;)V.push(null);return(V[R]=V[R]||[]).push(y),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}function uu(i,o){i.forEach(a=>Array.isArray(a)?uu(a,o):o(a))}function ks(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function Tl(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function E(i,o,a){let l=A(i,o);return l>=0?i[1|l]=a:(l=~l,function va(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function D(i,o){const a=A(i,o);if(a>=0)return i[1|a]}function A(i,o){return function q(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const f=l+(h-l>>1),y=i[f<<a];if(o===y)return f<<a;y>o?h=f:l=f+1}return~(h<<a)}(i,o,1)}const bs=k(Es("Optional"),8),Fs=k(Es("SkipSelf"),4);function pm(i){return 128==(128&i.flags)}var ba=(()=>((ba=ba||{})[ba.Important=1]="Important",ba[ba.DashCase=2]="DashCase",ba))();const sT=/^>|^->|<!--|-->|--!>|<!-$/g,oT=/(<|>)/,aT="\u200b$1\u200b";const B_=new Map;let _E=0;const mm="__ngContext__";function Si(i,o){Ur(o)?(i[mm]=o[oa],function uT(i){B_.set(i[oa],i)}(o)):i[mm]=o}let G_;function sh(i,o){return G_(i,o)}function np(i){const o=i[Dn];return Vr(o)?o[Dn]:o}function bE(i){return q_(i[Wa])}function vm(i){return q_(i[Yr])}function q_(i){for(;null!==i&&!Vr(i);)i=i[Yr];return i}function Nl(i,o,a,l,h){if(null!=l){let f,y=!1;Vr(l)?f=l:Ur(l)&&(y=!0,l=l[er]);const w=In(l);0===i&&null!==a?null==h?K_(o,a,w):Pl(o,a,w,h||null,!0):1===i&&null!==a?Pl(o,a,w,h||null,!0):2===i?function Cm(i,o,a){const l=du(i,o);l&&function fT(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,w,y):3===i&&o.destroyNode(w),null!=f&&function gT(i,o,a,l,h){const f=a[Ei];f!==In(a)&&Nl(o,i,l,f,h);for(let w=Nr;w<a.length;w++){const b=a[w];ah(b[it],b,i,o,l,f)}}(o,i,f,a,h)}}function wm(i,o){return i.createComment(function yE(i){return i.replace(sT,o=>o.replace(oT,aT))}(o))}function Em(i,o,a){return i.createElement(o,a)}function CE(i,o){const a=i[aa],l=a.indexOf(o);Uu(o),a.splice(l,1)}function W_(i,o){if(i.length<=Nr)return;const a=Nr+o,l=i[a];if(l){const h=l[Su];null!==h&&h!==i&&CE(h,l),o>0&&(i[a-1][Yr]=l[Yr]);const f=Tl(i,Nr+o);!function K1(i,o){ah(i,o,o[Ct],2,null,null),o[er]=null,o[Mr]=null}(l[it],l);const y=f[Zi];null!==y&&y.detachView(f[it]),l[Dn]=null,l[Yr]=null,l[Pt]&=-129}return l}function Im(i,o){if(!(256&o[Pt])){const a=o[Ct];o[xu]?.destroy(),o[Wi]?.destroy(),a.destroyNode&&ah(i,o,a,3,null,null),function J1(i){let o=i[Wa];if(!o)return Us(i[it],i);for(;o;){let a=null;if(Ur(o))a=o[Wa];else{const l=o[Nr];l&&(a=l)}if(!a){for(;o&&!o[Yr]&&o!==i;)Ur(o)&&Us(o[it],o),o=o[Dn];null===o&&(o=i),Ur(o)&&Us(o[it],o),a=o&&o[Yr]}o=a}}(o)}}function Us(i,o){if(!(256&o[Pt])){o[Pt]&=-129,o[Pt]|=256,function sp(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof pt)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=h[f[y]],b=f[y+1];Yi(4,w,b);try{b.call(w)}finally{Yi(5,w,b)}}else{Yi(4,h,f);try{f.call(h)}finally{Yi(5,h,f)}}}}}(i,o),function hT(i,o){const a=i.cleanup,l=o[Rs];if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?l[y]():l[-y].unsubscribe(),f+=2}else a[f].call(l[a[f+1]]);null!==l&&(o[Rs]=null);const h=o[Rr];if(null!==h){o[Rr]=null;for(let f=0;f<h.length;f++)(0,h[f])()}}(i,o),1===o[it].type&&o[Ct].destroy();const a=o[Su];if(null!==a&&Vr(o[Dn])){a!==o[Dn]&&CE(a,o);const l=o[Zi];null!==l&&l.detachView(i)}!function vE(i){B_.delete(i[oa])}(o)}}function DE(i,o,a){return function TE(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[er];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:f}=i.data[l.directiveStart+h];if(f===wt.None||f===wt.Emulated)return null}return Br(l,a)}}(i,o.parent,a)}function Pl(i,o,a,l,h){i.insertBefore(o,a,l,h)}function K_(i,o,a){i.appendChild(o,a)}function op(i,o,a,l,h){null!==l?Pl(i,o,a,l,h):K_(i,o,a)}function du(i,o){return i.parentNode(o)}let Ol,Am,xm,oh=function AE(i,o,a){return 40&i.type?Br(i,a):null};function bm(i,o,a,l){const h=DE(i,l,o),f=o[Ct],w=function SE(i,o,a){return oh(i,o,a)}(l.parent||o[Mr],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)op(f,h,a[b],w,!1);else op(f,h,a,w,!1);void 0!==Ol&&Ol(f,l,o,a,h)}function up(i,o){if(null!==o){const a=o.type;if(3&a)return Br(o,i);if(4&a)return Y_(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return up(i,l);{const h=i[o.index];return Vr(h)?Y_(-1,h):In(h)}}if(32&a)return sh(o,i)()||In(i[o.index]);{const l=ME(i,o);return null!==l?Array.isArray(l)?l[0]:up(np(i[On]),l):up(i,o.next)}}return null}function ME(i,o){return null!==o?i[On][Mr].projection[o.projection]:null}function Y_(i,o){const a=Nr+i+1;if(a<o.length){const l=o[a],h=l[it].firstChild;if(null!==h)return up(l,h)}return o[Ei]}function Q_(i,o,a,l,h,f,y){for(;null!=a;){const w=l[a.index],b=a.type;if(y&&0===o&&(w&&Si(In(w),l),a.flags|=2),32!=(32&a.flags))if(8&b)Q_(i,o,a.child,l,h,f,!1),Nl(o,i,h,w,f);else if(32&b){const S=sh(a,l);let R;for(;R=S();)Nl(o,i,h,R,f);Nl(o,i,h,w,f)}else 16&b?kl(i,o,l,a,h,f):Nl(o,i,h,w,f);a=y?a.projectionNext:a.next}}function ah(i,o,a,l,h,f){Q_(a,l,i.firstChild,o,h,f,!1)}function kl(i,o,a,l,h,f){const y=a[On],b=y[Mr].projection[l.projection];if(Array.isArray(b))for(let S=0;S<b.length;S++)Nl(o,i,h,b[S],f);else{let S=b;const R=y[Dn];pm(l)&&(S.flags|=128),Q_(i,o,S,R,h,f,!0)}}function RE(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function NE(i,o,a){const{mergedAttrs:l,classes:h,styles:f}=a;null!==l&&ht(i,o,l),null!==h&&RE(i,o,h),null!==f&&function yT(i,o,a){i.setAttribute(o,"style",a)}(i,o,f)}function ch(i){Am=i}function kE(i){return function X_(){if(void 0===xm&&(xm=null,qt.trustedTypes))try{xm=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return xm}()?.createScriptURL(i)||i}class Rm{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}function qo(i){return i instanceof Rm?i.changingThisBreaksApplicationSecurity:i}function cp(i,o){const a=function bT(i){return i instanceof Rm&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${ut})`)}return a===o}const ST=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var jr=(()=>((jr=jr||{})[jr.NONE=0]="NONE",jr[jr.HTML=1]="HTML",jr[jr.STYLE=2]="STYLE",jr[jr.SCRIPT=3]="SCRIPT",jr[jr.URL=4]="URL",jr[jr.RESOURCE_URL=5]="RESOURCE_URL",jr))();function ar(i){const o=Fl();return o?o.sanitize(jr.URL,i)||"":cp(i,"URL")?qo(i):function ev(i){return(i=String(i)).match(ST)?i:"unsafe:"+i}(se(i))}function HE(i){const o=Fl();if(o)return kE(o.sanitize(jr.RESOURCE_URL,i)||"");if(cp(i,"ResourceURL"))return kE(qo(i));throw new te(904,!1)}function UT(i,o,a){return function zE(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?HE:ar}(o,a)(i)}function Fl(){const i=xe();return i&&i[xo].sanitizer}class wn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Lt({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Lm=new wn("ENVIRONMENT_INITIALIZER"),nv=new wn("INJECTOR",-1),Ca=new wn("INJECTOR_DEF_TYPES");class GE{get(o,a=Lr){if(a===Lr){const l=new Error(`NullInjectorError: No provider for ${ne(o)}!`);throw l.name="NullInjectorError",l}return a}}function qE(i){return{\u0275providers:i}}function uM(...i){return{\u0275providers:VT(0,i),\u0275fromNgModule:!0}}function VT(i,...o){const a=[],l=new Set;let h;return uu(o,f=>{const y=f;Um(y,a,[],l)&&(h||=[],h.push(y))}),void 0!==h&&rv(h,a),a}function rv(i,o){for(let a=0;a<i.length;a++){const{providers:h}=i[a];iv(h,f=>{o.push(f)})}}function Um(i,o,a,l){if(!(i=Ne(i)))return!1;let h=null,f=zi(i);const y=!f&&Vt(i);if(f||y){if(y&&!y.standalone)return!1;h=i}else{const b=i.ngModule;if(f=zi(b),!f)return!1;h=b}const w=l.has(h);if(y){if(w)return!1;if(l.add(h),y.dependencies){const b="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const S of b)Um(S,o,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let S;l.add(h);try{uu(f.imports,R=>{Um(R,o,a,l)&&(S||=[],S.push(R))})}finally{}void 0!==S&&rv(S,o)}if(!w){const S=to(h)||(()=>new h);o.push({provide:h,useFactory:S,deps:dt},{provide:Ca,useValue:h,multi:!0},{provide:Lm,useValue:()=>Pn(h),multi:!0})}const b=f.providers;null==b||w||iv(b,R=>{o.push(R)})}}return h!==i&&void 0!==i.providers}function iv(i,o){for(let a of i)ke(a)&&(a=a.\u0275providers),Array.isArray(a)?iv(a,o):o(a)}const BT=H({provide:String,useValue:H});function WE(i){return null!==i&&"object"==typeof i&&BT in i}function hh(i){return"function"==typeof i}const YE=new wn("Set Injector scope."),Vm={},lM={};let Bm;function jm(){return void 0===Bm&&(Bm=new GE),Bm}class Ll{}class $m extends Ll{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,XE(o,y=>this.processProvider(y)),this.records.set(nv,fh(void 0,this)),h.has("environment")&&this.records.set(Ll,fh(void 0,this));const f=this.records.get(YE);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Ca.multi,dt,Ke.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const a of o)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const a=Nn(this),l=Yt(void 0);try{return o()}finally{Nn(a),Yt(l)}}get(o,a=Lr,l=Ke.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(re))return o[re](this);l=z(l);const h=Nn(this),f=Yt(void 0);try{if(!(l&Ke.SkipSelf)){let w=this.records.get(o);if(void 0===w){const b=function dM(i){return"function"==typeof i||"object"==typeof i&&i instanceof wn}(o)&&Ln(o);w=b&&this.injectableDefInScope(b)?fh(ov(o),Vm):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&Ke.Self?jm():this.parent).get(o,a=l&Ke.Optional&&a===Lr?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Un]=y[Un]||[]).unshift(ne(o)),h)throw y;return function N(i,o,a,l){const h=i[Un];throw o[jn]&&h.unshift(o[jn]),i.message=function J(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let h=ne(o);if(Array.isArray(o))h=o.map(ne).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):ne(w)))}h=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(xs,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[Un]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{Yt(f),Nn(h)}}resolveInjectorInitializers(){const o=Nn(this),a=Yt(void 0);try{const l=this.get(Lm.multi,dt,Ke.Self);for(const h of l)h()}finally{Nn(o),Yt(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ne(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new te(205,!1)}processProvider(o){let a=hh(o=Ne(o))?o:Ne(o&&o.provide);const l=function $T(i){return WE(i)?fh(void 0,i.useValue):fh(QE(i),Vm)}(o);if(hh(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=fh(void 0,Vm,!0),h.factory=()=>$(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Vm&&(a.value=lM,a.value=a.factory()),"object"==typeof a.value&&a.value&&function HT(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Ne(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}removeOnDestroy(o){const a=this._onDestroyHooks.indexOf(o);-1!==a&&this._onDestroyHooks.splice(a,1)}}function ov(i){const o=Ln(i),a=null!==o?o.factory:to(i);if(null!==a)return a;if(i instanceof wn)throw new te(204,!1);if(i instanceof Function)return function jT(i){const o=i.length;if(o>0)throw function cu(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new te(204,!1);const a=function wi(i){return i&&(i[Sr]||i[Zr])||null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new te(204,!1)}function QE(i,o,a){let l;if(hh(i)){const h=Ne(i);return to(h)||ov(h)}if(WE(i))l=()=>Ne(i.useValue);else if(function KE(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...$(i.deps||[]));else if(function sv(i){return!(!i||!i.useExisting)}(i))l=()=>Pn(Ne(i.useExisting));else{const h=Ne(i&&(i.useClass||i.provide));if(!function JE(i){return!!i.deps}(i))return to(h)||ov(h);l=()=>new h(...$(i.deps))}return l}function fh(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function XE(i,o){for(const a of i)Array.isArray(a)?XE(a,o):a&&ke(a)?XE(a.\u0275providers,o):o(a)}const zT=new wn("AppId",{providedIn:"root",factory:()=>hM}),hM="ng",GT=new wn("Platform Initializer"),eI=new wn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Da=new wn("CSP nonce",{providedIn:"root",factory:()=>function lh(){if(void 0!==Am)return Am;if(typeof document<"u")return document;throw new te(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ul=(i,o)=>null;function mp(i,o){return Ul(i,o)}class yp{}class pv{}class _M{resolveComponentFactory(o){throw function YT(i){const o=Error(`No component factory found for ${ne(i)}.`);return o.ngComponent=i,o}(o)}}let mv=(()=>{class i{}return i.NULL=new _M,i})();function vM(){return _p(lr(),xe())}function _p(i,o){return new Zm(Br(i,o))}let Zm=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=vM,i})();function QT(i){return i instanceof Zm?i.nativeElement:i}class oI{}let aI=(()=>{class i{constructor(){this.destroyNode=null}}return i.__NG_ELEMENT_ID__=()=>function JT(){const i=xe(),a=ki(lr().index,i);return(Ur(a)?a:i)[Ct]}(),i})(),wM=(()=>{class i{}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>null}),i})();class uI{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cI=new uI("16.1.4"),Wm={};function Vl(i){for(;i;){i[Pt]|=64;const o=np(i);if(ca(i)&&!o)return i;i=o}return null}function yv(i){return i.ngOriginalError}class Bl{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&yv(o);for(;a&&yv(a);)a=yv(a);return a||null}}const hI=new wn("",{providedIn:"root",factory:()=>!1});function cc(i){return i instanceof Function?i():i}class gI extends Ii{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){Vl(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,a,l){const h=zn(this);this.trackingVersion++;try{o(a,l)}finally{zn(h)}}destroy(){this.trackingVersion++}}let Km=null;function mI(){return Km??=new gI,Km}function yI(i,o){return i[o]??mI()}function rS(i,o){const a=mI();a.hasReadASignal&&(i[o]=Km,a.lView=i,Km=new gI)}const Ht={};function _v(i){Jt(en(),xe(),ui()+i,!1)}function Jt(i,o,a,l){if(!l)if(3==(3&o[Pt])){const f=i.preOrderCheckHooks;null!==f&&su(o,f,a)}else{const f=i.preOrderHooks;null!==f&&El(o,f,0,a)}ao(a)}function _I(i,o=null,a=null,l){const h=vo(i,o,a,l);return h.resolveInjectorInitializers(),h}function vo(i,o=null,a=null,l,h=new Set){const f=[a||dt,uM(i)];return l=l||("object"==typeof i?void 0:ne(i)),new $m(f,o||jm(),l||null,h)}let Ye=(()=>{class i{static create(a,l){if(Array.isArray(a))return _I({name:""},l,a,"");{const h=a.name??"";return _I({name:h},a.parent,a.providers,h)}}}return i.THROW_IF_NOT_FOUND=Lr,i.NULL=new GE,i.\u0275prov=Lt({token:i,providedIn:"any",factory:()=>Pn(nv)}),i.__NG_ELEMENT_ID__=-1,i})();function dc(i,o=Ke.Default){const a=xe();return null===a?Pn(i,o):vs(lr(),a,Ne(i),o)}function zt(){throw new Error("invalid")}function hc(i,o,a,l,h,f,y,w,b,S,R){const V=o.blueprint.slice();return V[er]=h,V[Pt]=140|l,(null!==S||i&&2048&i[Pt])&&(V[Pt]|=2048),Ld(V),V[Dn]=V[Xs]=i,V[En]=a,V[xo]=y||i&&i[xo],V[Ct]=w||i&&i[Ct],V[qi]=b||i&&i[qi]||null,V[Mr]=f,V[oa]=function W1(){return _E++}(),V[Qr]=R,V[Au]=S,V[On]=2==o.type?i[On]:V,V}function yh(i,o,a,l,h){let f=i.data[o];if(null===f)f=function Ip(i,o,a,l,h){const f=Hf(),y=zf(),b=i.data[o]=function Jm(i,o,a,l,h,f){let y=o?o.injectorIndex:-1,w=0;return function Qi(){return null!==Tt.skipHydrationRootTNode}()&&(w|=128),{type:a,index:l,insertBeforeIndex:null,injectorIndex:y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:h,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=b),null!==f&&(y?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b,b.prev=f)),b}(i,o,a,l,h),function dr(){return Tt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=h;const y=function $u(){const i=Tt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return Jr(f,!0),f}function bp(i,o,a,l){if(0===a)return-1;const h=o.length;for(let f=0;f<a;f++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function vI(i,o,a,l,h){const f=yI(o,xu),y=ui(),w=2&l;try{if(ao(-1),w&&o.length>sn&&Jt(i,o,sn,!1),Yi(w?2:0,h),w)f.runInContext(a,l,h);else{const S=zn(null);try{a(l,h)}finally{zn(S)}}}finally{w&&null===o[xu]&&rS(o,xu),ao(y),Yi(w?3:1,h)}}function vv(i,o,a){if(Kc(o)){const l=zn(null);try{const f=o.directiveEnd;for(let y=o.directiveStart;y<f;y++){const w=i.data[y];w.contentQueries&&w.contentQueries(1,a[y],y)}}finally{zn(l)}}}function di(i,o,a){eu()&&(function Sv(i,o,a,l){const h=a.directiveStart,f=a.directiveEnd;Ki(a)&&function pS(i,o,a){const l=Br(o,i),h=ti(a);let y=16;a.signals?y=4096:a.onPush&&(y=64);const w=vh(i,hc(i,h,null,y,l,o,null,i[xo].rendererFactory.createRenderer(l,a),null,null,null));i[o.index]=w}(o,a,i.data[h+a.componentOffset]),i.firstCreatePass||lo(a,o),Si(l,o);const y=a.initialInputs;for(let w=h;w<f;w++){const b=i.data[w],S=ho(o,i,w,a);Si(S,o),null!==y&&gS(0,w-h,S,b,0,y),Tn(b)&&(ki(a.index,o)[En]=ho(o,i,w,a))}}(i,o,a,Br(a,o)),64==(64&a.flags)&&ey(i,o,a))}function _h(i,o,a=Br){const l=o.localNames;if(null!==l){let h=o.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],w=-1===y?a(o,i):i[y];i[h++]=w}}}function ti(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=Ta(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts,i.id):o}function Ta(i,o,a,l,h,f,y,w,b,S,R){const V=sn+l,Z=V+h,ee=function aS(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Ht);return a}(V,Z),Te="function"==typeof S?S():S;return ee[it]={type:i,blueprint:ee,template:a,queries:null,viewQuery:w,declTNode:o,data:ee.slice().fill(null,V),bindingStartIndex:V,expandoStartIndex:Z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:b,consts:Te,incompleteFirstPass:!1,ssrId:R}}let Ev=i=>null;function Wo(i,o,a,l){for(let h in i)if(i.hasOwnProperty(h)){a=null===a?{}:a;const f=i[h];null===l?Xm(a,o,h,f):l.hasOwnProperty(h)&&Xm(a,o,l[h],f)}return a}function Xm(i,o,a,l){i.hasOwnProperty(a)?i[a].push(o,l):i[a]=[o,l]}function hi(i,o,a,l,h,f,y,w){const b=Br(o,a);let R,S=o.inputs;!w&&null!=S&&(R=S[l])?(ny(i,a,R,l,h),Ki(o)&&function EI(i,o){const a=ki(o,i);16&a[Pt]||(a[Pt]|=64)}(a,o.index)):3&o.type&&(l=function lS(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=y?y(h,o.value||"",l):h,f.setProperty(b,l,h))}function bv(i,o,a,l){if(eu()){const h=null===l?null:{"":-1},f=function II(i,o){const a=i.directiveRegistry;let l=null,h=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Ao(o,y.selectors,!1))if(l||(l=[]),Tn(y))if(null!==y.findHostDirectiveDefs){const w=[];h=h||new Map,y.findHostDirectiveDefs(y,w,h),l.unshift(...w,y),xv(i,o,w.length)}else l.unshift(y),xv(i,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(i,a);let y,w;null===f?y=w=null:[y,w]=f,null!==y&&Cv(i,o,a,y,h,w),h&&function Dp(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const f=a[o[h+1]];if(null==f)throw new te(-301,!1);l.push(o[h],f)}}}(a,l,h)}a.mergedAttrs=tn(a.mergedAttrs,a.attrs)}function Cv(i,o,a,l,h,f){for(let S=0;S<l.length;S++)Qu(lo(a,o),i,l[S].type);!function Tp(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,l.length);for(let S=0;S<l.length;S++){const R=l[S];R.providersResolver&&R.providersResolver(R)}let y=!1,w=!1,b=bp(i,o,l.length,null);for(let S=0;S<l.length;S++){const R=l[S];a.mergedAttrs=tn(a.mergedAttrs,R.hostAttrs),fS(i,a,o,b,R),hS(b,R,h),null!==R.contentQueries&&(a.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(a.flags|=64);const V=R.type.prototype;!y&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks??=[]).push(a.index),y=!0),!w&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks??=[]).push(a.index),w=!0),b++}!function cS(i,o,a){const h=o.directiveEnd,f=i.data,y=o.attrs,w=[];let b=null,S=null;for(let R=o.directiveStart;R<h;R++){const V=f[R],Z=a?a.get(V):null,Te=Z?Z.outputs:null;b=Wo(V.inputs,R,b,Z?Z.inputs:null),S=Wo(V.outputs,R,S,Te);const Ve=null===b||null===y||So(o)?null:bI(b,R,y);w.push(Ve)}null!==b&&(b.hasOwnProperty("class")&&(o.flags|=8),b.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=b,o.outputs=S}(i,a,f)}function ey(i,o,a){const l=a.directiveStart,h=a.directiveEnd,f=a.index,y=function zu(){return Tt.lFrame.currentDirectiveIndex}();try{ao(f);for(let w=l;w<h;w++){const b=i.data[w],S=o[w];$d(w),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&Av(b,S)}}finally{ao(-1),$d(y)}}function Av(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function xv(i,o,a){o.componentOffset=a,(i.components??=[]).push(o.index)}function hS(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Tn(o)&&(a[""]=i)}}function fS(i,o,a,l,h){i.data[l]=h;const f=h.factory||(h.factory=to(h.type)),y=new pt(f,Tn(h),dc);i.blueprint[l]=y,a[l]=y,function Dv(i,o,a,l,h){const f=h.hostBindings;if(f){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~o.index;(function Tv(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,l,f)}}(i,o,l,bp(i,a,h.hostVars,Ht),h)}function Bs(i,o,a,l,h,f){const y=Br(i,o);!function Sp(i,o,a,l,h,f,y){if(null==f)i.removeAttribute(o,h,a);else{const w=null==y?se(f):y(f,l||"",h);i.setAttribute(o,h,w,a)}}(o[Ct],y,f,i.value,a,l,h)}function gS(i,o,a,l,h,f){const y=f[o];if(null!==y)for(let w=0;w<y.length;)Mv(l,a,y[w++],y[w++],y[w++])}function Mv(i,o,a,l,h){const f=zn(null);try{const y=i.inputTransforms;null!==y&&y.hasOwnProperty(l)&&(h=y[l].call(o,h)),null!==i.setInput?i.setInput(o,h,a,l):o[l]=h}finally{zn(f)}}function bI(i,o,a){let l=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;if(i.hasOwnProperty(f)){null===l&&(l=[]);const y=i[f];for(let w=0;w<y.length;w+=2)if(y[w]===o){l.push(f,y[w+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function Rv(i,o,a,l){return[i,!0,!1,o,null,0,l,a,null,null,null]}function Ap(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const f=a[l+1];if(-1!==f){const y=i.data[f];so(a[l]),y.contentQueries(2,o[f],f)}}}function vh(i,o){return i[Wa]?i[Mo][Yr]=o:i[Wa]=o,i[Mo]=o,o}function xp(i,o,a){so(0);const l=zn(null);try{o(i,a)}finally{zn(l)}}function ty(i){return i[Rs]||(i[Rs]=[])}function Nv(i){return i.cleanup||(i.cleanup=[])}function DI(i,o){const a=i[qi],l=a?a.get(Bl,null):null;l&&l.handleError(o)}function ny(i,o,a,l,h){for(let f=0;f<a.length;){const y=a[f++],w=a[f++];Mv(i.data[y],o[y],l,w,h)}}function Sa(i,o,a){const l=da(o,i);!function Z_(i,o,a){i.setValue(o,a)}(i[Ct],l,a)}function Ov(i,o){const a=ki(o,i),l=a[it];!function TI(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])}(l,a);const h=a[er];null!==h&&null===a[Qr]&&(a[Qr]=mp(h,a[qi])),kv(l,a,a[En])}function kv(i,o,a){qu(o);try{const l=i.viewQuery;null!==l&&xp(1,l,a);const h=i.template;null!==h&&vI(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ap(i,o),i.staticViewQueries&&xp(2,i.viewQuery,a);const f=i.components;null!==f&&function Fv(i,o){for(let a=0;a<o.length;a++)Ov(i,o[a])}(o,f)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[Pt]&=-5,zd()}}let fi=(()=>{class i{constructor(){this.all=new Set,this.queue=new Map}create(a,l,h){const f=typeof Zone>"u"?null:Zone.current,y=new Lf(a,S=>{this.all.has(S)&&this.queue.set(S,f)},h);let w;this.all.add(y),y.notify();const b=()=>{y.cleanup(),w?.(),this.all.delete(y),this.queue.delete(y)};return w=l?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[a,l]of this.queue)this.queue.delete(a),l?l.run(()=>a.run()):a.run()}get isQueueEmpty(){return 0===this.queue.size}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:()=>new i}),i})();function wh(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?f=w:1==f?h=Fe(h,w):2==f&&(l=Fe(l,w+": "+o[++y]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}function Mp(i,o,a,l,h=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&l.push(In(f)),Vr(f)){for(let w=Nr;w<f.length;w++){const b=f[w],S=b[it].firstChild;null!==S&&Mp(b[it],b,S,l)}f[Ei]!==f[er]&&l.push(f[Ei])}const y=a.type;if(8&y)Mp(i,o,a.child,l);else if(32&y){const w=sh(a,o);let b;for(;b=w();)l.push(b)}else if(16&y){const w=ME(o,a);if(Array.isArray(w))l.push(...w);else{const b=np(o[On]);Mp(b[it],b,w,l,!0)}}a=h?a.projectionNext:a.next}return l}function iy(i,o,a,l=!0){const h=o[xo].rendererFactory;h.begin&&h.begin();try{AI(i,o,i.template,a)}catch(y){throw l&&DI(o,y),y}finally{h.end&&h.end(),o[xo].effectManager?.flush()}}function AI(i,o,a,l){const h=o[Pt];if(256!=(256&h)){o[xo].effectManager?.flush(),qu(o);try{Ld(o),function Hu(i){return Tt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&vI(i,o,a,2,l);const y=3==(3&h);if(y){const S=i.preOrderCheckHooks;null!==S&&su(o,S,null)}else{const S=i.preOrderHooks;null!==S&&El(o,S,0,null),Ku(o,0)}if(function mS(i){for(let o=bE(i);null!==o;o=vm(o)){if(!o[No])continue;const a=o[aa];for(let l=0;l<a.length;l++){fl(a[l])}}}(o),xI(o,2),null!==i.contentQueries&&Ap(i,o),y){const S=i.contentCheckHooks;null!==S&&su(o,S)}else{const S=i.contentHooks;null!==S&&El(o,S,1),Ku(o,1)}!function Qm(i,o){const a=i.hostBindingOpCodes;if(null===a)return;const l=yI(o,Wi);try{for(let h=0;h<a.length;h++){const f=a[h];if(f<0)ao(~f);else{const y=f,w=a[++h],b=a[++h];nu(w,y),l.runInContext(b,2,o[y])}}}finally{null===o[Wi]&&rS(o,Wi),ao(-1)}}(i,o);const w=i.components;null!==w&&sy(o,w,0);const b=i.viewQuery;if(null!==b&&xp(2,b,l),y){const S=i.viewCheckHooks;null!==S&&su(o,S)}else{const S=i.viewHooks;null!==S&&El(o,S,2),Ku(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[Pt]&=-73,Uu(o)}finally{zd()}}}function xI(i,o){for(let a=bE(i);null!==a;a=vm(a))for(let l=Nr;l<a.length;l++)Eh(a[l],o)}function Rp(i,o,a){Eh(ki(o,i),a)}function Eh(i,o){if(!function kd(i){return 128==(128&i[Pt])}(i))return;const a=i[it];if(80&i[Pt]&&0===o||1024&i[Pt]||2===o)AI(a,i,a.template,i[En]);else if(i[Tu]>0){xI(i,1);const h=i[it].components;null!==h&&sy(i,h,1)}}function sy(i,o,a){for(let l=0;l<o.length;l++)Rp(i,o[l],a)}class Ih{get rootNodes(){const o=this._lView,a=o[it];return Mp(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[En]}set context(o){this._lView[En]=o}get destroyed(){return 256==(256&this._lView[Pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Dn];if(Vr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(W_(o,l),Tl(a,l))}this._attachedToViewContainer=!1}Im(this._lView[it],this._lView)}onDestroy(o){!function Fi(i,o){if(256==(256&i[Pt]))throw new te(911,!1);null===i[Rr]&&(i[Rr]=[]),i[Rr].push(o)}(this._lView,o)}markForCheck(){Vl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Pt]&=-129}reattach(){this._lView[Pt]|=128}detectChanges(){iy(this._lView[it],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new te(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q1(i,o){ah(i,o,o[Ct],2,null,null)}(this._lView[it],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new te(902,!1);this._appRef=o}}class yS extends Ih{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;iy(o[it],o,o[En],!1)}checkNoChanges(){}get context(){return null}}class Np extends mv{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Vt(o);return new Pp(a,this.ngModule)}}function oy(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class MI{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=z(l);const h=this.injector.get(o,Wm,l);return h!==Wm||a===Wm?h:this.parentInjector.get(o,a,l)}}class Pp extends pv{get inputs(){const o=this.componentDef,a=o.inputTransforms,l=oy(o.inputs);if(null!==a)for(const h of l)a.hasOwnProperty(h.propName)&&(h.transform=a[h.propName]);return l}get outputs(){return oy(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Ed(i){return i.map(Xg).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let f=(h=h||this.ngModule)instanceof Ll?h:h?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new MI(o,f):o,w=y.get(oI,null);if(null===w)throw new te(407,!1);const R={rendererFactory:w,sanitizer:y.get(wM,null),effectManager:y.get(fi,null)},V=w.createRenderer(null,this.componentDef),Z=this.componentDef.selectors[0][0]||"div",ee=l?function wI(i,o,a,l){const f=l.get(hI,!1)||a===wt.ShadowDom,y=i.selectRootElement(o,f);return function wv(i){Ev(i)}(y),y}(V,l,this.componentDef.encapsulation,y):Em(V,Z,function Vv(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(Z)),et=this.componentDef.signals?4608:this.componentDef.onPush?576:528,gt=Ta(0,null,null,1,0,null,null,null,null,null,null),Ae=hc(null,gt,null,et,null,null,R,V,y,null,null);let Gt,nn;qu(Ae);try{const cn=this.componentDef;let _i,Vg=null;cn.findHostDirectiveDefs?(_i=[],Vg=new Map,cn.findHostDirectiveDefs(cn,_i,Vg),_i.push(cn)):_i=[cn];const Zw=function RI(i,o){const a=i[it],l=sn;return i[l]=o,yh(a,l,2,"#host",null)}(Ae,ee),uD=function NI(i,o,a,l,h,f,y){const w=h[it];!function ay(i,o,a,l){for(const h of i)o.mergedAttrs=tn(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(wh(o,o.mergedAttrs,!0),null!==a&&NE(l,a,o))}(l,i,o,y);let b=null;null!==o&&(b=mp(o,h[qi]));const S=f.rendererFactory.createRenderer(o,a);let R=16;a.signals?R=4096:a.onPush&&(R=64);const V=hc(h,ti(a),null,R,h[i.index],i,f,S,null,null,b);return w.firstCreatePass&&xv(w,i,l.length-1),vh(h,V),h[i.index]=V}(Zw,ee,cn,_i,Ae,R,V);nn=Od(gt,sn),ee&&function wS(i,o,a,l){if(l)ht(i,a,["ng-version",cI.full]);else{const{attrs:h,classes:f}=function bu(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let f=i[l];if("string"==typeof f)2===h?""!==f&&o.push(f,i[++l]):8===h&&a.push(f);else{if(!oi(h))break;h=f}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&ht(i,a,h),f&&f.length>0&&RE(i,a,f.join(" "))}}(V,cn,ee,l),void 0!==a&&function bh(i,o,a){const l=i.projection=[];for(let h=0;h<o.length;h++){const f=a[h];l.push(null!=f?Array.from(f):null)}}(nn,this.ngContentSelectors,a),Gt=function vS(i,o,a,l,h,f){const y=lr(),w=h[it],b=Br(y,h);Cv(w,h,y,a,null,l);for(let R=0;R<a.length;R++)Si(ho(h,w,y.directiveStart+R,y),h);ey(w,h,y),b&&Si(b,h);const S=ho(h,w,y.directiveStart+y.componentOffset,y);if(i[En]=h[En]=S,null!==f)for(const R of f)R(S,o);return vv(w,y,i),S}(uD,cn,_i,Vg,Ae,[ES]),kv(gt,Ae,null)}finally{zd()}return new Op(this.componentType,Gt,_p(nn,Ae),Ae,nn)}}class Op extends yp{constructor(o,a,l,h,f){super(),this.location=l,this._rootLView=h,this._tNode=f,this.previousInputValues=null,this.instance=a,this.hostView=this.changeDetectorRef=new yS(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),a))return;const f=this._rootLView;ny(f[it],f,h,o,a),this.previousInputValues.set(o,a),Vl(ki(this._tNode.index,f))}}get injector(){return new Os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ES(){const i=lr();Wu(xe()[it],i)}function fu(i){let o=function PI(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(Tn(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new te(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const y=i;y.inputs=$l(i.inputs),y.inputTransforms=$l(i.inputTransforms),y.declaredInputs=$l(i.declaredInputs),y.outputs=$l(i.outputs);const w=h.hostBindings;w&&FI(i,w);const b=h.viewQuery,S=h.contentQueries;if(b&&kI(i,b),S&&kp(i,S),G(i.inputs,h.inputs),G(i.declaredInputs,h.declaredInputs),G(i.outputs,h.outputs),null!==h.inputTransforms&&(null===y.inputTransforms&&(y.inputTransforms={}),G(y.inputTransforms,h.inputTransforms)),Tn(h)&&h.data.animation){const R=i.data;R.animation=(R.animation||[]).concat(h.data.animation)}}const f=h.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(i),w===fu&&(a=!1)}}o=Object.getPrototypeOf(o)}!function OI(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=tn(h.hostAttrs,a=tn(a,h.hostAttrs))}}(l)}function $l(i){return i===yt?{}:i===dt?[]:i}function kI(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function kp(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,f)=>{o(l,h,f),a(l,h,f)}:o}function FI(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function ly(i){const o=i.inputConfig,a={};for(const l in o)if(o.hasOwnProperty(l)){const h=o[l];Array.isArray(h)&&h[2]&&(a[l]=h[2])}i.inputTransforms=a}function Dh(i){return!!hy(i)&&(Array.isArray(i)||!(i instanceof Map)&&Symbol.iterator in i)}function hy(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function wo(i,o,a){return i[o]=a}function pi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function pc(i,o,a,l){const h=pi(i,o,a);return pi(i,o+1,l)||h}function jv(i,o,a,l){const h=xe();return pi(h,kn(),o)&&(en(),Bs(xn(),h,i,o,a,l)),jv}function Hl(i,o,a,l){return pi(i,kn(),a)?o+se(a)+l:Ht}function pu(i,o,a,l,h,f){const w=pc(i,function ys(){return Tt.lFrame.bindingIndex}(),a,h);return _s(2),w?o+se(a)+l+se(h)+f:Ht}function pr(i,o,a,l,h,f,y,w){const b=xe(),S=en(),R=i+sn,V=S.firstCreatePass?function xS(i,o,a,l,h,f,y,w,b){const S=o.consts,R=yh(o,i,4,y||null,ms(S,w));bv(o,a,R,ms(S,b)),Wu(o,R);const V=R.tView=Ta(2,R,l,h,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S,null);return null!==o.queries&&(o.queries.template(o,R),V.queries=o.queries.embeddedTView(R)),R}(R,S,b,o,a,l,h,f,y):S.data[R];Jr(V,!1);const Z=Yv(S,b,V,i);iu()&&bm(S,b,Z,V),Si(Z,b),vh(b,b[R]=Rv(Z,b,Z,V)),eo(V)&&di(S,b,V),null!=y&&_h(b,V,w)}let Yv=function ZI(i,o,a,l){return Lo(!0),o[Ct].createComment("")};function Qv(i){return io(function yl(){return Tt.lFrame.contextLView}(),sn+i)}function vy(i,o,a){const l=xe();return pi(l,kn(),o)&&hi(en(),xn(),l,i,o,l[Ct],a,!1),vy}function xh(i,o,a,l,h){const y=h?"class":"style";ny(i,a,o.inputs[y],y,l)}function $s(i,o,a,l){const h=xe(),f=en(),y=sn+i,w=h[Ct],b=f.firstCreatePass?function KI(i,o,a,l,h,f){const y=o.consts,b=yh(o,i,2,l,ms(y,h));return bv(o,a,b,ms(y,f)),null!==b.attrs&&wh(b,b.attrs,!1),null!==b.mergedAttrs&&wh(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(y,f,h,o,a,l):f.data[y],S=Xv(f,h,b,w,o,i);h[y]=S;const R=eo(b);return Jr(b,!0),NE(w,S,b),32!=(32&b.flags)&&iu()&&bm(f,h,S,b),0===function rm(){return Tt.lFrame.elementDepthCount}()&&Si(S,h),function gl(){Tt.lFrame.elementDepthCount++}(),R&&(di(f,h,b),vv(f,b,h)),null!==l&&_h(h,b),$s}function Zp(){let i=lr();zf()?Gn():(i=i.parent,Jr(i,!1));const o=i;(function Bu(i){return Tt.skipHydrationRootTNode===i})(o)&&function $f(){Tt.skipHydrationRootTNode=null}(),function Bf(){Tt.lFrame.elementDepthCount--}();const a=en();return a.firstCreatePass&&(Wu(a,i),Kc(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function qf(i){return 0!=(8&i.flags)}(o)&&xh(a,o,xe(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ga(i){return 0!=(16&i.flags)}(o)&&xh(a,o,xe(),o.stylesWithoutHost,!1),Zp}function Jv(i,o,a,l){return $s(i,o,a,l),Zp(),Jv}let Xv=(i,o,a,l,h,f)=>(Lo(!0),Em(l,h,function Kd(){return Tt.lFrame.currentNamespace}()));function Mh(i,o,a){const l=xe(),h=en(),f=i+sn,y=h.firstCreatePass?function YI(i,o,a,l,h){const f=o.consts,y=ms(f,l),w=yh(o,i,8,"ng-container",y);return null!==y&&wh(w,y,!0),bv(o,a,w,ms(f,h)),null!==o.queries&&o.queries.elementStart(o,w),w}(f,h,l,o,a):h.data[f];Jr(y,!0);const w=Kp(h,l,y,i);return l[f]=w,iu()&&bm(h,l,w,y),Si(w,l),eo(y)&&(di(h,l,y),vv(h,y,l)),null!=a&&_h(l,y),Mh}function Zl(){let i=lr();const o=en();return zf()?Gn():(i=i.parent,Jr(i,!1)),o.firstCreatePass&&(Wu(o,i),Kc(i)&&o.queries.elementEnd(i)),Zl}let Kp=(i,o,a,l)=>(Lo(!0),wm(o[Ct],""));function Rh(){return xe()}function wy(i){return!!i&&"function"==typeof i.then}function n0(i){return!!i&&"function"==typeof i.subscribe}function Yp(i,o,a,l){const h=xe(),f=en(),y=lr();return function Qp(i,o,a,l,h,f,y){const w=eo(l),S=i.firstCreatePass&&Nv(i),R=o[En],V=ty(o);let Z=!0;if(3&l.type||y){const Ve=Br(l,o),et=y?y(Ve):Ve,gt=V.length,Ae=y?nn=>y(In(nn[l.index])):l.index;let Gt=null;if(!y&&w&&(Gt=function JI(i,o,a,l){const h=i.cleanup;if(null!=h)for(let f=0;f<h.length-1;f+=2){const y=h[f];if(y===a&&h[f+1]===l){const w=o[Rs],b=h[f+2];return w.length>b?w[b]:null}"string"==typeof y&&(f+=2)}return null}(i,o,h,l.index)),null!==Gt)(Gt.__ngLastListenerFn__||Gt).__ngNextListenerFn__=f,Gt.__ngLastListenerFn__=f,Z=!1;else{f=s0(l,o,R,f,!1);const nn=a.listen(et,h,f);V.push(f,nn),S&&S.push(h,Ae,gt,gt+1)}}else f=s0(l,o,R,f,!1);const ee=l.outputs;let Te;if(Z&&null!==ee&&(Te=ee[h])){const Ve=Te.length;if(Ve)for(let et=0;et<Ve;et+=2){const cn=o[Te[et]][Te[et+1]].subscribe(f),_i=V.length;V.push(f,cn),S&&S.push(h,l.index,_i,-(_i+1))}}}(f,h,h[Ct],y,i,o,l),Yp}function r0(i,o,a,l){try{return Yi(6,o,a),!1!==a(l)}catch(h){return DI(i,h),!1}finally{Yi(7,o,a)}}function s0(i,o,a,l,h){return function f(y){if(y===Function)return l;Vl(i.componentOffset>-1?ki(i.index,o):o);let b=r0(o,a,l,y),S=f.__ngNextListenerFn__;for(;S;)b=r0(o,a,S,y)&&b,S=S.__ngNextListenerFn__;return h&&!1===b&&y.preventDefault(),b}}function _c(i=1){return function Gd(i){return(Tt.lFrame.contextLView=function sm(i,o){for(;i>0;)o=o[Xs],i--;return o}(i,Tt.lFrame.contextLView))[En]}(i)}function Iy(i,o,a){return Nh(i,"",o,"",a),Iy}function Nh(i,o,a,l,h){const f=xe(),y=Hl(f,o,a,l);return y!==Ht&&hi(en(),xn(),f,i,y,f[Ct],h,!1),Nh}function Cy(i,o){return i<<17|o<<2}function Na(i){return i>>17&32767}function Jp(i){return 2|i}function bo(i){return(131068&i)>>2}function Xp(i,o){return-131069&i|o<<2}function Ko(i){return 1|i}function Ph(i,o,a,l,h){const f=i[a+1],y=null===o;let w=l?Na(f):bo(f),b=!1;for(;0!==w&&(!1===b||y);){const R=i[w+1];Sy(i[w],o)&&(b=!0,i[w+1]=l?Ko(R):Jp(R)),w=l?Na(R):bo(R)}b&&(i[a+1]=l?Jp(f):Ko(f))}function Sy(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&A(i,o)>=0}function Oa(i,o){return function Cr(i,o,a,l){const h=xe(),f=en(),y=_s(2);f.firstUpdatePass&&function It(i,o,a,l){const h=i.data;if(null===h[a+1]){const f=h[ui()],y=function at(i,o){return o>=i.expandoStartIndex}(i,a);(function cb(i,o){return 0!=(i.flags&(o?8:16))})(f,l)&&null===o&&!y&&(o=!1),o=function US(i,o,a,l){const h=function ru(i){const o=Tt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let f=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Fh(a=Or(null,i,o,a,l),o.attrs,l),f=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==h)if(a=Or(h,i,o,a,l),null===f){let b=function rt(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==bo(l))return i[Na(l)]}(i,o,l);void 0!==b&&Array.isArray(b)&&(b=Or(null,i,o,b[1],l),b=Fh(b,o.attrs,l),function le(i,o,a,l){i[Na(a?o.classBindings:o.styleBindings)]=l}(i,o,l,b))}else f=function Pe(i,o,a){let l;const h=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<h;f++)l=Fh(l,i[f].hostAttrs,a);return Fh(l,o.attrs,a)}(i,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),a}(h,f,o,l),function Dy(i,o,a,l,h,f){let y=f?o.classBindings:o.styleBindings,w=Na(y),b=bo(y);i[l]=a;let R,S=!1;if(Array.isArray(a)?(R=a[1],(null===R||A(a,R)>0)&&(S=!0)):R=a,h)if(0!==b){const Z=Na(i[w+1]);i[l+1]=Cy(Z,w),0!==Z&&(i[Z+1]=Xp(i[Z+1],l)),i[w+1]=function rb(i,o){return 131071&i|o<<17}(i[w+1],l)}else i[l+1]=Cy(w,0),0!==w&&(i[w+1]=Xp(i[w+1],l)),w=l;else i[l+1]=Cy(b,0),0===w?w=l:i[b+1]=Xp(i[b+1],l),b=l;S&&(i[l+1]=Jp(i[l+1])),Ph(i,R,l,!0),Ph(i,R,l,!1),function Ty(i,o,a,l,h){const f=h?i.residualClasses:i.residualStyles;null!=f&&"string"==typeof o&&A(f,o)>=0&&(a[l+1]=Ko(a[l+1]))}(o,R,i,l,f),y=Cy(w,b),f?o.classBindings=y:o.styleBindings=y}(h,f,o,a,y,l)}}(f,i,y,l),o!==Ht&&pi(h,y,o)&&function ub(i,o,a,l,h,f,y,w){if(!(3&o.type))return;const b=i.data,S=b[w+1],R=function ib(i){return 1==(1&i)}(S)?l0(b,o,a,h,bo(S),y):void 0;My(R)||(My(f)||function Pa(i){return 2==(2&i)}(S)&&(f=l0(b,null,a,h,w,y)),function mT(i,o,a,l,h){if(o)h?i.addClass(a,l):i.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:ba.DashCase;null==h?i.removeStyle(a,l,f):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),f|=ba.Important),i.setStyle(a,l,h,f))}}(l,y,da(ui(),a),h,f))}(f,f.data[ui()],h,h[Ct],i,h[y+1]=function MM(i,o){return null==i||""===i||("string"==typeof o?i+=o:"object"==typeof i&&(i=ne(qo(i)))),i}(o,a),l,y)}(i,o,null,!0),Oa}function Or(i,o,a,l,h){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=o[w],l=Fh(l,f.hostAttrs,h),f!==i);)w++;return null!==i&&(a.directiveStylingLast=w),l}function Fh(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?h=y:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),E(i,y,!!a||o[++f]))}return void 0===i?null:i}function l0(i,o,a,l,h,f){const y=null===o;let w;for(;h>0;){const b=i[h],S=Array.isArray(b),R=S?b[1]:b,V=null===R;let Z=a[h+1];Z===Ht&&(Z=V?dt:void 0);let ee=V?D(Z,l):R===l?Z:void 0;if(S&&!My(ee)&&(ee=D(b,l)),My(ee)&&(w=ee,y))return w;const Te=i[h+1];h=y?Na(Te):bo(Te)}if(null!==o){let b=f?o.residualClasses:o.residualStyles;null!=b&&(w=D(b,l))}return w}function My(i){return void 0!==i}function d0(i,o=""){const a=xe(),l=en(),h=i+sn,f=l.firstCreatePass?yh(l,h,1,o,null):l.data[h],y=jt(l,a,f,o,i);a[h]=y,iu()&&bm(l,a,y,f),Jr(f,!1)}let jt=(i,o,a,l,h)=>(Lo(!0),function ip(i,o){return i.createText(o)}(o[Ct],l));function Wn(i){return _t("",i,""),Wn}function _t(i,o,a){const l=xe(),h=Hl(l,i,o,a);return h!==Ht&&Sa(l,ui(),h),_t}function Ql(i,o,a,l,h){const f=xe(),y=pu(f,i,o,a,l,h);return y!==Ht&&Sa(f,ui(),y),Ql}const Jl=void 0;var ka=["en",[["a","p"],["AM","PM"],Jl],[["AM","PM"],Jl,Jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jl,"{1} 'at' {0}",Jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function vb(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Xl={};function ky(i){const o=function GS(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Eb(o);if(a)return a;const l=o.split("-")[0];if(a=Eb(l),a)return a;if("en"===l)return ka;throw new te(701,!1)}function wb(i){return ky(i)[Rt.PluralCase]}function Eb(i){return i in Xl||(Xl[i]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[i]),Xl[i]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const Bh="en-US";let Ib=Bh;function Gh(i,o,a,l,h){if(i=Ne(i),Array.isArray(i))for(let f=0;f<i.length;f++)Gh(i[f],o,a,l,h);else{const f=en(),y=xe();let w=hh(i)?i:Ne(i.provide),b=QE(i);const S=lr(),R=1048575&S.providerIndexes,V=S.directiveStart,Z=S.providerIndexes>>20;if(hh(i)||!i.multi){const ee=new pt(b,h,dc),Te=Xo(w,o,h?R:R+Z,V);-1===Te?(Qu(lo(S,y),f,w),zy(f,i,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(ee),y.push(ee)):(a[Te]=ee,y[Te]=ee)}else{const ee=Xo(w,o,R+Z,V),Te=Xo(w,o,R,R+Z),et=Te>=0&&a[Te];if(h&&!et||!h&&!(ee>=0&&a[ee])){Qu(lo(S,y),f,w);const gt=function R0(i,o,a,l,h){const f=new pt(i,a,dc);return f.multi=[],f.index=o,f.componentProviders=0,M0(f,h,l&&!a),f}(h?qh:Ub,a.length,h,l,b);!h&&et&&(a[Te].providerFactory=gt),zy(f,i,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,h&&(S.providerIndexes+=1048576),a.push(gt),y.push(gt)}else zy(f,i,ee>-1?ee:Te,M0(a[h?Te:ee],b,!h&&l));!h&&l&&et&&a[Te].componentProviders++}}}function zy(i,o,a,l){const h=hh(o),f=function cM(i){return!!i.useClass}(o);if(h||f){const b=(f?Ne(o.useClass):o).prototype.ngOnDestroy;if(b){const S=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const R=S.indexOf(a);-1===R?S.push(a,[l,b]):S[R+1].push(l,b)}else S.push(a,b)}}}function M0(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Xo(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function Ub(i,o,a,l){return Gy(this.multi,[])}function qh(i,o,a,l){const h=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=ho(a,a[it],this.providerFactory.index,l);f=w.slice(0,y),Gy(h,f);for(let b=y;b<w.length;b++)f.push(w[b])}else f=[],Gy(h,f);return f}function Gy(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function fg(i,o=[]){return a=>{a.providersResolver=(l,h)=>function Hy(i,o,a){const l=en();if(l.firstCreatePass){const h=Tn(i);Gh(a,l.data,l.blueprint,h,!0),Gh(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class xc{}class Mc{}function os(i,o){return new Zh(i,o??null,[])}class Zh extends xc{constructor(o,a,l){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Np(this);const h=Kr(o);this._bootstrapComponents=cc(h.bootstrap),this._r3Injector=vo(o,a,[{provide:xc,useValue:this},{provide:mv,useValue:this.componentFactoryResolver},...l],ne(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class rd extends Mc{constructor(o){super(),this.moduleType=o}create(o){return new Zh(this.moduleType,o,[])}}class qy extends xc{constructor(o){super(),this.componentFactoryResolver=new Np(this),this.instance=null;const a=new $m([...o.providers,{provide:xc,useValue:this},{provide:mv,useValue:this.componentFactoryResolver}],o.parent||jm(),o.debugName,new Set(["environment"]));this.injector=a,o.runEnvironmentInitializers&&a.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Wh(i,o,a=null){return new qy({providers:i,parent:o,debugName:a,runEnvironmentInitializers:!0}).injector}let jb=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=VT(0,a.type),h=l.length>0?Wh([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Lt({token:i,providedIn:"environment",factory:()=>new i(Pn(Ll))}),i})();function N0(i){i.getStandaloneInjector=o=>o.get(jb).getOrCreateStandaloneInjector(i)}function k0(i,o,a){const l=Pr()+i,h=xe();return h[l]===Ht?wo(h,l,a?o.call(a):o()):function fc(i,o){return i[o]}(h,l)}function gg(i,o,a,l){return F0(xe(),Pr(),i,o,a,l)}function Va(i,o){const a=i[o];return a===Ht?void 0:a}function F0(i,o,a,l,h,f){const y=o+a;return pi(i,y,h)?wo(i,y+1,f?l.call(f,h):l(h)):Va(i,y+1)}function tr(i,o){const a=en();let l;const h=i+sn;a.firstCreatePass?(l=function Zy(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks??=[]).push(h,l.onDestroy)):l=a.data[h];const f=l.factory||(l.factory=to(l.type)),y=Yt(dc);try{const w=Vo(!1),b=f();return Vo(w),function WI(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,xe(),h,b),b}finally{Yt(y)}}function V0(i,o,a){const l=i+sn,h=xe(),f=io(h,l);return Ba(h,l)?F0(h,Pr(),o,f.transform,a,f):f.transform(a)}function eC(i,o,a,l){const h=i+sn,f=xe(),y=io(f,h);return Ba(f,h)?function L0(i,o,a,l,h,f,y){const w=o+a;return pc(i,w,h,f)?wo(i,w+2,y?l.call(y,h,f):l(h,f)):Va(i,w+2)}(f,Pr(),o,y.transform,a,l,y):y.transform(a,l)}function Ba(i,o){return i[it].data[o].pure}function Wy(i){return o=>{setTimeout(i,void 0,o)}}const ea=class yu extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,f=a||(()=>null),y=l;if(o&&"object"==typeof o){const b=o;h=b.next?.bind(b),f=b.error?.bind(b),y=b.complete?.bind(b)}this.__isAsync&&(f=Wy(f),h&&(h=Wy(h)),y&&(y=Wy(y)));const w=super.subscribe({next:h,error:f,complete:y});return o instanceof B.w0&&o.add(w),w}};function nC(){return this._results[Symbol.iterator]()}class Rc{get changes(){return this._changes||(this._changes=new ea)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Rc.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=nC)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function hr(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function au(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],f=o[l];if(a&&(h=a(h),f=a(f)),f!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let od=(()=>{class i{}return i.__NG_ELEMENT_ID__=$0,i})();const B0=od,j0=class extends B0{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,a){return this.createEmbeddedViewImpl(o,a,null)}createEmbeddedViewImpl(o,a,l){const y=this._declarationTContainer.tView,w=hc(this._declarationLView,y,o,4096&this._declarationLView[Pt]?4096:16,null,y.declTNode,null,null,null,a||null,l||null);w[Su]=this._declarationLView[this._declarationTContainer.index];const S=this._declarationLView[Zi];return null!==S&&(w[Zi]=S.createEmbeddedView(y)),kv(y,w,o),new Ih(w)}};function $0(){return Ky(lr(),xe())}function Ky(i,o){return 4&i.type?new j0(o,i,_p(i,o)):null}let _g=(()=>{class i{}return i.__NG_ELEMENT_ID__=G0,i})();function G0(){return q0(lr(),xe())}const vg=_g,Jh=class extends vg{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return _p(this._hostTNode,this._hostLView)}get injector(){return new Os(this._hostTNode,this._hostLView)}get parentInjector(){const o=es(this._hostTNode,this._hostLView);if(Ot(o)){const a=ma(o,this._hostLView),l=Di(o);return new Os(a[it].data[l+8],a)}return new Os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=Xh(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Nr}createEmbeddedView(o,a,l){let h,f;"number"==typeof l?h=l:null!=l&&(h=l.index,f=l.injector);const w=o.createEmbeddedViewImpl(a||{},f,null);return this.insertImpl(w,h,false),w}createComponent(o,a,l,h,f){const y=o&&!function ou(i){return"function"==typeof i}(o);let w;if(y)w=a;else{const Ve=a||{};w=Ve.index,l=Ve.injector,h=Ve.projectableNodes,f=Ve.environmentInjector||Ve.ngModuleRef}const b=y?o:new Pp(Vt(o)),S=l||this.parentInjector;if(!f&&null==b.ngModule){const et=(y?S:this.parentInjector).get(Ll,null);et&&(f=et)}Vt(b.componentType??{});const ee=b.create(S,h,null,f);return this.insertImpl(ee.hostView,w,false),ee}insert(o,a){return this.insertImpl(o,a,!1)}insertImpl(o,a,l){const h=o._lView,f=h[it];if(function Fd(i){return Vr(i[Dn])}(h)){const b=this.indexOf(o);if(-1!==b)this.detach(b);else{const S=h[Dn],R=new Jh(S,S[Mr],S[Dn]);R.detach(R.indexOf(o))}}const y=this._adjustIndex(a),w=this._lContainer;if(function dT(i,o,a,l){const h=Nr+l,f=a.length;l>0&&(a[h-1][Yr]=o),l<f-Nr?(o[Yr]=a[h],ks(a,Nr+l,o)):(a.push(o),o[Yr]=null),o[Dn]=a;const y=o[Su];null!==y&&a!==y&&function X1(i,o){const a=i[aa];o[On]!==o[Dn][Dn][On]&&(i[No]=!0),null===a?i[aa]=[o]:a.push(o)}(y,o);const w=o[Zi];null!==w&&w.insertView(i),o[Pt]|=128}(f,h,w,y),!l){const b=Y_(y,w),S=h[Ct],R=du(S,w[Ei]);null!==R&&function Y1(i,o,a,l,h,f){l[er]=h,l[Mr]=o,ah(i,l,a,1,h,f)}(f,w[Mr],S,h,R,b)}return o.attachToViewContainerRef(),ks(ef(w),y,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=Xh(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=W_(this._lContainer,a);l&&(Tl(ef(this._lContainer),a),Im(l[it],l))}detach(o){const a=this._adjustIndex(o,-1),l=W_(this._lContainer,a);return l&&null!=Tl(ef(this._lContainer),a)?new Ih(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function Xh(i){return i[8]}function ef(i){return i[8]||(i[8]=[])}function q0(i,o){let a;const l=o[i.index];return Vr(l)?a=l:(a=Rv(l,o,null,i),o[i.index]=a,vh(o,a)),Z0(a,o,i,l),new Jh(a,i,o)}let Z0=function aC(i,o,a,l){if(i[Ei])return;let h;h=8&a.type?In(l):function oC(i,o){const a=i[Ct],l=a.createComment(""),h=Br(o,i);return Pl(a,du(a,h),l,function ap(i,o){return i.nextSibling(o)}(a,h),!1),l}(o,a),i[Ei]=h};class W0{constructor(o){this.queryList=o,this.matches=null}clone(){return new W0(this.queryList)}setDirty(){this.queryList.setDirty()}}class K0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);h.push(this.queries[y.indexInDeclarationView].clone())}return new K0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==fC(o,a).matches&&this.queries[a].setDirty()}}class lC{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Y0{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(o,h);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new Y0(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class wg{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new wg(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const f=l[h];this.matchTNodeWithReadOption(o,a,tf(a,f)),this.matchTNodeWithReadOption(o,a,jo(a,o,f,!1,!1))}else l===od?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,jo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Zm||h===_g||h===od&&4&a.type)this.addMatch(a.index,-2);else{const f=jo(a,o,h,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function tf(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function dA(i,o,a,l){return-1===a?function dC(i,o){return 11&i.type?_p(i,o):4&i.type?Ky(i,o):null}(o,i):-2===a?function kr(i,o,a){return a===Zm?_p(o,i):a===od?Ky(o,i):a===_g?q0(o,i):void 0}(i,o,l):ho(i,i[it],a,o)}function Qy(i,o,a,l){const h=o[Zi].queries[l];if(null===h.matches){const f=i.data,y=a.matches,w=[];for(let b=0;b<y.length;b+=2){const S=y[b];w.push(S<0?null:dA(o,f[S],y[b+1],a.metadata.read))}h.matches=w}return h.matches}function Jy(i,o,a,l){const h=i.queries.getByIndex(a),f=h.matches;if(null!==f){const y=Qy(i,o,h,a);for(let w=0;w<f.length;w+=2){const b=f[w];if(b>0)l.push(y[w/2]);else{const S=f[w+1],R=o[-b];for(let V=Nr;V<R.length;V++){const Z=R[V];Z[Su]===Z[Dn]&&Jy(Z[it],Z,S,l)}if(null!==R[aa]){const V=R[aa];for(let Z=0;Z<V.length;Z++){const ee=V[Z];Jy(ee[it],ee,S,l)}}}}}return l}function nf(i){const o=xe(),a=en(),l=Gu();so(l+1);const h=fC(a,l);if(i.dirty&&function Vf(i){return 4==(4&i[Pt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const f=h.crossesNgTemplate?Jy(a,o,l,[]):Qy(a,o,h,l);i.reset(f,QT),i.notifyOnChanges()}return!0}return!1}function Xy(i,o,a,l){const h=en();if(h.firstCreatePass){const f=lr();(function X0(i,o,a){null===i.queries&&(i.queries=new Y0),i.queries.track(new wg(o,a))})(h,new lC(o,a,l),f.index),function hC(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function J0(i,o,a){const l=new Rc(4==(4&a));(function Cp(i,o,a,l){const h=ty(o);h.push(a),i.firstCreatePass&&Nv(i).push(l,h.length-1)})(i,o,l,l.destroy),null===o[Zi]&&(o[Zi]=new K0),o[Zi].queries.push(new W0(l))}(h,xe(),a)}function Q0(){return function Eg(i,o){return i[Zi].queries[o].queryList}(xe(),Gu())}function fC(i,o){return i.queries.getByIndex(o)}function e_(i){return!!Kr(i)}const Tg=new wn("Application Initializer");let ld=(()=>{class i{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l}),this.appInits=Qt(Tg,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const a=[];for(const h of this.appInits){const f=h();if(wy(f))a.push(f);else if(n0(f)){const y=new Promise((w,b)=>{f.subscribe({complete:w,error:b})});a.push(y)}}const l=()=>{this.done=!0,this.resolve()};Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),cw=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const ri=new wn("LocaleId",{providedIn:"root",factory:()=>Qt(ri,Ke.Optional|Ke.SkipSelf)||function AC(){return typeof $localize<"u"&&$localize.locale||Bh}()}),xC=new wn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let _u=(()=>{class i{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new P.X(!1)}add(){this.hasPendingTasks.next(!0);const a=this.taskId++;return this.pendingTasks.add(a),a}remove(a){this.pendingTasks.delete(a),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class uf{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let MC=(()=>{class i{compileModuleSync(a){return new rd(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=cc(Kr(a).declarations).reduce((y,w)=>{const b=Vt(w);return b&&y.push(new Pp(b)),y},[]);return new uf(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function fw(...i){}class us{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ea(!1),this.onMicrotaskEmpty=new ea(!1),this.onStable=new ea(!1),this.onError=new ea(!1),typeof Zone>"u")throw new te(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function SA(){const i="function"==typeof qt.requestAnimationFrame;let o=qt[i?"requestAnimationFrame":"setTimeout"],a=qt[i?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&a){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function RC(i){const o=()=>{!function xA(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(qt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,pw(i),i.isCheckStableRunning=!0,a_(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),pw(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,f,y,w)=>{try{return gw(i),a.invokeTask(h,f,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||i.shouldCoalesceRunChangeDetection)&&o(),Uc(i)}},onInvoke:(a,l,h,f,y,w,b)=>{try{return gw(i),a.invoke(h,f,y,w,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),Uc(i)}},onHasTask:(a,l,h,f)=>{a.hasTask(h,f),l===h&&("microTask"==f.change?(i._hasPendingMicrotasks=f.microTask,pw(i),a_(i)):"macroTask"==f.change&&(i.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,h,f)=>(a.handleError(h,f),i.runOutsideAngular(()=>i.onError.emit(f)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!us.isInAngularZone())throw new te(909,!1)}static assertNotInAngularZone(){if(us.isInAngularZone())throw new te(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+h,o,o_,fw,fw);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const o_={};function a_(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function pw(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function gw(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Uc(i){i._nesting--,a_(i)}class Sg{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ea,this.onMicrotaskEmpty=new ea,this.onStable=new ea,this.onError=new ea}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const mw=new wn("",{providedIn:"root",factory:yw});function yw(){const i=Qt(us);let o=!0;const a=new Q.y(h=>{o=i.isStable&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks,i.runOutsideAngular(()=>{h.next(o),h.complete()})}),l=new Q.y(h=>{let f;i.runOutsideAngular(()=>{f=i.onStable.subscribe(()=>{us.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!i.hasPendingMacrotasks&&!i.hasPendingMicrotasks&&(o=!0,h.next(!0))})})});const y=i.onUnstable.subscribe(()=>{us.assertInAngularZone(),o&&(o=!1,i.runOutsideAngular(()=>{h.next(!1)}))});return()=>{f.unsubscribe(),y.unsubscribe()}});return(0,ie.T)(a,l.pipe((0,we.B)()))}const NC=new wn(""),_w=new wn("");let zr,MA=(()=>{class i{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,zr||(function vw(i){zr=i}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{us.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Pn(us),Pn(PC),Pn(_w))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac}),i})(),PC=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return zr?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Vc=null;const OC=new wn("AllowMultipleToken"),ww=new wn("PlatformDestroyListeners"),Ew=new wn("appBootstrapListener");class RA{constructor(o,a){this.name=o,this.token=a}}function xg(i,o,a=[]){const l=`Platform: ${o}`,h=new wn(l);return(f=[])=>{let y=Dw();if(!y||y.injector.get(OC,!1)){const w=[...a,...f,{provide:h,useValue:!0}];i?i(w):function kC(i){if(Vc&&!Vc.get(OC,!1))throw new te(400,!1);(function Ag(){!function Nd(i){Rd=i}(()=>{throw new te(600,!1)})})(),Vc=i;const o=i.get(Tw);(function c_(i){i.get(GT,null)?.forEach(a=>a())})(i)}(function d_(i=[],o){return Ye.create({name:o,providers:[{provide:YE,useValue:"platform"},{provide:ww,useValue:new Set([()=>Vc=null])},...i]})}(w,l))}return function Cw(i){const o=Dw();if(!o)throw new te(401,!1);return o}()}}function Dw(){return Vc?.get(Tw)??null}let Tw=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Aw(i="zone.js",o){return"noop"===i?new Sg:"zone.js"===i?new us(o):i}(l?.ngZone,function Sw(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:i?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:i?.runCoalescing??!1}}({eventCoalescing:l?.ngZoneEventCoalescing,runCoalescing:l?.ngZoneRunCoalescing}));return h.run(()=>{const f=function Bb(i,o,a){return new Zh(i,o,a)}(a.moduleType,this.injector,function Nw(i){return[{provide:us,useFactory:i},{provide:Lm,multi:!0,useFactory:()=>{const o=Qt(Mw,{optional:!0});return()=>o.initialize()}},{provide:hd,useFactory:df},{provide:mw,useFactory:yw}]}(()=>h)),y=f.injector.get(Bl,null);return h.runOutsideAngular(()=>{const w=h.onError.subscribe({next:b=>{y.handleError(b)}});f.onDestroy(()=>{Mg(this._modules,f),w.unsubscribe()})}),function FC(i,o,a){try{const l=a();return wy(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(y,h,()=>{const w=f.injector.get(ld);return w.runInitializers(),w.donePromise.then(()=>(function y0(i){Je(i,"Expected localeId to be defined"),"string"==typeof i&&(Ib=i.toLowerCase().replace(/_/g,"-"))}(f.injector.get(ri,Bh)||Bh),this._moduleDoBootstrap(f),f))})})}bootstrapModule(a,l=[]){const h=xw({},l);return function Iw(i,o,a){const l=new rd(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,h))}_moduleDoBootstrap(a){const l=a.injector.get(lf);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new te(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new te(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(ww,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Pn(Ye))},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function xw(i,o){return Array.isArray(o)?o.reduce(xw,i):{...i,...o}}let lf=(()=>{class i{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Qt(hd),this.zoneIsStable=Qt(mw),this.componentTypes=[],this.components=[],this.isStable=Qt(_u).hasPendingTasks.pipe((0,Me.w)(a=>a?(0,ge.of)(!1):this.zoneIsStable),(0,ye.x)(),(0,we.B)()),this._injector=Qt(Ll)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const h=a instanceof pv;if(!this._injector.get(ld).done)throw!h&&Ms(a),new te(405,!1);let y;y=h?a:this._injector.get(mv).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function u_(i){return i.isBoundToModule}(y)?void 0:this._injector.get(xc),S=y.create(Ye.NULL,[],l||y.selector,w),R=S.location.nativeElement,V=S.injector.get(NC,null);return V?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Mg(this.components,S),V?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new te(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Mg(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Ew,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Mg(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new te(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Mg(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}const hd=new wn("",{providedIn:"root",factory:()=>Qt(Bl).handleError.bind(void 0)});function df(){const i=Qt(us),o=Qt(Bl);return a=>i.runOutsideAngular(()=>o.handleError(a))}let Mw=(()=>{class i{constructor(){this.zone=Qt(us),this.applicationRef=Qt(lf)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Lt({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function VC(){return!1}let jC=(()=>{class i{}return i.__NG_ELEMENT_ID__=$C,i})();function $C(i){return function Pw(i,o,a){if(Ki(i)&&!a){const l=ki(i.index,o);return new Ih(l,l)}return 47&i.type?new Ih(o[On],o):null}(lr(),xe(),16==(16&i))}class WC{constructor(){}supports(o){return Dh(o)}create(o){return new LA(o)}}const FA=(i,o)=>o;class LA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||FA}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<ff(l,h,f)?a:l,w=ff(y,h,f),b=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{f||(f=[]);const S=w-h,R=b-h;if(S!=R){for(let Z=0;Z<S;Z++){const ee=Z<f.length?f[Z]:f[Z]=0,Te=ee+Z;R<=Te&&Te<S&&(f[Z]=ee+1)}f[y.previousIndex]=R-S}}w!==b&&o(y,w,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!Dh(o))throw new te(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,f,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),l=!0),a=a._next}else h=0,function Lp(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{y=this._trackByFn(h,w),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,w,y,h)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,h)):o=this._addAfter(new Uw(a,l),f,h),o}_verifyReinsertion(o,a,l,h){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,f=o._nextRemoved;return null===h?this._removalsHead=f:h._nextRemoved=f,null===f?this._removalsTail=h:f._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new KC),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Uw{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UA{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class KC{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new UA,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ff(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class g_{constructor(){}supports(o){return o instanceof Map||hy(o)}create(){return new pf}}class pf{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||hy(o)))throw new te(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const f=h._prev,y=h._next;return f&&(f._next=y),y&&(y._prev=f),h._next=null,h._prev=null,h}const l=new Vw(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class Vw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Pg(){return new fd([new WC])}let fd=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Pg()),deps:[[i,new Fs,new bs]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new te(901,!1)}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:Pg}),i})();function Bw(){return new Og([new g_])}let Og=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Bw()),deps:[[i,new Fs,new bs]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new te(901,!1)}}return i.\u0275prov=Lt({token:i,providedIn:"root",factory:Bw}),i})();const $w=xg(null,"core",[]);let BA=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Pn(lf))},i.\u0275mod=Ga({type:i}),i.\u0275inj=Vn({}),i})();function Gw(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}function qw(i){const o=Vt(i);if(!o)return null;const a=new Pp(o);return{get selector(){return a.selector},get type(){return a.componentType},get inputs(){return a.inputs},get outputs(){return a.outputs},get ngContentSelectors(){return a.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(ft,Se,L)=>{L.d(Se,{Z:()=>Ze});var c=L(9058),B=L(4537),P=L(534),Q=L(7879);class ie{constructor(We,ke){this._delegate=We,this.firebase=ke,(0,P._addComponent)(We,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=We.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(We){this._delegate.automaticDataCollectionEnabled=We}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(We=>{this._delegate.checkDestroyed(),We()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(We,ke=P._DEFAULT_ENTRY_NAME){var vt;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(We);return!ut.isInitialized()&&"EXPLICIT"===(null===(vt=ut.getComponent())||void 0===vt?void 0:vt.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:ke})}_removeServiceInstance(We,ke=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(We).clearInstance(ke)}_addComponent(We){(0,P._addComponent)(this._delegate,We)}_addOrOverwriteComponent(We){(0,P._addOrOverwriteComponent)(this._delegate,We)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function ye(){const Ne=function Me(Ne){const We={},ke={__esModule:!0,initializeApp:function te(Oe,X={}){const nt=P.initializeApp(Oe,X);if((0,c.r3)(We,nt.name))return We[nt.name];const He=new Ne(nt,ke);return We[nt.name]=He,He},app:ut,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function se(Oe){const X=Oe.name,nt=X.replace("-compat","");if(P._registerComponent(Oe)&&"PUBLIC"===Oe.type){const He=(Xt=ut())=>{if("function"!=typeof Xt[nt])throw we.create("invalid-app-argument",{appName:X});return Xt[nt]()};void 0!==Oe.serviceProps&&(0,c.ZB)(He,Oe.serviceProps),ke[nt]=He,Ne.prototype[nt]=function(...Xt){return this._getService.bind(this,X).apply(this,Oe.multipleInstances?Xt:[])}}return"PUBLIC"===Oe.type?ke[nt]:null},removeApp:function vt(Oe){delete We[Oe]},useAsService:function me(Oe,X){return"serverAuth"===X?null:X},modularAPIs:P}};function ut(Oe){if(!(0,c.r3)(We,Oe=Oe||P._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Oe});return We[Oe]}return ke.default=ke,Object.defineProperty(ke,"apps",{get:function Ce(){return Object.keys(We).map(Oe=>We[Oe])}}),ut.App=Ne,ke}(ie);return Ne.INTERNAL=Object.assign(Object.assign({},Ne.INTERNAL),{createFirebaseNamespace:ye,extendNamespace:function We(ke){(0,c.ZB)(Ne,ke)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ne}(),G=new Q.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ne=self.firebase.SDK_VERSION;Ne&&Ne.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=H;!function Re(Ne){(0,P.registerVersion)("@firebase/app-compat","0.2.13",Ne)}()},534:(ft,Se,L)=>{L.r(Se),L.d(Se,{FirebaseError:()=>Q.ZR,SDK_VERSION:()=>Gi,_DEFAULT_ENTRY_NAME:()=>Ke,_addComponent:()=>rr,_addOrOverwriteComponent:()=>si,_apps:()=>bt,_clearComponents:()=>yn,_components:()=>Yt,_getProvider:()=>Qn,_registerComponent:()=>qt,_removeServiceInstance:()=>fs,deleteApp:()=>Cn,getApp:()=>Ar,getApps:()=>jn,initializeApp:()=>xs,onLog:()=>ir,registerVersion:()=>Nn,setLogLevel:()=>Pn});var c=L(5861),B=L(4537),P=L(7879),Q=L(9058);const ie=(pe,re)=>re.some(Le=>pe instanceof Le);let ge,we;const H=new WeakMap,G=new WeakMap,ne=new WeakMap,Fe=new WeakMap,Re=new WeakMap;let We={get(pe,re,Le){if(pe instanceof IDBTransaction){if("done"===re)return G.get(pe);if("objectStoreNames"===re)return pe.objectStoreNames||ne.get(pe);if("store"===re)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return te(pe[re])},set:(pe,re,Le)=>(pe[re]=Le,!0),has:(pe,re)=>pe instanceof IDBTransaction&&("done"===re||"store"===re)||re in pe};function ut(pe){return"function"==typeof pe?function vt(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...re){return pe.apply(Ce(this),re),te(H.get(this))}:function(...re){return te(pe.apply(Ce(this),re))}:function(re,...Le){const ht=pe.call(Ce(this),re,...Le);return ne.set(ht,re.sort?re.sort():[re]),te(ht)}}(pe):(pe instanceof IDBTransaction&&function Ne(pe){if(G.has(pe))return;const re=new Promise((Le,ht)=>{const Mt=()=>{pe.removeEventListener("complete",$t),pe.removeEventListener("error",tn),pe.removeEventListener("abort",tn)},$t=()=>{Le(),Mt()},tn=()=>{ht(pe.error||new DOMException("AbortError","AbortError")),Mt()};pe.addEventListener("complete",$t),pe.addEventListener("error",tn),pe.addEventListener("abort",tn)});G.set(pe,re)}(pe),ie(pe,function Me(){return ge||(ge=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,We):pe)}function te(pe){if(pe instanceof IDBRequest)return function Ze(pe){const re=new Promise((Le,ht)=>{const Mt=()=>{pe.removeEventListener("success",$t),pe.removeEventListener("error",tn)},$t=()=>{Le(te(pe.result)),Mt()},tn=()=>{ht(pe.error),Mt()};pe.addEventListener("success",$t),pe.addEventListener("error",tn)});return re.then(Le=>{Le instanceof IDBCursor&&H.set(Le,pe)}).catch(()=>{}),Re.set(re,pe),re}(pe);if(Fe.has(pe))return Fe.get(pe);const re=ut(pe);return re!==pe&&(Fe.set(pe,re),Re.set(re,pe)),re}const Ce=pe=>Re.get(pe),Oe=["get","getKey","getAll","getAllKeys","count"],X=["put","add","delete","clear"],nt=new Map;function He(pe,re){if(!(pe instanceof IDBDatabase)||re in pe||"string"!=typeof re)return;if(nt.get(re))return nt.get(re);const Le=re.replace(/FromIndex$/,""),ht=re!==Le,Mt=X.includes(Le);if(!(Le in(ht?IDBIndex:IDBObjectStore).prototype)||!Mt&&!Oe.includes(Le))return;const $t=function(){var tn=(0,c.Z)(function*(wr,...$n){const Ys=this.transaction(wr,Mt?"readwrite":"readonly");let So=Ys.store;return ht&&(So=So.index($n.shift())),(yield Promise.all([So[Le](...$n),Mt&&Ys.done]))[0]});return function($n){return tn.apply(this,arguments)}}();return nt.set(re,$t),$t}!function ke(pe){We=pe(We)}(pe=>({...pe,get:(re,Le,ht)=>He(re,Le)||pe.get(re,Le,ht),has:(re,Le)=>!!He(re,Le)||pe.has(re,Le)}));class Xt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function cr(pe){const re=pe.getComponent();return"VERSION"===re?.type}(Le)){const ht=Le.getImmediate();return`${ht.library}/${ht.version}`}return null}).filter(Le=>Le).join(" ")}}const qr="@firebase/app",bn=new P.Yd("@firebase/app"),Ke="[DEFAULT]",lt={[qr]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},bt=new Map,Yt=new Map;function rr(pe,re){try{pe.container.addComponent(re)}catch(Le){bn.debug(`Component ${re.name} failed to register with FirebaseApp ${pe.name}`,Le)}}function si(pe,re){pe.container.addOrOverwriteComponent(re)}function qt(pe){const re=pe.name;if(Yt.has(re))return bn.debug(`There were multiple attempts to register component ${re}.`),!1;Yt.set(re,pe);for(const Le of bt.values())rr(Le,pe);return!0}function Qn(pe,re){const Le=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),pe.container.getProvider(re)}function fs(pe,re,Le=Ke){Qn(pe,re).clearInstance(Le)}function yn(){Yt.clear()}const kt=new Q.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Un{constructor(re,Le,ht){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=ht,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}const Gi="9.23.0";function xs(pe,re={}){let Le=pe;"object"!=typeof re&&(re={name:re});const ht=Object.assign({name:Ke,automaticDataCollectionEnabled:!1},re),Mt=ht.name;if("string"!=typeof Mt||!Mt)throw kt.create("bad-app-name",{appName:String(Mt)});if(Le||(Le=(0,Q.aH)()),!Le)throw kt.create("no-options");const $t=bt.get(Mt);if($t){if((0,Q.vZ)(Le,$t.options)&&(0,Q.vZ)(ht,$t.config))return $t;throw kt.create("duplicate-app",{appName:Mt})}const tn=new B.H0(Mt);for(const $n of Yt.values())tn.addComponent($n);const wr=new Un(Le,ht,tn);return bt.set(Mt,wr),wr}function Ar(pe=Ke){const re=bt.get(pe);if(!re&&pe===Ke&&(0,Q.aH)())return xs();if(!re)throw kt.create("no-app",{appName:pe});return re}function jn(){return Array.from(bt.values())}function Cn(pe){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,c.Z)(function*(pe){const re=pe.name;bt.has(re)&&(bt.delete(re),yield Promise.all(pe.container.getProviders().map(Le=>Le.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function Nn(pe,re,Le){var ht;let Mt=null!==(ht=lt[pe])&&void 0!==ht?ht:pe;Le&&(Mt+=`-${Le}`);const $t=Mt.match(/\s|\//),tn=re.match(/\s|\//);if($t||tn){const wr=[`Unable to register library "${Mt}" with version "${re}":`];return $t&&wr.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),$t&&tn&&wr.push("and"),tn&&wr.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void bn.warn(wr.join(" "))}qt(new B.wA(`${Mt}-version`,()=>({library:Mt,version:re}),"VERSION"))}function ir(pe,re){if(null!==pe&&"function"!=typeof pe)throw kt.create("invalid-log-argument");(0,P.Am)(pe,re)}function Pn(pe){(0,P.Ub)(pe)}const Wr="firebase-heartbeat-database",Qt=1,z="firebase-heartbeat-store";let $=null;function k(){return $||($=function se(pe,re,{blocked:Le,upgrade:ht,blocking:Mt,terminated:$t}={}){const tn=indexedDB.open(pe,re),wr=te(tn);return ht&&tn.addEventListener("upgradeneeded",$n=>{ht(te(tn.result),$n.oldVersion,$n.newVersion,te(tn.transaction),$n)}),Le&&tn.addEventListener("blocked",$n=>Le($n.oldVersion,$n.newVersion,$n)),wr.then($n=>{$t&&$n.addEventListener("close",()=>$t()),Mt&&$n.addEventListener("versionchange",Ys=>Mt(Ys.oldVersion,Ys.newVersion,Ys))}).catch(()=>{}),wr}(Wr,Qt,{upgrade:(pe,re)=>{0===re&&pe.createObjectStore(z)}}).catch(pe=>{throw kt.create("idb-open",{originalErrorMessage:pe.message})})),$}function N(){return(N=(0,c.Z)(function*(pe){try{return yield(yield k()).transaction(z).objectStore(z).get(Ge(pe))}catch(re){if(re instanceof Q.ZR)bn.warn(re.message);else{const Le=kt.create("idb-get",{originalErrorMessage:re?.message});bn.warn(Le.message)}}})).apply(this,arguments)}function J(pe,re){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,c.Z)(function*(pe,re){try{const ht=(yield k()).transaction(z,"readwrite");yield ht.objectStore(z).put(re,Ge(pe)),yield ht.done}catch(Le){if(Le instanceof Q.ZR)bn.warn(Le.message);else{const ht=kt.create("idb-set",{originalErrorMessage:Le?.message});bn.warn(ht.message)}}})).apply(this,arguments)}function Ge(pe){return`${pe.name}!${pe.options.appId}`}class dt{constructor(re){this.container=re,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new Ut(Le),this._heartbeatsCachePromise=this._storage.read().then(ht=>(this._heartbeatsCache=ht,ht))}triggerHeartbeat(){var re=this;return(0,c.Z)(function*(){const ht=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=St();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!re._heartbeatsCache.heartbeats.some($t=>$t.date===Mt))return re._heartbeatsCache.heartbeats.push({date:Mt,agent:ht}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter($t=>{const tn=new Date($t.date).valueOf();return Date.now()-tn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,c.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Le=St(),{heartbeatsToSend:ht,unsentEntries:Mt}=function vn(pe,re=1024){const Le=[];let ht=pe.slice();for(const Mt of pe){const $t=Le.find(tn=>tn.agent===Mt.agent);if($t){if($t.dates.push(Mt.date),vr(Le)>re){$t.dates.pop();break}}else if(Le.push({agent:Mt.agent,dates:[Mt.date]}),vr(Le)>re){Le.pop();break}ht=ht.slice(1)}return{heartbeatsToSend:Le,unsentEntries:ht}}(re._heartbeatsCache.heartbeats),$t=(0,Q.L)(JSON.stringify({version:2,heartbeats:ht}));return re._heartbeatsCache.lastSentHeartbeatDate=Le,Mt.length>0?(re._heartbeatsCache.heartbeats=Mt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),$t})()}}function St(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,Q.hl)()&&(0,Q.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,c.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function F(pe){return N.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Le=this;return(0,c.Z)(function*(){var ht;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(ht=re.lastSentHeartbeatDate)&&void 0!==ht?ht:$t.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Le=this;return(0,c.Z)(function*(){var ht;if(yield Le._canUseIndexedDBPromise){const $t=yield Le.read();return J(Le.app,{lastSentHeartbeatDate:null!==(ht=re.lastSentHeartbeatDate)&&void 0!==ht?ht:$t.lastSentHeartbeatDate,heartbeats:[...$t.heartbeats,...re.heartbeats]})}})()}}function vr(pe){return(0,Q.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function xr(pe){qt(new B.wA("platform-logger",re=>new Xt(re),"PRIVATE")),qt(new B.wA("heartbeat",re=>new dt(re),"PRIVATE")),Nn(qr,"0.9.13",pe),Nn(qr,"0.9.13","esm2017"),Nn("fire-js","")}("")},4537:(ft,Se,L)=>{L.d(Se,{H0:()=>Me,wA:()=>P});var c=L(5861),B=L(9058);class P{constructor(H,G,ne){this.name=H,this.instanceFactory=G,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(H){return this.instantiationMode=H,this}setMultipleInstances(H){return this.multipleInstances=H,this}setServiceProps(H){return this.serviceProps=H,this}setInstanceCreatedCallback(H){return this.onInstanceCreated=H,this}}const Q="[DEFAULT]";class ie{constructor(H,G){this.name=H,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(H){const G=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(G)){const ne=new B.BH;if(this.instancesDeferred.set(G,ne),this.isInitialized(G)||this.shouldAutoInitialize())try{const Fe=this.getOrInitializeService({instanceIdentifier:G});Fe&&ne.resolve(Fe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(H){var G;const ne=this.normalizeInstanceIdentifier(H?.identifier),Fe=null!==(G=H?.optional)&&void 0!==G&&G;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(Fe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(Re){if(Fe)return null;throw Re}}getComponent(){return this.component}setComponent(H){if(H.name!==this.name)throw Error(`Mismatching Component ${H.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=H,this.shouldAutoInitialize()){if(function we(ye){return"EAGER"===ye.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:Q})}catch{}for(const[G,ne]of this.instancesDeferred.entries()){const Fe=this.normalizeInstanceIdentifier(G);try{const Re=this.getOrInitializeService({instanceIdentifier:Fe});ne.resolve(Re)}catch{}}}}clearInstance(H=Q){this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)}delete(){var H=this;return(0,c.Z)(function*(){const G=Array.from(H.instances.values());yield Promise.all([...G.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...G.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(H=Q){return this.instances.has(H)}getOptions(H=Q){return this.instancesOptions.get(H)||{}}initialize(H={}){const{options:G={}}=H,ne=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Fe=this.getOrInitializeService({instanceIdentifier:ne,options:G});for(const[Re,Ze]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(Re)&&Ze.resolve(Fe);return Fe}onInit(H,G){var ne;const Fe=this.normalizeInstanceIdentifier(G),Re=null!==(ne=this.onInitCallbacks.get(Fe))&&void 0!==ne?ne:new Set;Re.add(H),this.onInitCallbacks.set(Fe,Re);const Ze=this.instances.get(Fe);return Ze&&H(Ze,Fe),()=>{Re.delete(H)}}invokeOnInitCallbacks(H,G){const ne=this.onInitCallbacks.get(G);if(ne)for(const Fe of ne)try{Fe(H,G)}catch{}}getOrInitializeService({instanceIdentifier:H,options:G={}}){let ne=this.instances.get(H);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(ye=H,ye===Q?void 0:ye),options:G}),this.instances.set(H,ne),this.instancesOptions.set(H,G),this.invokeOnInitCallbacks(ne,H),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,H,ne)}catch{}var ye;return ne||null}normalizeInstanceIdentifier(H=Q){return this.component?this.component.multipleInstances?H:Q:H}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(H){this.name=H,this.providers=new Map}addComponent(H){const G=this.getProvider(H.name);if(G.isComponentSet())throw new Error(`Component ${H.name} has already been registered with ${this.name}`);G.setComponent(H)}addOrOverwriteComponent(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)}getProvider(H){if(this.providers.has(H))return this.providers.get(H);const G=new ie(H,this);return this.providers.set(H,G),G}getProviders(){return Array.from(this.providers.values())}}},7879:(ft,Se,L)=>{L.d(Se,{Am:()=>ye,Ub:()=>Me,Yd:()=>we,in:()=>B});const c=[];var B=(()=>((B=B||{})[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",B))();const P={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},Q=B.INFO,ie={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},ge=(H,G,...ne)=>{if(G<H.logLevel)return;const Fe=(new Date).toISOString(),Re=ie[G];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[Re](`[${Fe}]  ${H.name}:`,...ne)};class we{constructor(G){this.name=G,this._logLevel=Q,this._logHandler=ge,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in B))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?P[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...G),this._logHandler(this,B.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...G),this._logHandler(this,B.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,B.INFO,...G),this._logHandler(this,B.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,B.WARN,...G),this._logHandler(this,B.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...G),this._logHandler(this,B.ERROR,...G)}}function Me(H){c.forEach(G=>{G.setLogLevel(H)})}function ye(H,G){for(const ne of c){let Fe=null;G&&G.level&&(Fe=P[G.level]),ne.userLogHandler=null===H?null:(Re,Ze,...Ne)=>{const We=Ne.map(ke=>{if(null==ke)return null;if("string"==typeof ke)return ke;if("number"==typeof ke||"boolean"==typeof ke)return ke.toString();if(ke instanceof Error)return ke.message;try{return JSON.stringify(ke)}catch{return null}}).filter(ke=>ke).join(" ");Ze>=(Fe??Re.logLevel)&&H({level:B[Ze].toLowerCase(),message:We,args:Ne,type:Re.name})}}}},3182:(ft,Se,L)=>{L.d(Se,{C6:()=>c.getApps,KN:()=>c.registerVersion,Mq:()=>c.getApp,ZF:()=>c.initializeApp});var c=L(534);(0,c.registerVersion)("firebase","9.23.0","app")},7142:(ft,Se,L)=>{L.d(Se,{Z:()=>c.Z});var c=L(3106);c.Z.registerVersion("firebase","9.23.0","app-compat")},6365:(ft,Se,L)=>{L.r(Se);var c=L(5861),B=L(3106),P=L(6878),Q=L(9058),we=(L(534),L(7879),L(4537));function Me(){return window}function G(){return G=(0,c.Z)(function*(k,F,N){var J;const{BuildInfo:Ee}=Me();(0,P.as)(F.sessionId,"AuthEvent did not contain a session ID");const Ge=yield function ke(k){return vt.apply(this,arguments)}(F.sessionId),wt={};return(0,P.at)()?wt.ibi=Ee.packageName:(0,P.au)()?wt.apn=Ee.packageName:(0,P.av)(k,"operation-not-supported-in-this-environment"),Ee.displayName&&(wt.appDisplayName=Ee.displayName),wt.sessionId=Ge,(0,P.aw)(k,N,F.type,void 0,null!==(J=F.eventId)&&void 0!==J?J:void 0,wt)}),G.apply(this,arguments)}function Fe(){return(Fe=(0,c.Z)(function*(k){const{BuildInfo:F}=Me(),N={};(0,P.at)()?N.iosBundleId=F.packageName:(0,P.au)()?N.androidPackageName=F.packageName:(0,P.av)(k,"operation-not-supported-in-this-environment"),yield(0,P.ax)(k,N)})).apply(this,arguments)}function Ne(){return(Ne=(0,c.Z)(function*(k,F,N){const{cordova:J}=Me();let Ee=()=>{};try{yield new Promise((Ge,wt)=>{let yt=null;function dt(){var Ut;Ge();const vr=null===(Ut=J.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof vr&&vr(),"function"==typeof N?.close&&N.close()}function St(){yt||(yt=window.setTimeout(()=>{wt((0,P.az)(k,"redirect-cancelled-by-user"))},2e3))}function vn(){"visible"===document?.visibilityState&&St()}F.addPassiveListener(dt),document.addEventListener("resume",St,!1),(0,P.au)()&&document.addEventListener("visibilitychange",vn,!1),Ee=()=>{F.removePassiveListener(dt),document.removeEventListener("resume",St,!1),document.removeEventListener("visibilitychange",vn,!1),yt&&window.clearTimeout(yt)}})}finally{Ee()}})).apply(this,arguments)}function vt(){return(vt=(0,c.Z)(function*(k){const F=function ut(k){if((0,P.as)(/[0-9a-zA-Z]+/.test(k),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(k);const F=new ArrayBuffer(k.length),N=new Uint8Array(F);for(let J=0;J<k.length;J++)N[J]=k.charCodeAt(J);return N}(k),N=yield crypto.subtle.digest("SHA-256",F);return Array.from(new Uint8Array(N)).map(Ee=>Ee.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ce extends P.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(F=>{this.resolveInialized=F})}addPassiveListener(F){this.passiveListeners.add(F)}removePassiveListener(F){this.passiveListeners.delete(F)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(F){return this.resolveInialized(),this.passiveListeners.forEach(N=>N(F)),super.onEvent(F)}initialized(){var F=this;return(0,c.Z)(function*(){yield F.initPromise})()}}function Oe(k){return X.apply(this,arguments)}function X(){return(X=(0,c.Z)(function*(k){const F=yield Xt()._get(cr(k));return F&&(yield Xt()._remove(cr(k))),F})).apply(this,arguments)}function He(){const k=[];for(let N=0;N<20;N++){const J=Math.floor(62*Math.random());k.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(J))}return k.join("")}function Xt(){return(0,P.aC)(P.b)}function cr(k){return(0,P.aD)("authEvent",k.config.apiKey,k.name)}function bn(k){if(!k?.includes("?"))return{};const[F,...N]=k.split("?");return(0,Q.zd)(N.join("?"))}const ce=class As{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(F){var N=this;return(0,c.Z)(function*(){const J=F._key();let Ee=N.eventManagers.get(J);return Ee||(Ee=new Ce(F),N.eventManagers.set(J,Ee),N.attachCallbackListeners(F,Ee)),Ee})()}_openPopup(F){(0,P.av)(F,"operation-not-supported-in-this-environment")}_openRedirect(F,N,J,Ee){var Ge=this;return(0,c.Z)(function*(){!function We(k){var F,N,J,Ee,Ge,wt,yt,dt,St,vn;const Ut=Me();(0,P.aA)("function"==typeof(null===(F=Ut?.universalLinks)||void 0===F?void 0:F.subscribe),k,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.aA)(typeof(null===(N=Ut?.BuildInfo)||void 0===N?void 0:N.packageName)<"u",k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.aA)("function"==typeof(null===(Ge=null===(Ee=null===(J=Ut?.cordova)||void 0===J?void 0:J.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Ge?void 0:Ge.openUrl),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(dt=null===(yt=null===(wt=Ut?.cordova)||void 0===wt?void 0:wt.plugins)||void 0===yt?void 0:yt.browsertab)||void 0===dt?void 0:dt.isAvailable),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.aA)("function"==typeof(null===(vn=null===(St=Ut?.cordova)||void 0===St?void 0:St.InAppBrowser)||void 0===vn?void 0:vn.open),k,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(F);const wt=yield Ge._initialize(F);yield wt.initialized(),wt.resetRedirect(),(0,P.aG)(),yield Ge._originValidation(F);const yt=function se(k,F,N=null){return{type:F,eventId:N,urlResponse:null,sessionId:He(),postBody:null,tenantId:k.tenantId,error:(0,P.az)(k,"no-auth-event")}}(F,J,Ee);yield function me(k,F){return Xt()._set(cr(k),F)}(F,yt);const dt=yield function H(k,F,N){return G.apply(this,arguments)}(F,yt,N),St=yield function Re(k){const{cordova:F}=Me();return new Promise(N=>{F.plugins.browsertab.isAvailable(J=>{let Ee=null;J?F.plugins.browsertab.openUrl(k):Ee=F.InAppBrowser.open(k,(0,P.ay)()?"_blank":"_system","location=yes"),N(Ee)})})}(dt);return function Ze(k,F,N){return Ne.apply(this,arguments)}(F,wt,St)})()}_isIframeWebStorageSupported(F,N){throw new Error("Method not implemented.")}_originValidation(F){const N=F._key();return this.originValidationPromises[N]||(this.originValidationPromises[N]=function ne(k){return Fe.apply(this,arguments)}(F)),this.originValidationPromises[N]}attachCallbackListeners(F,N){const{universalLinks:J,handleOpenURL:Ee,BuildInfo:Ge}=Me(),wt=setTimeout((0,c.Z)(function*(){yield Oe(F),N.onEvent(he())}),500),yt=function(){var vn=(0,c.Z)(function*(Ut){clearTimeout(wt);const vr=yield Oe(F);let xr=null;vr&&Ut?.url&&(xr=function nt(k,F){var N,J;const Ee=function ds(k){const F=bn(k),N=F.link?decodeURIComponent(F.link):void 0,J=bn(N).link,Ee=F.deep_link_id?decodeURIComponent(F.deep_link_id):void 0;return bn(Ee).link||Ee||J||N||k}(F);if(Ee.includes("/__/auth/callback")){const Ge=bn(Ee),wt=Ge.firebaseError?function qr(k){try{return JSON.parse(k)}catch{return null}}(decodeURIComponent(Ge.firebaseError)):null,yt=null===(J=null===(N=wt?.code)||void 0===N?void 0:N.split("auth/"))||void 0===J?void 0:J[1],dt=yt?(0,P.az)(yt):null;return dt?{type:k.type,eventId:k.eventId,tenantId:k.tenantId,error:dt,urlResponse:null,sessionId:null,postBody:null}:{type:k.type,eventId:k.eventId,tenantId:k.tenantId,sessionId:k.sessionId,urlResponse:Ee,postBody:null}}return null}(vr,Ut.url)),N.onEvent(xr||he())});return function(vr){return vn.apply(this,arguments)}}();typeof J<"u"&&"function"==typeof J.subscribe&&J.subscribe(null,yt);const dt=Ee,St=`${Ge.packageName.toLowerCase()}://`;Me().handleOpenURL=function(){var vn=(0,c.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(St)&&yt({url:Ut}),"function"==typeof dt)try{dt(Ut)}catch(vr){console.error(vr)}});return function(Ut){return vn.apply(this,arguments)}}()}};function he(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.az)("no-auth-event")}}function Je(){var k;return(null===(k=self?.location)||void 0===k?void 0:k.protocol)||null}function ln(k=(0,Q.z$)()){return!("file:"!==Je()&&"ionic:"!==Je()&&"capacitor:"!==Je()||!k.toLowerCase().match(/iphone|ipad|ipod|android/))}function Vn(){try{const k=self.localStorage,F=P.aL();if(k)return k.setItem(F,"1"),k.removeItem(F),!function dn(k=(0,Q.z$)()){return function rn(){return(0,Q.w1)()&&11===document?.documentMode}()||function Lt(k=(0,Q.z$)()){return/Edge\/\d+/.test(k)}(k)}()||(0,Q.hl)()}catch{return Ln()&&(0,Q.hl)()}return!1}function Ln(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function an(){return(function st(){return"http:"===Je()||"https:"===Je()}()||(0,Q.ru)()||ln())&&!function Dt(){return(0,Q.b$)()||(0,Q.UG)()}()&&Vn()&&!Ln()}function nr(){return ln()&&typeof document<"u"}function zi(){return(zi=(0,c.Z)(function*(){return!!nr()&&new Promise(k=>{const F=setTimeout(()=>{k(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(F),k(!0)})})})).apply(this,arguments)}const Bn={LOCAL:"local",NONE:"none",SESSION:"session"},Zr=P.aA,hs="persistence";function lt(k){return bt.apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(k){yield k._initializationPromise;const F=rr(),N=P.aD(hs,k.config.apiKey,k.name);F&&F.setItem(N,k._getPersistence())})).apply(this,arguments)}function rr(){var k;try{return(null===(k=function Sr(){return typeof window<"u"?window:null}())||void 0===k?void 0:k.sessionStorage)||null}catch{return null}}const si=P.aA;class qt{constructor(){this.browserResolver=P.aC(P.k),this.cordovaResolver=P.aC(ce),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aE,this._overrideRedirectResult=P.aF}_initialize(F){var N=this;return(0,c.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._initialize(F)})()}_openPopup(F,N,J,Ee){var Ge=this;return(0,c.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openPopup(F,N,J,Ee)})()}_openRedirect(F,N,J,Ee){var Ge=this;return(0,c.Z)(function*(){return yield Ge.selectUnderlyingResolver(),Ge.assertedUnderlyingResolver._openRedirect(F,N,J,Ee)})()}_isIframeWebStorageSupported(F,N){this.assertedUnderlyingResolver._isIframeWebStorageSupported(F,N)}_originValidation(F){return this.assertedUnderlyingResolver._originValidation(F)}get _shouldInitProactively(){return nr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return si(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var F=this;return(0,c.Z)(function*(){if(F.underlyingResolver)return;const N=yield function wi(){return zi.apply(this,arguments)}();F.underlyingResolver=N?F.cordovaResolver:F.browserResolver})()}}function Qn(k){return k.unwrap()}function yn(k){return kt(k)}function kt(k){const{_tokenResponse:F}=k instanceof Q.ZR?k.customData:k;if(!F)return null;if(!(k instanceof Q.ZR)&&"temporaryProof"in F&&"phoneNumber"in F)return P.P.credentialFromResult(k);const N=F.providerId;if(!N||N===P.p.PASSWORD)return null;let J;switch(N){case P.p.GOOGLE:J=P.V;break;case P.p.FACEBOOK:J=P.U;break;case P.p.GITHUB:J=P.W;break;case P.p.TWITTER:J=P.Z;break;default:const{oauthIdToken:Ee,oauthAccessToken:Ge,oauthTokenSecret:wt,pendingToken:yt,nonce:dt}=F;return Ge||wt||Ee||yt?yt?N.startsWith("saml.")?P.aO._create(N,yt):P.L._fromParams({providerId:N,signInMethod:N,pendingToken:yt,idToken:Ee,accessToken:Ge}):new P.X(N).credential({idToken:Ee,accessToken:Ge,rawNonce:dt}):null}return k instanceof Q.ZR?J.credentialFromError(k):J.credentialFromResult(k)}function Un(k,F){return F.catch(N=>{throw N instanceof Q.ZR&&function Lr(k,F){var N;const J=null===(N=F.customData)||void 0===N?void 0:N._tokenResponse;if("auth/multi-factor-auth-required"===F?.code)F.resolver=new Ar(k,P.aq(k,F));else if(J){const Ee=kt(F),Ge=F;Ee&&(Ge.credential=Ee,Ge.tenantId=J.tenantId||void 0,Ge.email=J.email||void 0,Ge.phoneNumber=J.phoneNumber||void 0)}}(k,N),N}).then(N=>{const Ee=N.user;return{operationType:N.operationType,credential:yn(N),additionalUserInfo:P.ao(N),user:jn.getOrCreate(Ee)}})}function Gi(k,F){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(k,F){const N=yield F;return{verificationId:N.verificationId,confirm:J=>Un(k,N.confirm(J))}})).apply(this,arguments)}class Ar{constructor(F,N){this.resolver=N,this.auth=function fs(k){return k.wrapped()}(F)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(F){return Un(Qn(this.auth),this.resolver.resolveSignIn(F))}}class jn{constructor(F){this._delegate=F,this.multiFactor=P.ar(F)}static getOrCreate(F){return jn.USER_MAP.has(F)||jn.USER_MAP.set(F,new jn(F)),jn.USER_MAP.get(F)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(F){return this._delegate.getIdTokenResult(F)}getIdToken(F){return this._delegate.getIdToken(F)}linkAndRetrieveDataWithCredential(F){return this.linkWithCredential(F)}linkWithCredential(F){var N=this;return(0,c.Z)(function*(){return Un(N.auth,P.a0(N._delegate,F))})()}linkWithPhoneNumber(F,N){var J=this;return(0,c.Z)(function*(){return Gi(J.auth,P.l(J._delegate,F,N))})()}linkWithPopup(F){var N=this;return(0,c.Z)(function*(){return Un(N.auth,P.d(N._delegate,F,qt))})()}linkWithRedirect(F){var N=this;return(0,c.Z)(function*(){return yield lt(P.aH(N.auth)),P.g(N._delegate,F,qt)})()}reauthenticateAndRetrieveDataWithCredential(F){return this.reauthenticateWithCredential(F)}reauthenticateWithCredential(F){var N=this;return(0,c.Z)(function*(){return Un(N.auth,P.a1(N._delegate,F))})()}reauthenticateWithPhoneNumber(F,N){return Gi(this.auth,P.r(this._delegate,F,N))}reauthenticateWithPopup(F){return Un(this.auth,P.e(this._delegate,F,qt))}reauthenticateWithRedirect(F){var N=this;return(0,c.Z)(function*(){return yield lt(P.aH(N.auth)),P.h(N._delegate,F,qt)})()}sendEmailVerification(F){return P.ae(this._delegate,F)}unlink(F){var N=this;return(0,c.Z)(function*(){return yield P.an(N._delegate,F),N})()}updateEmail(F){return P.aj(this._delegate,F)}updatePassword(F){return P.ak(this._delegate,F)}updatePhoneNumber(F){return P.u(this._delegate,F)}updateProfile(F){return P.ai(this._delegate,F)}verifyBeforeUpdateEmail(F,N){return P.af(this._delegate,F,N)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}jn.USER_MAP=new WeakMap;const Cn=P.aA;let Jn=(()=>{class k{constructor(N,J){if(this.app=N,J.isInitialized())return this._delegate=J.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ee}=N.options;Cn(Ee,"invalid-api-key",{appName:N.name}),Cn(Ee,"invalid-api-key",{appName:N.name});const Ge=typeof window<"u"?qt:void 0;this._delegate=J.initialize({options:{persistence:ir(Ee,N.name),popupRedirectResolver:Ge}}),this._delegate._updateErrorMap(P.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?jn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(N){this._delegate.languageCode=N}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(N){this._delegate.tenantId=N}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(N,J){P.I(this._delegate,N,J)}applyActionCode(N){return P.a5(this._delegate,N)}checkActionCode(N){return P.a6(this._delegate,N)}confirmPasswordReset(N,J){return P.a4(this._delegate,N,J)}createUserWithEmailAndPassword(N,J){var Ee=this;return(0,c.Z)(function*(){return Un(Ee._delegate,P.a8(Ee._delegate,N,J))})()}fetchProvidersForEmail(N){return this.fetchSignInMethodsForEmail(N)}fetchSignInMethodsForEmail(N){return P.ad(this._delegate,N)}isSignInWithEmailLink(N){return P.ab(this._delegate,N)}getRedirectResult(){var N=this;return(0,c.Z)(function*(){Cn(an(),N._delegate,"operation-not-supported-in-this-environment");const J=yield P.j(N._delegate,qt);return J?Un(N._delegate,Promise.resolve(J)):{credential:null,user:null}})()}addFrameworkForLogging(N){!function Ie(k,F){(0,P.aH)(k)._logFramework(F)}(this._delegate,N)}onAuthStateChanged(N,J,Ee){const{next:Ge,error:wt,complete:yt}=Nn(N,J,Ee);return this._delegate.onAuthStateChanged(Ge,wt,yt)}onIdTokenChanged(N,J,Ee){const{next:Ge,error:wt,complete:yt}=Nn(N,J,Ee);return this._delegate.onIdTokenChanged(Ge,wt,yt)}sendSignInLinkToEmail(N,J){return P.aa(this._delegate,N,J)}sendPasswordResetEmail(N,J){return P.a3(this._delegate,N,J||void 0)}setPersistence(N){var J=this;return(0,c.Z)(function*(){let Ee;switch(function Ke(k,F){Zr(Object.values(Bn).includes(F),k,"invalid-persistence-type"),(0,Q.b$)()?Zr(F!==Bn.SESSION,k,"unsupported-persistence-type"):(0,Q.UG)()?Zr(F===Bn.NONE,k,"unsupported-persistence-type"):Ln()?Zr(F===Bn.NONE||F===Bn.LOCAL&&(0,Q.hl)(),k,"unsupported-persistence-type"):Zr(F===Bn.NONE||Vn(),k,"unsupported-persistence-type")}(J._delegate,N),N){case Bn.SESSION:Ee=P.a;break;case Bn.LOCAL:Ee=(yield P.aC(P.i)._isAvailable())?P.i:P.b;break;case Bn.NONE:Ee=P.N;break;default:return P.av("argument-error",{appName:J._delegate.name})}return J._delegate.setPersistence(Ee)})()}signInAndRetrieveDataWithCredential(N){return this.signInWithCredential(N)}signInAnonymously(){return Un(this._delegate,P._(this._delegate))}signInWithCredential(N){return Un(this._delegate,P.$(this._delegate,N))}signInWithCustomToken(N){return Un(this._delegate,P.a2(this._delegate,N))}signInWithEmailAndPassword(N,J){return Un(this._delegate,P.a9(this._delegate,N,J))}signInWithEmailLink(N,J){return Un(this._delegate,P.ac(this._delegate,N,J))}signInWithPhoneNumber(N,J){return Gi(this._delegate,P.s(this._delegate,N,J))}signInWithPopup(N){var J=this;return(0,c.Z)(function*(){return Cn(an(),J._delegate,"operation-not-supported-in-this-environment"),Un(J._delegate,P.c(J._delegate,N,qt))})()}signInWithRedirect(N){var J=this;return(0,c.Z)(function*(){return Cn(an(),J._delegate,"operation-not-supported-in-this-environment"),yield lt(J._delegate),P.f(J._delegate,N,qt)})()}updateCurrentUser(N){return this._delegate.updateCurrentUser(N)}verifyPasswordResetCode(N){return P.a7(this._delegate,N)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return k.Persistence=Bn,k})();function Nn(k,F,N){let J=k;"function"!=typeof k&&({next:J,error:F,complete:N}=k);const Ee=J;return{next:wt=>Ee(wt&&jn.getOrCreate(wt)),error:F,complete:N}}function ir(k,F){const N=function Yt(k,F){const N=rr();if(!N)return[];const J=P.aD(hs,k,F);switch(N.getItem(J)){case Bn.NONE:return[P.N];case Bn.LOCAL:return[P.i,P.a];case Bn.SESSION:return[P.a];default:return[]}}(k,F);if(typeof self<"u"&&!N.includes(P.i)&&N.push(P.i),typeof window<"u")for(const J of[P.b,P.a])N.includes(J)||N.push(J);return N.includes(P.N)||N.push(P.N),N}class Pn{constructor(){this.providerId="phone",this._delegate=new P.P(Qn(B.Z.auth()))}static credential(F,N){return P.P.credential(F,N)}verifyPhoneNumber(F,N){return this._delegate.verifyPhoneNumber(F,N)}unwrap(){return this._delegate}}Pn.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,Pn.PROVIDER_ID=P.P.PROVIDER_ID;const Wr=P.aA;class Qt{constructor(F,N,J=B.Z.app()){var Ee;Wr(null===(Ee=J.options)||void 0===Ee?void 0:Ee.apiKey,"invalid-api-key",{appName:J.name}),this._delegate=new P.R(F,N,J.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $(k){k.INTERNAL.registerComponent(new we.wA("auth-compat",F=>{const N=F.getProvider("app-compat").getImmediate(),J=F.getProvider("auth");return new Jn(N,J)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.Q,FacebookAuthProvider:P.U,GithubAuthProvider:P.W,GoogleAuthProvider:P.V,OAuthProvider:P.X,SAMLAuthProvider:P.Y,PhoneAuthProvider:Pn,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:Qt,TwitterAuthProvider:P.Z,Auth:Jn,AuthCredential:P.J,Error:Q.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),k.registerVersion("@firebase/auth-compat","0.4.2")}(B.Z)},5861:(ft,Se,L)=>{function c(P,Q,ie,ge,we,Me,ye){try{var H=P[Me](ye),G=H.value}catch(ne){return void ie(ne)}H.done?Q(G):Promise.resolve(G).then(ge,we)}function B(P){return function(){var Q=this,ie=arguments;return new Promise(function(ge,we){var Me=P.apply(Q,ie);function ye(G){c(Me,ge,we,ye,H,"next",G)}function H(G){c(Me,ge,we,ye,H,"throw",G)}ye(void 0)})}}L.d(Se,{Z:()=>B})},7582:(ft,Se,L)=>{function Q(ce,he){var Ie={};for(var ue in ce)Object.prototype.hasOwnProperty.call(ce,ue)&&he.indexOf(ue)<0&&(Ie[ue]=ce[ue]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var De=0;for(ue=Object.getOwnPropertySymbols(ce);De<ue.length;De++)he.indexOf(ue[De])<0&&Object.prototype.propertyIsEnumerable.call(ce,ue[De])&&(Ie[ue[De]]=ce[ue[De]])}return Ie}function ne(ce,he,Ie,ue){return new(Ie||(Ie=Promise))(function(Be,Je){function st(rn){try{Dt(ue.next(rn))}catch(Lt){Je(Lt)}}function ln(rn){try{Dt(ue.throw(rn))}catch(Lt){Je(Lt)}}function Dt(rn){rn.done?Be(rn.value):function De(Be){return Be instanceof Ie?Be:new Ie(function(Je){Je(Be)})}(rn.value).then(st,ln)}Dt((ue=ue.apply(ce,he||[])).next())})}function te(ce){return this instanceof te?(this.v=ce,this):new te(ce)}function Ce(ce,he,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,ue=Ie.apply(ce,he||[]),Be=[];return De={},Je("next"),Je("throw"),Je("return"),De[Symbol.asyncIterator]=function(){return this},De;function Je(dn){ue[dn]&&(De[dn]=function(Vn){return new Promise(function(Ln,an){Be.push([dn,Vn,Ln,an])>1||st(dn,Vn)})})}function st(dn,Vn){try{!function ln(dn){dn.value instanceof te?Promise.resolve(dn.value.v).then(Dt,rn):Lt(Be[0][2],dn)}(ue[dn](Vn))}catch(Ln){Lt(Be[0][3],Ln)}}function Dt(dn){st("next",dn)}function rn(dn){st("throw",dn)}function Lt(dn,Vn){dn(Vn),Be.shift(),Be.length&&st(Be[0][0],Be[0][1])}}function me(ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,he=ce[Symbol.asyncIterator];return he?he.call(ce):(ce=function Ne(ce){var he="function"==typeof Symbol&&Symbol.iterator,Ie=he&&ce[he],ue=0;if(Ie)return Ie.call(ce);if(ce&&"number"==typeof ce.length)return{next:function(){return ce&&ue>=ce.length&&(ce=void 0),{value:ce&&ce[ue++],done:!ce}}};throw new TypeError(he?"Object is not iterable.":"Symbol.iterator is not defined.")}(ce),Ie={},ue("next"),ue("throw"),ue("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function ue(Be){Ie[Be]=ce[Be]&&function(Je){return new Promise(function(st,ln){!function De(Be,Je,st,ln){Promise.resolve(ln).then(function(Dt){Be({value:Dt,done:st})},Je)}(st,ln,(Je=ce[Be](Je)).done,Je.value)})}}}L.d(Se,{FC:()=>Ce,KL:()=>me,_T:()=>Q,mG:()=>ne,qq:()=>te}),"function"==typeof SuppressedError&&SuppressedError}},ft=>{ft(ft.s=6974)}]);